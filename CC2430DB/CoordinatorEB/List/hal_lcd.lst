###############################################################################
#                                                                             #
# IAR 8051 C/C++ Compiler V7.30B/W32                    12/Mar/2013  15:45:31 #
# Copyright 2004-2007 IAR Systems. All rights reserved.                       #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data                                               #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Texas Instruments\ZStack-1.4.3-1.2.1\Components #
#                          \hal\target\CC2430EB\hal_lcd.c                     #
#    Command line       =  -f "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projec #
#                          ts\zstack\Samples\cc2430-zstack-adxl345\CC2430DB\. #
#                          .\..\..\Tools\CC2430DB\f8wCoord.cfg" (-DCPU32MHZ   #
#                          -DFORCE_MAC_NEAR -DROOT=__near_func                #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DZDO_COORDINATOR -DRTR_NWK -DBLINK_LEDS           #
#                          "-DCONST=const __code" -DGENERIC=__generic) -f     #
#                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects\ #
#                          zstack\Samples\cc2430-zstack-adxl345\CC2430DB\..\. #
#                          .\..\Tools\CC2430DB\f8wConfig.cfg" (-DSECURE=0     #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=10 -DAPSC_MAX_FRAME_RETRIES=3   #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=20           #
#                          -DNWK_MAX_BINDING_ENTRIES=10                       #
#                          -DMAX_BINDING_CLUSTER_IDS=5 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "C:\Texas                   #
#                          Instruments\ZStack-1.4.3-1.2.1\Components\hal\targ #
#                          et\CC2430EB\hal_lcd.c" -D CC2430EB -D REFLECTOR    #
#                          -D HAL_UART -D xZTOOL_P1 -D AXD_COR -D MT_TASK -D  #
#                          xMT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -lC "C:\Texas  #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\CoordinatorEB\ #
#                          List\" -lA "C:\Texas Instruments\ZStack-1.4.3-1.2. #
#                          1\Projects\zstack\Samples\cc2430-zstack-adxl345\CC #
#                          2430DB\CoordinatorEB\List\" --diag_suppress        #
#                          Pe001,Pa010 --diag_remark pe550 -o "C:\Texas       #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\CoordinatorEB\ #
#                          Obj\" -e --require_prototypes -z9                  #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data --nr_virtual_regs 8 -I      #
#                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects\ #
#                          zstack\Samples\cc2430-zstack-adxl345\CC2430DB\"    #
#                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projec #
#                          ts\zstack\Samples\cc2430-zstack-adxl345\CC2430DB\. #
#                          .\SOURCE\" -I "C:\Texas Instruments\ZStack-1.4.3-1 #
#                          .2.1\Projects\zstack\Samples\cc2430-zstack-adxl345 #
#                          \CC2430DB\..\Drivers\" -I "C:\Texas                #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\ZMAIN #
#                          \TI2430DB\" -I "C:\Texas                           #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\MT\" -I "C:\Texas                      #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\HAL\INCLUDE\" -I "C:\Texas             #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\HAL\TARGET\CC2430EB\" -I "C:\Texas     #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\OSAL\MCU\CCSOC\" -I "C:\Texas          #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\OSAL\INCLUDE\" -I "C:\Texas            #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\AF\" -I "C:\Texas                #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\NWK\" -I "C:\Texas               #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\SEC\" -I "C:\Texas               #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\SYS\" -I "C:\Texas               #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\STACK\ZDO\" -I "C:\Texas               #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\ZMAC\F8W\" -I "C:\Texas                #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\ZMAC\" -I "C:\Texas                    #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\SERVICES\SADDR\" -I "C:\Texas          #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\SERVICES\SDATA\" -I "C:\Texas          #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\MAC\INCLUDE\" -I "C:\Texas             #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\MAC\HIGH_LEVEL\" -I "C:\Texas          #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\MAC\LOW_LEVEL\SRF03\" -I "C:\Texas     #
#                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sam #
#                          ples\cc2430-zstack-adxl345\CC2430DB\..\..\..\..\.. #
#                          \COMPONENTS\MAC\LOW_LEVEL\SRF03\SINGLE_CHIP\" -I   #
#                          "C:\Program Files\IAR Systems\Embedded Workbench   #
#                          4.0 Evaluation version\8051\INC\" -I "C:\Program   #
#                          Files\IAR Systems\Embedded Workbench 4.0           #
#                          Evaluation version\8051\INC\CLIB\"                 #
#    List file          =  C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects\z #
#                          stack\Samples\cc2430-zstack-adxl345\CC2430DB\Coord #
#                          inatorEB\List\hal_lcd.lst                          #
#    Object file        =  C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects\z #
#                          stack\Samples\cc2430-zstack-adxl345\CC2430DB\Coord #
#                          inatorEB\Obj\hal_lcd.r51                           #
#                                                                             #
#                                                                             #
###############################################################################

C:\Texas Instruments\ZStack-1.4.3-1.2.1\Components\hal\target\CC2430EB\hal_lcd.c
      1          /**************************************************************************************************
      2            Filename:       hal_lcd.c
      3            Revised:        $Date: 2007-11-01 08:44:53 -0700 (Thu, 01 Nov 2007) $
      4            Revision:       $Revision: 15821 $
      5          
      6            Description:    This file contains the interface to the HAL LCD Service.
      7          
      8          
      9            Copyright 2006-2007 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, 
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com. 
     38          **************************************************************************************************/
     39          
     40          /**************************************************************************************************
     41           *                                           INCLUDES
     42           **************************************************************************************************/
     43          #include "hal_types.h"
     44          #include "hal_lcd.h"

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xf4
   \   unsigned char volatile __sfr P1SEL
   \                     P1SEL:
   \   000000                DS 1

   \                                 In  segment SFR_AN, at 0xfe
   \   unsigned char volatile __sfr P1DIR
   \                     P1DIR:
   \   000000                DS 1
     45          #include "OSAL.h"
     46          #include "OnBoard.h"
     47          
     48          #ifdef ZTOOL_PORT
     49            #include "DebugTrace.h"
     50          #endif
     51          
     52          /**************************************************************************************************
     53           *                                          CONSTANTS
     54           **************************************************************************************************/
     55          #define LCD_MAX_BUF 25
     56          
     57          // LCD port/bit definitions
     58          #define LCD_DC                 P1_7
     59          #define LCD_SDA                P1_6
     60          #define LCD_SCL                P1_5
     61          #define LCD_CE                 P1_4
     62          
     63          /**************************************/
     64          //english_6x8_pixel
     65          // 6 x 8 font
     66          // 1 pixel space at left and bottom
     67          // index = ASCII - 32

   \                                 In  segment CODE_C, align 1
     68          __code const unsigned char font6x8[][6] =
   \                     font6x8:
   \   000000   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0, 0, 47, 0, 0, 0, 0, 7, 0, 7, 0, 0, 20, 127
   \            00000000
   \            002F0000
   \            00000700
   \            07000014
   \            7F      
   \   000015   147F1400     DB 20, 127, 20, 0, 36, 42, 127, 42, 18, 0, 98, 100, 8, 19, 35, 0, 54
   \            242A7F2A
   \            12006264
   \            08132300
   \            36      
   \   000026   49552250     DB 73, 85, 34, 80, 0, 0, 5, 3, 0, 0, 0, 0, 28, 34, 65, 0, 0, 0, 65, 34
   \            00000503
   \            00000000
   \            1C224100
   \            00004122
   \   00003A   1C000014     DB 28, 0, 0, 20, 8, 62, 8, 20, 0, 8, 8, 62, 8, 8, 0, 0, 0, 160, 96, 0
   \            083E0814
   \            0008083E
   \            08080000
   \            00A06000
   \   00004E   00080808     DB 0, 8, 8, 8, 8, 8, 0, 0, 96, 96, 0, 0, 0, 32, 16, 8, 4, 2, 0, 62, 81
   \            08080000
   \            60600000
   \            00201008
   \            0402003E
   \            51      
   \   000063   49453E00     DB 73, 69, 62, 0, 0, 66, 127, 64, 0, 0, 66, 97, 81, 73, 70, 0, 33, 65
   \            00427F40
   \            00004261
   \            51494600
   \            2141    
   \   000075   454B3100     DB 69, 75, 49, 0, 24, 20, 18, 127, 16, 0, 39, 69, 69, 69, 57, 0, 60, 74
   \            1814127F
   \            10002745
   \            45453900
   \            3C4A    
   \   000087   49493000     DB 73, 73, 48, 0, 1, 113, 9, 5, 3, 0, 54, 73, 73, 73, 54, 0, 6, 73, 73
   \            01710905
   \            03003649
   \            49493600
   \            064949  
   \   00009A   291E0000     DB 41, 30, 0, 0, 54, 54, 0, 0, 0, 0, 86, 54, 0, 0, 0, 8, 20, 34, 65, 0
   \            36360000
   \            00005636
   \            00000008
   \            14224100
   \   0000AE   00141414     DB 0, 20, 20, 20, 20, 20, 0, 0, 65, 34, 20, 8, 0, 2, 1, 81, 9, 6, 0, 50
   \            14140000
   \            41221408
   \            00020151
   \            09060032
   \   0000C2   4959513E     DB 73, 89, 81, 62, 0, 124, 18, 17, 18, 124, 0, 127, 73, 73, 73, 54, 0
   \            007C1211
   \            127C007F
   \            49494936
   \            00      
   \   0000D3   3E414141     DB 62, 65, 65, 65, 34, 0, 127, 65, 65, 34, 28, 0, 127, 73, 73, 73, 65
   \            22007F41
   \            41221C00
   \            7F494949
   \            41      
   \   0000E4   007F0909     DB 0, 127, 9, 9, 9, 1, 0, 62, 65, 73, 73, 122, 0, 127, 8, 8, 8, 127, 0
   \            0901003E
   \            4149497A
   \            007F0808
   \            087F00  
   \   0000F7   00417F41     DB 0, 65, 127, 65, 0, 0, 32, 64, 65, 63, 1, 0, 127, 8, 20, 34, 65, 0
   \            00002040
   \            413F0100
   \            7F081422
   \            4100    
   \   000109   7F404040     DB 127, 64, 64, 64, 64, 0, 127, 2, 12, 2, 127, 0, 127, 4, 8, 16, 127, 0
   \            40007F02
   \            0C027F00
   \            7F040810
   \            7F00    
   \   00011B   3E414141     DB 62, 65, 65, 65, 62, 0, 127, 9, 9, 9, 6, 0, 62, 65, 81, 33, 94, 0
   \            3E007F09
   \            09090600
   \            3E415121
   \            5E00    
   \   00012D   7F091929     DB 127, 9, 25, 41, 70, 0, 70, 73, 73, 73, 49, 0, 1, 1, 127, 1, 1, 0, 63
   \            46004649
   \            49493100
   \            01017F01
   \            01003F  
   \   000140   4040403F     DB 64, 64, 64, 63, 0, 31, 32, 64, 32, 31, 0, 63, 64, 56, 64, 63, 0, 99
   \            001F2040
   \            201F003F
   \            4038403F
   \            0063    
   \   000152   14081463     DB 20, 8, 20, 99, 0, 7, 8, 112, 8, 7, 0, 97, 81, 73, 69, 67, 0, 0, 127
   \            00070870
   \            08070061
   \            51494543
   \            00007F  
   \   000165   41410000     DB 65, 65, 0, 0, 85, 42, 85, 42, 85, 0, 0, 65, 65, 127, 0, 0, 4, 2, 1
   \            552A552A
   \            55000041
   \            417F0000
   \            040201  
   \   000178   02040040     DB 2, 4, 0, 64, 64, 64, 64, 64, 0, 0, 1, 2, 4, 0, 0, 32, 84, 84, 84
   \            40404040
   \            00000102
   \            04000020
   \            545454  
   \   00018B   78007F48     DB 120, 0, 127, 72, 68, 68, 56, 0, 56, 68, 68, 68, 32, 0, 56, 68, 68
   \            44443800
   \            38444444
   \            20003844
   \            44      
   \   00019C   487F0038     DB 72, 127, 0, 56, 84, 84, 84, 24, 0, 8, 126, 9, 1, 2, 0, 24, 164, 164
   \            54545418
   \            00087E09
   \            01020018
   \            A4A4    
   \   0001AE   A47C007F     DB 164, 124, 0, 127, 8, 4, 4, 120, 0, 0, 68, 125, 64, 0, 0, 64, 128
   \            08040478
   \            0000447D
   \            40000040
   \            80      
   \   0001BF   847D0000     DB 132, 125, 0, 0, 127, 16, 40, 68, 0, 0, 0, 65, 127, 64, 0, 0, 124, 4
   \            7F102844
   \            00000041
   \            7F400000
   \            7C04    
   \   0001D1   18047800     DB 24, 4, 120, 0, 124, 8, 4, 4, 120, 0, 56, 68, 68, 68, 56, 0, 252, 36
   \            7C080404
   \            78003844
   \            44443800
   \            FC24    
   \   0001E3   24241800     DB 36, 36, 24, 0, 24, 36, 36, 24, 252, 0, 124, 8, 4, 4, 8, 0, 72, 84
   \            18242418
   \            FC007C08
   \            04040800
   \            4854    
   \   0001F5   54542000     DB 84, 84, 32, 0, 4, 63, 68, 64, 32, 0, 60, 64, 64, 32, 124, 0, 28, 32
   \            043F4440
   \            20003C40
   \            40207C00
   \            1C20    
   \   000207   40201C00     DB 64, 32, 28, 0, 60, 64, 48, 64, 60, 0, 68, 40, 16, 40, 68, 0, 28, 160
   \            3C403040
   \            3C004428
   \            10284400
   \            1CA0    
   \   000219   A0A07C00     DB 160, 160, 124, 0, 68, 100, 84, 76, 68, 0, 0, 255, 255, 0, 0, 8, 28
   \            4464544C
   \            440000FF
   \            FF000008
   \            1C      
   \   00022A   2A080808     DB 42, 8, 8, 8, 8, 8, 8, 42, 28, 8, 4, 2, 255, 2, 4, 0, 0, 32, 64, 255
   \            0808082A
   \            1C080402
   \            FF020400
   \            002040FF
   \   00023E   4020         DB 64, 32
     69          {
     70            { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },   // sp  0
     71            { 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00 },   // !   1
     72            { 0x00, 0x00, 0x07, 0x00, 0x07, 0x00 },   // "   2
     73            { 0x00, 0x14, 0x7f, 0x14, 0x7f, 0x14 },   // #   3
     74            { 0x00, 0x24, 0x2a, 0x7f, 0x2a, 0x12 },   // $   4
     75            { 0x00, 0x62, 0x64, 0x08, 0x13, 0x23 },   // %   5
     76            { 0x00, 0x36, 0x49, 0x55, 0x22, 0x50 },   // &   6
     77            { 0x00, 0x00, 0x05, 0x03, 0x00, 0x00 },   // '   7
     78            { 0x00, 0x00, 0x1c, 0x22, 0x41, 0x00 },   // (   8
     79            { 0x00, 0x00, 0x41, 0x22, 0x1c, 0x00 },   // )   9
     80            { 0x00, 0x14, 0x08, 0x3E, 0x08, 0x14 },   // *   10
     81            { 0x00, 0x08, 0x08, 0x3E, 0x08, 0x08 },   // +   11
     82            { 0x00, 0x00, 0x00, 0xA0, 0x60, 0x00 },   // ,   12
     83            { 0x00, 0x08, 0x08, 0x08, 0x08, 0x08 },   // -   13
     84            { 0x00, 0x00, 0x60, 0x60, 0x00, 0x00 },   // .   14
     85            { 0x00, 0x20, 0x10, 0x08, 0x04, 0x02 },   // /   15
     86            { 0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E },   // 0   16
     87            { 0x00, 0x00, 0x42, 0x7F, 0x40, 0x00 },   // 1   17
     88            { 0x00, 0x42, 0x61, 0x51, 0x49, 0x46 },   // 2   18
     89            { 0x00, 0x21, 0x41, 0x45, 0x4B, 0x31 },   // 3   19
     90            { 0x00, 0x18, 0x14, 0x12, 0x7F, 0x10 },   // 4   20
     91            { 0x00, 0x27, 0x45, 0x45, 0x45, 0x39 },   // 5   21
     92            { 0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30 },   // 6   22
     93            { 0x00, 0x01, 0x71, 0x09, 0x05, 0x03 },   // 7   23
     94            { 0x00, 0x36, 0x49, 0x49, 0x49, 0x36 },   // 8   24
     95            { 0x00, 0x06, 0x49, 0x49, 0x29, 0x1E },   // 9   25
     96            { 0x00, 0x00, 0x36, 0x36, 0x00, 0x00 },   // :   26
     97            { 0x00, 0x00, 0x56, 0x36, 0x00, 0x00 },   // ;   27
     98            { 0x00, 0x08, 0x14, 0x22, 0x41, 0x00 },   // <   28
     99            { 0x00, 0x14, 0x14, 0x14, 0x14, 0x14 },   // =   29
    100            { 0x00, 0x00, 0x41, 0x22, 0x14, 0x08 },   // >   30
    101            { 0x00, 0x02, 0x01, 0x51, 0x09, 0x06 },   // ?   31
    102            { 0x00, 0x32, 0x49, 0x59, 0x51, 0x3E },   // @   32
    103            { 0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C },   // A   33
    104            { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x36 },   // B   34
    105            { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x22 },   // C   35
    106            { 0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C },   // D   36
    107            { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x41 },   // E   37
    108            { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x01 },   // F   38
    109            { 0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A },   // G   39
    110            { 0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F },   // H   40
    111            { 0x00, 0x00, 0x41, 0x7F, 0x41, 0x00 },   // I   41
    112            { 0x00, 0x20, 0x40, 0x41, 0x3F, 0x01 },   // J   42
    113            { 0x00, 0x7F, 0x08, 0x14, 0x22, 0x41 },   // K   43
    114            { 0x00, 0x7F, 0x40, 0x40, 0x40, 0x40 },   // L   44
    115            { 0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F },   // M   45
    116            { 0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F },   // N   46
    117            { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E },   // O   47
    118            { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x06 },   // P   48
    119            { 0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E },   // Q   49
    120            { 0x00, 0x7F, 0x09, 0x19, 0x29, 0x46 },   // R   50
    121            { 0x00, 0x46, 0x49, 0x49, 0x49, 0x31 },   // S   51
    122            { 0x00, 0x01, 0x01, 0x7F, 0x01, 0x01 },   // T   52
    123            { 0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F },   // U   53
    124            { 0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F },   // V   54
    125            { 0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F },   // W   55
    126            { 0x00, 0x63, 0x14, 0x08, 0x14, 0x63 },   // X   56
    127            { 0x00, 0x07, 0x08, 0x70, 0x08, 0x07 },   // Y   57
    128            { 0x00, 0x61, 0x51, 0x49, 0x45, 0x43 },   // Z   58
    129            { 0x00, 0x00, 0x7F, 0x41, 0x41, 0x00 },   // [   59
    130            { 0x00, 0x55, 0x2A, 0x55, 0x2A, 0x55 },   // 55  60
    131            { 0x00, 0x00, 0x41, 0x41, 0x7F, 0x00 },   // ]   61
    132            { 0x00, 0x04, 0x02, 0x01, 0x02, 0x04 },   // ^   62
    133            { 0x00, 0x40, 0x40, 0x40, 0x40, 0x40 },   // _   63
    134            { 0x00, 0x00, 0x01, 0x02, 0x04, 0x00 },   // '   64
    135            { 0x00, 0x20, 0x54, 0x54, 0x54, 0x78 },   // a   65
    136            { 0x00, 0x7F, 0x48, 0x44, 0x44, 0x38 },   // b   66
    137            { 0x00, 0x38, 0x44, 0x44, 0x44, 0x20 },   // c   67
    138            { 0x00, 0x38, 0x44, 0x44, 0x48, 0x7F },   // d   68
    139            { 0x00, 0x38, 0x54, 0x54, 0x54, 0x18 },   // e   69
    140            { 0x00, 0x08, 0x7E, 0x09, 0x01, 0x02 },   // f   70
    141            { 0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C },   // g   71
    142            { 0x00, 0x7F, 0x08, 0x04, 0x04, 0x78 },   // h   72
    143            { 0x00, 0x00, 0x44, 0x7D, 0x40, 0x00 },   // i   73
    144            { 0x00, 0x40, 0x80, 0x84, 0x7D, 0x00 },   // j   74
    145            { 0x00, 0x7F, 0x10, 0x28, 0x44, 0x00 },   // k   75
    146            { 0x00, 0x00, 0x41, 0x7F, 0x40, 0x00 },   // l   76
    147            { 0x00, 0x7C, 0x04, 0x18, 0x04, 0x78 },   // m   77
    148            { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x78 },   // n   78
    149            { 0x00, 0x38, 0x44, 0x44, 0x44, 0x38 },   // o   79
    150            { 0x00, 0xFC, 0x24, 0x24, 0x24, 0x18 },   // p   80
    151            { 0x00, 0x18, 0x24, 0x24, 0x18, 0xFC },   // q   81
    152            { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x08 },   // r   82
    153            { 0x00, 0x48, 0x54, 0x54, 0x54, 0x20 },   // s   83
    154            { 0x00, 0x04, 0x3F, 0x44, 0x40, 0x20 },   // t   84
    155            { 0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C },   // u   85
    156            { 0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C },   // v   86
    157            { 0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C },   // w   87
    158            { 0x00, 0x44, 0x28, 0x10, 0x28, 0x44 },   // x   88
    159            { 0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C },   // y   89
    160            { 0x00, 0x44, 0x64, 0x54, 0x4C, 0x44 },   // z   90
    161            { 0x00, 0x00, 0xff, 0xff, 0x00, 0x00 },   // ||  91
    162            { 0x08, 0x1c, 0x2a, 0x08, 0x08, 0x08 },   // <-  92
    163            { 0x08, 0x08, 0x08, 0x2a, 0x1c, 0x08 },   // ->  94
    164            { 0x04, 0x02, 0xff, 0x02, 0x04, 0x00 },   // up  94
    165            { 0x00, 0x20, 0x40, 0xff, 0x40, 0x20 }    // down  95
    166          };
    167          
    168          /**************************************************************************************************
    169           *                                       GLOBAL VARIABLES
    170           **************************************************************************************************/
    171          #ifdef LCD_HW

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    172          static uint8 *Lcd_Line1;
   \                     Lcd_Line1:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    173          #endif
    174          
    175          /**************************************************************************************************
    176           *                                       FUNCTIONS - API
    177           **************************************************************************************************/
    178          #if (defined LCD_HW) && (HAL_LCD == TRUE)
    179          
    180          /************ 延时函数 ******************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    181          static void Delay_nms(unsigned int Time) // 延时单位:ms
   \                     Delay_nms:
    182          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    183            unsigned int i;
    184            unsigned char j;
    185          
    186            for(i=0;i<Time;i++)
   \   000000   7800         MOV     R0,#0x0
   \   000002   7900         MOV     R1,#0x0
   \   000004   800E         SJMP    ??Delay_nms_0
    187            {
    188              for(j=0;j<123;j++){}
   \                     ??Delay_nms_1:
   \   000006   7C7B         MOV     R4,#0x7b
   \                     ??Delay_nms_2:
   \   000008   1C           DEC     R4
   \   000009   EC           MOV     A,R4
   \   00000A   70FC         JNZ     ??Delay_nms_2
    189            }
   \   00000C   E8           MOV     A,R0
   \   00000D   2401         ADD     A,#0x1
   \   00000F   08           INC     R0
   \   000010   E9           MOV     A,R1
   \   000011   3400         ADDC    A,#0x0
   \   000013   F9           MOV     R1,A
   \                     ??Delay_nms_0:
   \   000014   C3           CLR     C
   \   000015   E8           MOV     A,R0
   \   000016   9A           SUBB    A,R2
   \   000017   E9           MOV     A,R1
   \   000018   9B           SUBB    A,R3
   \   000019   40EB         JC      ??Delay_nms_1
    190          }
   \   00001B   02....       LJMP    ?BRET
    191          
    192          /******** 发送一个字节的数据到液晶控制器*************************/
    193          static void SendByte(unsigned char Data)
    194          {
    195            unsigned char i;
    196            LCD_CE=0;
    197            for(i=0;i<8;i++)
    198            {
    199              LCD_SCL = 0;
    200              if(Data & 0x80)
    201              {
    202                LCD_SDA = 1;
    203              }
    204              else LCD_SDA = 0;
    205              LCD_SCL = 1;
    206              Data<<=1;
    207            }
    208            LCD_CE=1;
    209          }
    210          
    211          /*-----------------------------------------------------------------------
    212          LCD_write_byte    : 使用SPI接口写数据到LCD
    213          
    214          输入参数：data    ：写入的数据；
    215          command ：写数据/命令选择；
    216          
    217          编写日期          ：2004-8-10
    218          最后修改日期      ：2004-8-13
    219          -----------------------------------------------------------------------*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    220          static void LCD_write_byte(unsigned char data, unsigned char command)
   \                     LCD_write_byte:
    221          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    222            LCD_CE = 1 ;		 // 使能LCD
   \   000000   D294         SETB    0x90.4
    223          
    224            if (command == 0)
   \   000002   EA           MOV     A,R2
   \   000003   7004         JNZ     ??LCD_write_byte_0
    225              LCD_DC = 0;	        // 传送命令
   \   000005   C297         CLR     0x90.7
   \   000007   8002         SJMP    ??LCD_write_byte_1
    226            else
    227              LCD_DC = 1;		// 传送数据
   \                     ??LCD_write_byte_0:
   \   000009   D297         SETB    0x90.7
    228            SendByte(data);
   \                     ??LCD_write_byte_1:
   \   00000B   E9           MOV     A,R1
   \   00000C   FB           MOV     R3,A
   \   00000D   C294         CLR     0x90.4
   \   00000F   7A08         MOV     R2,#0x8
   \                     ??LCD_write_byte_2:
   \   000011   C295         CLR     0x90.5
   \   000013   EB           MOV     A,R3
   \   000014   A2E7         MOV     C,0xE0 /* A   */.7
   \   000016   5004         JNC     ??LCD_write_byte_3
   \   000018   D296         SETB    0x90.6
   \   00001A   8002         SJMP    ??LCD_write_byte_4
   \                     ??LCD_write_byte_3:
   \   00001C   C296         CLR     0x90.6
   \                     ??LCD_write_byte_4:
   \   00001E   D295         SETB    0x90.5
   \   000020   C3           CLR     C
   \   000021   33           RLC     A
   \   000022   FB           MOV     R3,A
   \   000023   1A           DEC     R2
   \   000024   EA           MOV     A,R2
   \   000025   70EA         JNZ     ??LCD_write_byte_2
   \   000027   D294         SETB    0x90.4
    229            LCD_CE = 0;	        // 关闭LCD
   \   000029   C294         CLR     0x90.4
    230            LCD_DC = 1;	
   \   00002B   D297         SETB    0x90.7
    231          }
   \   00002D   02....       LJMP    ?BRET
   \   000030                REQUIRE _A_P1
    232          
    233          /*-----------------------------------------------------------------------
    234          LCD_clear         : LCD清屏函数
    235          
    236          编写日期          ：2004-8-10
    237          最后修改日期      ：2004-8-10
    238          -----------------------------------------------------------------------*/
    239          static void LCD_clear(void)
    240          {
    241            unsigned int i;
    242          
    243            LCD_write_byte(0x0c, 0);
    244            LCD_write_byte(0x80, 0);
    245          
    246            for (i=0; i<504; i++)
    247              LCD_write_byte(0, 1);
    248          }
    249          
    250          /*-----------------------------------------------------------------------
    251          LCD_set_XY        : 设置LCD坐标函数
    252          
    253          输入参数：X       ：0－83
    254          Y       ：0－5
    255          
    256          编写日期          ：2004-8-10
    257          最后修改日期      ：2004-8-10
    258          -----------------------------------------------------------------------*/
    259          static void LCD_set_XY(unsigned char X, unsigned char Y)
    260          {
    261            LCD_write_byte(0x40 | Y, 0);	// column
    262            LCD_write_byte(0x80 | X, 0);  // row
    263          }
    264          
    265          /*-----------------------------------------------------------------------
    266          LCD_write_char    : 显示英文字符
    267          
    268          输入参数：c       ：显示的字符；
    269          
    270          编写日期          ：2004-8-10
    271          最后修改日期      ：2004-8-10
    272          -----------------------------------------------------------------------*/
    273          static void LCD_write_char(unsigned char c)
    274          {
    275            unsigned char line;
    276          
    277            c -= 32;
    278            for (line=0; line<6; line++)
    279              LCD_write_byte(font6x8[c][line], 1);
    280          }
    281          
    282          /*-----------------------------------------------------------------------
    283          LCD_init          : 3310LCD初始化
    284          
    285          编写日期          ：2004-8-10
    286          最后修改日期      ：2004-8-10
    287          -----------------------------------------------------------------------*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    288          static void initLcd(void)
   \                     initLcd:
    289          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    290            // CC2430 中，I/O 口做普通 I/O 使用时和每个 I/O 端口相关的寄存器有 3 个，分别是 //PxSEL
    291            //功能选择寄存器，PxDIR 方向寄存器，PxINP 输入模式寄存器，其中 x 为 0，1，2 。
    292          
    293            P1SEL &= 0x0F; //P1高4位 为普通 I/O 口
   \   000005   53F40F       ANL     0xf4,#0xf
   \   000008   E5F4         MOV     A,0xf4
    294            P1DIR |= 0xF0; //P1高4位 设置为输出
   \   00000A   43FEF0       ORL     0xfe,#0xf0
   \   00000D   E5FE         MOV     A,0xfe
    295          
    296            LCD_CE = 0;    // 关闭LCD
   \   00000F   C294         CLR     0x90.4
    297            Delay_nms(1);
   \   000011                ; Setup parameters for call to function Delay_nms
   \   000011   7A01         MOV     R2,#0x1
   \   000013   7B00         MOV     R3,#0x0
   \   000015   12....       LCALL   ??Delay_nms?relay
    298            LCD_CE = 1;    // 使能LCD
   \   000018   D294         SETB    0x90.4
    299            Delay_nms(1);
   \   00001A                ; Setup parameters for call to function Delay_nms
   \   00001A   7A01         MOV     R2,#0x1
   \   00001C   7B00         MOV     R3,#0x0
   \   00001E   12....       LCALL   ??Delay_nms?relay
    300          
    301            LCD_write_byte(0x21, 0);	// 使用扩展命令设置LCD模式
   \   000021                ; Setup parameters for call to function LCD_write_byte
   \   000021   7A00         MOV     R2,#0x0
   \   000023   7921         MOV     R1,#0x21
   \   000025   12....       LCALL   ?Subroutine3 & 0xFFFF
    302            LCD_write_byte(0xc8, 0);	// 设置偏置电压
   \                     ??CrossCallReturnLabel_7:
   \   000028   79C8         MOV     R1,#-0x38
   \   00002A   12....       LCALL   ?Subroutine3 & 0xFFFF
    303            LCD_write_byte(0x06, 0);	// 温度校正
   \                     ??CrossCallReturnLabel_8:
   \   00002D   7906         MOV     R1,#0x6
   \   00002F   12....       LCALL   ?Subroutine3 & 0xFFFF
    304            LCD_write_byte(0x13, 0);	// 1:48
   \                     ??CrossCallReturnLabel_9:
   \   000032   7913         MOV     R1,#0x13
   \   000034   12....       LCALL   ?Subroutine3 & 0xFFFF
    305            LCD_write_byte(0x20, 0);	// 使用基本命令
   \                     ??CrossCallReturnLabel_10:
   \   000037   7920         MOV     R1,#0x20
   \   000039   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   00003C   790C         MOV     R1,#0xc
   \   00003E   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   000041   7EF8         MOV     R6,#-0x8
   \   000043   7F01         MOV     R7,#0x1
   \                     ??initLcd_0:
   \   000045                ; Setup parameters for call to function LCD_write_byte
   \   000045   7A01         MOV     R2,#0x1
   \   000047   7900         MOV     R1,#0x0
   \   000049   12....       LCALL   ??LCD_write_byte?relay
   \   00004C   EE           MOV     A,R6
   \   00004D   24FF         ADD     A,#-0x1
   \   00004F   1E           DEC     R6
   \   000050   EF           MOV     A,R7
   \   000051   34FF         ADDC    A,#-0x1
   \   000053   FF           MOV     R7,A
   \   000054   EE           MOV     A,R6
   \   000055   7001         JNZ     ??initLcd_1
   \   000057   EF           MOV     A,R7
   \                     ??initLcd_1:
   \   000058   70EB         JNZ     ??initLcd_0
    306            LCD_clear();	                // 清屏
    307            LCD_write_byte(0x0c, 0);	// 设定显示模式，正常显示
   \   00005A                ; Setup parameters for call to function LCD_write_byte
   \   00005A   7A00         MOV     R2,#0x0
   \   00005C   790C         MOV     R1,#0xc
   \   00005E   12....       LCALL   ??LCD_write_byte?relay
    308            LCD_CE=0 ;                    // 关闭LCD
   \   000061   C294         CLR     0x90.4
    309          }
   \   000063                REQUIRE ?Subroutine12
   \   000063                REQUIRE _A_P1
   \   000063                REQUIRE P1SEL
   \   000063                REQUIRE P1DIR
   \   000063                ; // Fall through to label ?Subroutine12

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ??LCD_write_byte?relay
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003   7A00         MOV     R2,#0x0
   \   000005   22           RET
    310          
    311          
    312          /*-----------------------------------------------------------------------
    313          LCD_write_english_String  : 英文字符串显示函数
    314          
    315          输入参数：*s      ：英文字符串指针；
    316          X、Y    : 显示字符串的位置,x 0-83 ,y 0-5
    317          
    318          编写日期          ：2004-8-10
    319          最后修改日期      ：2004-8-10 		
    320          -----------------------------------------------------------------------*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    321          static void LCD_write_english_string(unsigned char X,unsigned char Y,uint8 *s)
   \                     LCD_write_english_string:
    322          {
   \   000000   74F3         MOV     A,#-0xd
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 13
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 1,R1
   \   000007   8A..         MOV     ?V0 + 2,R2
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
    323            unsigned char i=0;
    324            LCD_set_XY(0,Y);//把第Y行清零
   \   00000D                ; Setup parameters for call to function LCD_write_byte
   \   00000D   7A00         MOV     R2,#0x0
   \   00000F   7440         MOV     A,#0x40
   \   000011   45..         ORL     A,?V0 + 2
   \   000013   F9           MOV     R1,A
   \   000014   12....       LCALL   ?Subroutine2 & 0xFFFF
    325            for(i=0;i<HAL_LCD_MAX_CHARS*6;i++)
   \                     ??CrossCallReturnLabel_6:
   \   000017   75..60       MOV     ?V0 + 0,#0x60
    326            {
    327              LCD_write_byte(0,1);
   \                     ??LCD_write_english_string_0:
   \   00001A                ; Setup parameters for call to function LCD_write_byte
   \   00001A   7A01         MOV     R2,#0x1
   \   00001C   7900         MOV     R1,#0x0
   \   00001E   12....       LCALL   ??LCD_write_byte?relay
    328            }
   \   000021   15..         DEC     ?V0 + 0
   \   000023   E5..         MOV     A,?V0 + 0
   \   000025   70F3         JNZ     ??LCD_write_english_string_0
    329            LCD_set_XY(X,Y);
   \   000027                ; Setup parameters for call to function LCD_write_byte
   \   000027   7A00         MOV     R2,#0x0
   \   000029   7440         MOV     A,#0x40
   \   00002B   45..         ORL     A,?V0 + 2
   \   00002D   F9           MOV     R1,A
   \   00002E   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   000031   7480         MOV     A,#-0x80
   \   000033   45..         ORL     A,?V0 + 1
   \   000035   F9           MOV     R1,A
   \   000036   12....       LCALL   ??LCD_write_byte?relay
    330            i=0;
   \   000039   75..00       MOV     ?V0 + 0,#0x0
    331            while (*s)
   \                     ??LCD_write_english_string_1:
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   E0           MOVX    A,@DPTR
   \   000041   6044         JZ      ??LCD_write_english_string_2
    332            {
    333              LCD_write_char(*s);
   \   000043   24E0         ADD     A,#-0x20
   \   000045   F5..         MOV     ?V0 + 4,A
   \   000047   75..00       MOV     ?V0 + 1,#0x0
   \                     ??LCD_write_english_string_3:
   \   00004A                ; Setup parameters for call to function LCD_write_byte
   \   00004A   7A01         MOV     R2,#0x1
   \   00004C   85....       MOV     ?V0 + 2,?V0 + 1
   \   00004F   E5..         MOV     A,?V0 + 4
   \   000051   75F006       MOV     B,#0x6
   \   000054   A4           MUL     AB
   \   000055   24..         ADD     A,#(font6x8 & 0xff)
   \   000057   F8           MOV     R0,A
   \   000058   E5F0         MOV     A,B
   \   00005A   34..         ADDC    A,#((font6x8 >> 8) & 0xff)
   \   00005C   F9           MOV     R1,A
   \   00005D   E5..         MOV     A,?V0 + 2
   \   00005F   28           ADD     A,R0
   \   000060   F582         MOV     DPL,A
   \   000062   E4           CLR     A
   \   000063   39           ADDC    A,R1
   \   000064   F583         MOV     DPH,A
   \   000066   E4           CLR     A
   \   000067   93           MOVC    A,@A+DPTR
   \   000068   F9           MOV     R1,A
   \   000069   12....       LCALL   ??LCD_write_byte?relay
   \   00006C   05..         INC     ?V0 + 1
   \   00006E   E5..         MOV     A,?V0 + 1
   \   000070   C3           CLR     C
   \   000071   9406         SUBB    A,#0x6
   \   000073   40D5         JC      ??LCD_write_english_string_3
    334              s++;
   \   000075   8E82         MOV     DPL,R6
   \   000077   8F83         MOV     DPH,R7
   \   000079   A3           INC     DPTR
   \   00007A   AE82         MOV     R6,DPL
   \   00007C   AF83         MOV     R7,DPH
    335              i++;
   \   00007E   05..         INC     ?V0 + 0
    336              if(i>=HAL_LCD_MAX_CHARS)return;
   \   000080   E5..         MOV     A,?V0 + 0
   \   000082   C3           CLR     C
   \   000083   9410         SUBB    A,#0x10
   \   000085   40B5         JC      ??LCD_write_english_string_1
   \                     ??LCD_write_english_string_2:
   \   000087   7F05         MOV     R7,#0x5
   \   000089   02....       LJMP    ?BANKED_LEAVE_XDATA
    337            }
    338          }
    339          
    340          /******************************************************************************
    341          * See lcd.h for a description of this function.
    342          ******************************************************************************/
    343          static void lcdUpdateLine(uint8 line, uint8 *pLine) {
    344            LCD_write_english_string(0,line,pLine);
    345          }
    346          
    347          #endif
    348          
    349          /**************************************************************************************************
    350           * @fn      HalLcdInit
    351           *
    352           * @brief   Initilize LCD Service
    353           *
    354           * @param   init - pointer to void that contains the initialized value
    355           *
    356           * @return  None
    357           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    358          void HalLcdInit(void)
   \                     HalLcdInit:
    359          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    360          #if (HAL_LCD == TRUE)
    361          
    362          #ifdef LCD_HW
    363            Lcd_Line1 = NULL;
   \   000004   90....       MOV     DPTR,#Lcd_Line1
   \   000007   E4           CLR     A
   \   000008   F0           MOVX    @DPTR,A
   \   000009   A3           INC     DPTR
   \   00000A   F0           MOVX    @DPTR,A
    364            initLcd();
   \   00000B                ; Setup parameters for call to function initLcd
   \   00000B   12....       LCALL   ??initLcd?relay
    365          #endif
    366          
    367          #endif /* HAL_LCD */
    368          
    369          }
   \   00000E   D083         POP     DPH
   \   000010   D082         POP     DPL
   \   000012   02....       LJMP    ?BRET
    370          
    371          /*************************************************************************************************
    372           *                    LCD EMULATION FUNCTIONS
    373           *
    374           * Some evaluation boards are equipped with Liquid Crystal Displays
    375           * (LCD) which may be used to display diagnostic information. These
    376           * functions provide LCD emulation, sending the diagnostic strings
    377           * to Z-Tool via the RS232 serial port. These functions are enabled
    378           * when the "LCD_SUPPORTED" compiler flag is placed in the makefile.
    379           *
    380           * Most applications update both lines (1 and 2) of the LCD whenever
    381           * text is posted to the device. This emulator assumes that line 1 is
    382           * updated first (saved locally) and the formatting and send operation
    383           * is triggered by receipt of line 2. Nothing will be transmitted if
    384           * only line 1 is updated.
    385           *
    386           *************************************************************************************************/
    387          
    388          
    389          /**************************************************************************************************
    390           * @fn      HalLcdWriteString
    391           *
    392           * @brief   Write a string to the LCD
    393           *
    394           * @param   str    - pointer to the string that will be displayed
    395           *          option - display options
    396           *
    397           * @return  None
    398           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    399          void HalLcdWriteString ( char *str, uint8 option)
   \                     HalLcdWriteString:
    400          {
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7402         MOV     A,#0x2
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   EA           MOV     A,R2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   EB           MOV     A,R3
   \   000013   F0           MOVX    @DPTR,A
   \   000014   E9           MOV     A,R1
   \   000015   FE           MOV     R6,A
    401          #if (HAL_LCD == TRUE)
    402          
    403          #ifdef LCD_SD
    404            byte x;
    405            byte bln;
    406            byte sln;
    407            char *buf;
    408          
    409            if ( Lcd_Line1 == NULL )
   \   000016   90....       MOV     DPTR,#Lcd_Line1
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   7002         JNZ     ??HalLcdWriteString_0
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \                     ??HalLcdWriteString_0:
   \   00001E   7018         JNZ     ??HalLcdWriteString_1
    410            {
    411              // Set up system start-up message
    412              Lcd_Line1 = osal_mem_alloc( MAX_LCD_CHARS+1 );
   \   000020                ; Setup parameters for call to function osal_mem_alloc
   \   000020   7A11         MOV     R2,#0x11
   \   000022   7B00         MOV     R3,#0x0
   \   000024   12....       LCALL   ??osal_mem_alloc?relay
   \   000027   90....       MOV     DPTR,#Lcd_Line1
   \   00002A   EA           MOV     A,R2
   \   00002B   F0           MOVX    @DPTR,A
   \   00002C   A3           INC     DPTR
   \   00002D   EB           MOV     A,R3
   \   00002E   F0           MOVX    @DPTR,A
    413              HalLcdWriteString( "Figure8 Wireless", HAL_LCD_LINE_1 );
   \   00002F                ; Setup parameters for call to function HalLcdWriteString
   \   00002F   7900         MOV     R1,#0x0
   \   000031   7A..         MOV     R2,#(`?<Constant "Figure8 Wireless">` & 0xff)
   \   000033   7B..         MOV     R3,#((`?<Constant "Figure8 Wireless">` >> 8) & 0xff)
   \   000035   12....       LCALL   ??HalLcdWriteString?relay
    414            }
    415          
    416            sln = (byte)osal_strlen( str );
   \                     ??HalLcdWriteString_1:
   \   000038                ; Setup parameters for call to function osal_strlen
   \   000038   7402         MOV     A,#0x2
   \   00003A   12....       LCALL   ?XSTACK_DISP0_8
   \   00003D   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   000040   F5..         MOV     ?V0 + 0,A
    417          
    418            // Check boundries
    419            if ( sln > MAX_LCD_CHARS )
   \   000042   C3           CLR     C
   \   000043   9411         SUBB    A,#0x11
   \   000045   4003         JC      ??HalLcdWriteString_2
    420              sln = MAX_LCD_CHARS;
   \   000047   75..10       MOV     ?V0 + 0,#0x10
    421          
    422            if ( option == HAL_LCD_LINE_1 ) {
   \                     ??HalLcdWriteString_2:
   \   00004A   EE           MOV     A,R6
   \   00004B   7025         JNZ     ??HalLcdWriteString_3
    423              // Line 1 gets saved for later
    424              osal_memcpy( Lcd_Line1, str, sln );
   \   00004D                ; Setup parameters for call to function osal_memcpy
   \   00004D   7402         MOV     A,#0x2
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   12....       LCALL   ?Subroutine0 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   000055   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000058   AC..         MOV     R4,?V0 + 0
   \   00005A   7D00         MOV     R5,#0x0
   \   00005C   90....       MOV     DPTR,#Lcd_Line1
   \   00005F   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   000062   12....       LCALL   ?DEALLOC_XSTACK8
    425              Lcd_Line1[sln] = '\0';
   \   000065   A8..         MOV     R0,?V0 + 0
   \   000067   90....       MOV     DPTR,#Lcd_Line1
   \   00006A   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   00006D   E4           CLR     A
   \   00006E   F0           MOVX    @DPTR,A
   \   00006F   02....       LJMP    ??HalLcdWriteString_4 & 0xFFFF
    426            }
    427            else {
    428              // Line 2 triggers action
    429              x = (byte)osal_strlen( (char*)Lcd_Line1 );
   \                     ??HalLcdWriteString_3:
   \   000072                ; Setup parameters for call to function osal_strlen
   \   000072   90....       MOV     DPTR,#Lcd_Line1
   \   000075   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000078   F5..         MOV     ?V0 + 2,A
    430              bln = x + 1 + sln + 1;
    431              buf = osal_mem_alloc( bln );
   \   00007A                ; Setup parameters for call to function osal_mem_alloc
   \   00007A   E5..         MOV     A,?V0 + 0
   \   00007C   25..         ADD     A,?V0 + 2
   \   00007E   2402         ADD     A,#0x2
   \   000080   FA           MOV     R2,A
   \   000081   7B00         MOV     R3,#0x0
   \   000083   12....       LCALL   ??osal_mem_alloc?relay
   \   000086   85..82       MOV     DPL,?XSP + 0
   \   000089   85..83       MOV     DPH,?XSP + 1
   \   00008C   EA           MOV     A,R2
   \   00008D   F0           MOVX    @DPTR,A
   \   00008E   A3           INC     DPTR
   \   00008F   EB           MOV     A,R3
   \   000090   12....       LCALL   ?Subroutine7 & 0xFFFF
    432              if ( buf != NULL ) {
   \                     ??CrossCallReturnLabel_17:
   \   000093   7002         JNZ     ??HalLcdWriteString_5
   \   000095   A3           INC     DPTR
   \   000096   E0           MOVX    A,@DPTR
   \                     ??HalLcdWriteString_5:
   \   000097   6076         JZ      ??HalLcdWriteString_4
    433                // Concatenate strings
    434                osal_memcpy( buf, Lcd_Line1, x );
   \   000099                ; Setup parameters for call to function osal_memcpy
   \   000099   90....       MOV     DPTR,#Lcd_Line1
   \   00009C   12....       LCALL   ?Subroutine0 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   00009F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A2   AC..         MOV     R4,?V0 + 2
   \   0000A4   7D00         MOV     R5,#0x0
   \   0000A6   7403         MOV     A,#0x3
   \   0000A8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AB   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   0000AE   12....       LCALL   ?DEALLOC_XSTACK8
    435                buf[x++] = ' ';
   \   0000B1   A8..         MOV     R0,?V0 + 2
   \   0000B3   85..82       MOV     DPL,?XSP + 0
   \   0000B6   85..83       MOV     DPH,?XSP + 1
   \   0000B9   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   0000BC   7420         MOV     A,#0x20
   \   0000BE   F0           MOVX    @DPTR,A
   \   0000BF   05..         INC     ?V0 + 2
   \   0000C1                ; Setup parameters for call to function osal_memcpy
   \   0000C1   7402         MOV     A,#0x2
   \   0000C3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C6   E0           MOVX    A,@DPTR
   \   0000C7   F5..         MOV     ?V0 + 4,A
   \   0000C9   A3           INC     DPTR
   \   0000CA   E0           MOVX    A,@DPTR
   \   0000CB   F5..         MOV     ?V0 + 5,A
   \   0000CD   78..         MOV     R0,#?V0 + 4
   \   0000CF   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000D2   AC..         MOV     R4,?V0 + 0
   \   0000D4   7D00         MOV     R5,#0x0
   \   0000D6   A8..         MOV     R0,?V0 + 2
   \   0000D8   7403         MOV     A,#0x3
   \   0000DA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DD   E0           MOVX    A,@DPTR
   \   0000DE   28           ADD     A,R0
   \   0000DF   FA           MOV     R2,A
   \   0000E0   A3           INC     DPTR
   \   0000E1   E0           MOVX    A,@DPTR
   \   0000E2   3400         ADDC    A,#0x0
   \   0000E4   FB           MOV     R3,A
   \   0000E5   12....       LCALL   ?Subroutine13 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   0000E8   12....       LCALL   ?DEALLOC_XSTACK8
    436                osal_memcpy( &buf[x], str, sln );
    437                buf[x+sln] = '\0';
   \   0000EB   E5..         MOV     A,?V0 + 0
   \   0000ED   25..         ADD     A,?V0 + 2
   \   0000EF   F8           MOV     R0,A
   \   0000F0   E4           CLR     A
   \   0000F1   3400         ADDC    A,#0x0
   \   0000F3   F9           MOV     R1,A
   \   0000F4   85..82       MOV     DPL,?XSP + 0
   \   0000F7   85..83       MOV     DPH,?XSP + 1
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   28           ADD     A,R0
   \   0000FC   FA           MOV     R2,A
   \   0000FD   A3           INC     DPTR
   \   0000FE   E0           MOVX    A,@DPTR
   \   0000FF   39           ADDC    A,R1
   \   000100   8A82         MOV     DPL,R2
   \   000102   F583         MOV     DPH,A
   \   000104   E4           CLR     A
   \   000105   12....       LCALL   ?Subroutine7 & 0xFFFF
    438                // Send it out
    439          #ifdef ZTOOL_PORT
    440                debug_str( (byte*)buf );
    441          #endif
    442                osal_mem_free( buf );
   \                     ??CrossCallReturnLabel_18:
   \   000108   FA           MOV     R2,A
   \   000109   A3           INC     DPTR
   \   00010A   E0           MOVX    A,@DPTR
   \   00010B   FB           MOV     R3,A
   \   00010C   12....       LCALL   ??osal_mem_free?relay
    443              }
    444            }
    445          #endif // LCD_SD
    446          
    447          #ifdef LCD_HW
    448            lcdUpdateLine( option, (byte*)str );
   \                     ??HalLcdWriteString_4:
   \   00010F                ; Setup parameters for call to function LCD_write_english_string
   \   00010F   7402         MOV     A,#0x2
   \   000111   12....       LCALL   ?XSTACK_DISP0_8
   \   000114   E0           MOVX    A,@DPTR
   \   000115   FC           MOV     R4,A
   \   000116   A3           INC     DPTR
   \   000117   E0           MOVX    A,@DPTR
   \   000118   FD           MOV     R5,A
   \   000119   EE           MOV     A,R6
   \   00011A   FA           MOV     R2,A
   \   00011B   7900         MOV     R1,#0x0
   \   00011D   12....       LCALL   ??LCD_write_english_string?relay
    449          #endif
    450          
    451          #endif /* HAL_LCD */
    452          
    453          }
   \   000120   7404         MOV     A,#0x4
   \   000122   12....       LCALL   ?DEALLOC_XSTACK8
   \   000125   7F07         MOV     R7,#0x7
   \   000127   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function osal_mem_free
   \   000001   85..82       MOV     DPL,?XSP + 0
   \   000004   85..83       MOV     DPH,?XSP + 1
   \   000007   E0           MOVX    A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   12....       LCALL   ??osal_strlen?relay
   \   000008   EA           MOV     A,R2
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005                REQUIRE ?Subroutine13
   \   000005                ; // Fall through to label ?Subroutine13

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   12....       LCALL   ??osal_memcpy?relay
   \   000003   7403         MOV     A,#0x3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   28           ADD     A,R0
   \   000002   FA           MOV     R2,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   3400         ADDC    A,#0x0
   \   000007   8A82         MOV     DPL,R2
   \   000009   F583         MOV     DPH,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 4,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 5,A
   \   000007   75..00       MOV     ?V0 + 6,#0x0
   \   00000A   78..         MOV     R0,#?V0 + 4
   \   00000C   22           RET
    454          
    455          /**************************************************************************************************
    456           * @fn      HalLcdWriteValue
    457           *
    458           * @brief   Write a value to the LCD
    459           *
    460           * @param   value  - value that will be displayed
    461           *          radix  - 8, 10, 16
    462           *          option - display options
    463           *
    464           * @return  None
    465           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    466          void HalLcdWriteValue ( uint32 value, const uint8 radix, uint8 option)
   \                     HalLcdWriteValue:
    467          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 25
   \   000005   74E7         MOV     A,#-0x19
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   7427         MOV     A,#0x27
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   FE           MOV     R6,A
    468          #if (HAL_LCD == TRUE)
    469            uint8 buf[LCD_MAX_BUF];
    470          
    471            _ltoa( value, &buf[0], radix );
   \   000011                ; Setup parameters for call to function _ltoa
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   8582..       MOV     ?V0 + 4,DPL
   \   00001A   8583..       MOV     ?V0 + 5,DPH
   \   00001D   78..         MOV     R0,#?V0 + 4
   \   00001F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000022   12....       LCALL   ??Subroutine8_1 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   000025   12....       LCALL   ?DEALLOC_XSTACK8
    472            HalLcdWriteString( (char*)buf, option );
   \   000028                ; Setup parameters for call to function HalLcdWriteString
   \   000028   EE           MOV     A,R6
   \   000029   F9           MOV     R1,A
   \   00002A                REQUIRE ?Subroutine14
   \   00002A                ; // Fall through to label ?Subroutine14
    473          #endif /* HAL_LCD */
    474          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   AA82         MOV     R2,DPL
   \   000008   AB83         MOV     R3,DPH
   \   00000A   12....       LCALL   ??HalLcdWriteString?relay
   \   00000D   7419         MOV     A,#0x19
   \   00000F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000012   7F06         MOV     R7,#0x6
   \   000014   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   A9..         MOV     R1,?V0 + 3
   \   000002   8E..         MOV     ?V0 + 0,R6
   \   000004   8F..         MOV     ?V0 + 1,R7
   \   000006   AA..         MOV     R2,?V0 + 0
   \   000008   AB..         MOV     R3,?V0 + 1
   \                     ??Subroutine8_0:
   \   00000A   7C00         MOV     R4,#0x0
   \   00000C   7D00         MOV     R5,#0x0
   \                     ??Subroutine8_1:
   \   00000E   12....       LCALL   ??_ltoa?relay
   \   000011   7402         MOV     A,#0x2
   \   000013   22           RET
    475          
    476          /**************************************************************************************************
    477           * @fn      HalLcdWriteScreen
    478           *
    479           * @brief   Write a value to the LCD
    480           *
    481           * @param   line1  - string that will be displayed on line 1
    482           *          line2  - string that will be displayed on line 2
    483           *
    484           * @return  None
    485           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    486          void HalLcdWriteScreen( char *line1, char *line2 )
   \                     HalLcdWriteScreen:
    487          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EC           MOV     A,R4
   \   000006   FE           MOV     R6,A
   \   000007   ED           MOV     A,R5
   \   000008   FF           MOV     R7,A
    488          #if (HAL_LCD == TRUE)
    489            HalLcdWriteString( line1, HAL_LCD_LINE_1 );
   \   000009                ; Setup parameters for call to function HalLcdWriteString
   \   000009   7900         MOV     R1,#0x0
   \   00000B   12....       LCALL   ??HalLcdWriteString?relay
    490            HalLcdWriteString( line2, HAL_LCD_LINE_2 );
   \   00000E                ; Setup parameters for call to function HalLcdWriteString
   \   00000E   7902         MOV     R1,#0x2
   \   000010   EE           MOV     A,R6
   \   000011   FA           MOV     R2,A
   \   000012   EF           MOV     A,R7
   \   000013   FB           MOV     R3,A
   \   000014   12....       LCALL   ??HalLcdWriteString?relay
    491          #endif /* HAL_LCD */
    492          }
   \   000017   02....       LJMP    ?Subroutine12 & 0xFFFF
    493          
    494          /**************************************************************************************************
    495           * @fn      HalLcdWriteStringValue
    496           *
    497           * @brief   Write a string followed by a value to the LCD
    498           *
    499           * @param   title  -
    500           *          value  -
    501           *          format -
    502           *          line   -
    503           *
    504           * @return  None
    505           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    506          void HalLcdWriteStringValue( char *title, uint16 value, uint8 format, uint8 line )
   \                     HalLcdWriteStringValue:
    507          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 25
   \   000005   74E7         MOV     A,#-0x19
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
   \   00000E   EC           MOV     A,R4
   \   00000F   FE           MOV     R6,A
   \   000010   ED           MOV     A,R5
   \   000011   FF           MOV     R7,A
   \   000012   89..         MOV     ?V0 + 3,R1
   \   000014   7427         MOV     A,#0x27
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F5..         MOV     ?V0 + 5,A
    508          #if (HAL_LCD == TRUE)
    509            uint8 tmpLen;
    510            uint8 buf[LCD_MAX_BUF];
    511            uint32 err;
    512          
    513            tmpLen = (uint8)osal_strlen( (char*)title );
   \   00001C                ; Setup parameters for call to function osal_strlen
   \   00001C   12....       LCALL   ??osal_strlen?relay
    514            osal_memcpy( buf, title, tmpLen );
   \   00001F                ; Setup parameters for call to function osal_memcpy
   \   00001F   75..00       MOV     ?V0 + 2,#0x0
   \   000022   78..         MOV     R0,#?V0 + 0
   \   000024   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000027   EA           MOV     A,R2
   \   000028   F5..         MOV     ?V0 + 0,A
   \   00002A   FC           MOV     R4,A
   \   00002B   7D00         MOV     R5,#0x0
   \   00002D   7403         MOV     A,#0x3
   \   00002F   12....       LCALL   ?XSTACK_DISP0_8
   \   000032   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   000035   12....       LCALL   ?DEALLOC_XSTACK8
    515            buf[tmpLen] = ' ';
   \   000038   12....       LCALL   ?Subroutine1 & 0xFFFF
    516            err = (uint32)(value);
    517            _ltoa( err, &buf[tmpLen+1], format );
   \                     ??CrossCallReturnLabel_2:
   \   00003B                ; Setup parameters for call to function _ltoa
   \   00003B   A3           INC     DPTR
   \   00003C   8582..       MOV     ?V0 + 0,DPL
   \   00003F   8583..       MOV     ?V0 + 1,DPH
   \   000042   78..         MOV     R0,#?V0 + 0
   \   000044   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000047   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   00004A   12....       LCALL   ?DEALLOC_XSTACK8
    518            HalLcdWriteString( (char*)buf, line );		
   \   00004D                ; Setup parameters for call to function HalLcdWriteString
   \   00004D   A9..         MOV     R1,?V0 + 5
   \   00004F   02....       LJMP    ?Subroutine14 & 0xFFFF
    519          #endif /* HAL_LCD */
    520          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004   02....       LJMP    ?Subroutine13 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   000003   7420         MOV     A,#0x20
   \   000005   F0           MOVX    @DPTR,A
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   E582         MOV     A,DPL
   \   000008   25..         ADD     A,?V0 + 0
   \   00000A   F582         MOV     DPL,A
   \   00000C   E583         MOV     A,DPH
   \   00000E   3400         ADDC    A,#0x0
   \   000010   F583         MOV     DPH,A
   \   000012   22           RET
    521          
    522          /**************************************************************************************************
    523           * @fn      HalLcdWriteStringValue
    524           *
    525           * @brief   Write a string followed by a value to the LCD
    526           *
    527           * @param   title   -
    528           *          value1  -
    529           *          format1 -
    530           *          value2  -
    531           *          format2 -
    532           *          line    -
    533           *
    534           * @return  None
    535           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    536          void HalLcdWriteStringValueValue( char *title, uint16 value1, uint8 format1,
   \                     HalLcdWriteStringValueValue:
    537                                            uint16 value2, byte format2, uint8 line )
    538          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 25
   \   000005   74E7         MOV     A,#-0x19
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
   \   00000E   EC           MOV     A,R4
   \   00000F   FE           MOV     R6,A
   \   000010   ED           MOV     A,R5
   \   000011   FF           MOV     R7,A
   \   000012   89..         MOV     ?V0 + 3,R1
   \   000014   7429         MOV     A,#0x29
   \   000016   12....       LCALL   ?XSTACK_DISP0_8
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F5..         MOV     ?V0 + 6,A
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   F5..         MOV     ?V0 + 7,A
    539          #if (HAL_LCD == TRUE)
    540            uint8 tmpLen;
    541            uint8 buf[LCD_MAX_BUF];
    542            uint32 err;
    543          
    544            tmpLen = (uint8)osal_strlen( (char*)title );
   \   000020                ; Setup parameters for call to function osal_strlen
   \   000020   12....       LCALL   ??osal_strlen?relay
   \   000023   EA           MOV     A,R2
   \   000024   F5..         MOV     ?V0 + 4,A
    545            if ( tmpLen )
   \   000026   601E         JZ      ??HalLcdWriteStringValueValue_0
    546            {
    547              osal_memcpy( buf, title, tmpLen );
   \   000028                ; Setup parameters for call to function osal_memcpy
   \   000028   75..00       MOV     ?V0 + 2,#0x0
   \   00002B   78..         MOV     R0,#?V0 + 0
   \   00002D   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000030   EA           MOV     A,R2
   \   000031   F5..         MOV     ?V0 + 0,A
   \   000033   FC           MOV     R4,A
   \   000034   7D00         MOV     R5,#0x0
   \   000036   7403         MOV     A,#0x3
   \   000038   12....       LCALL   ?XSTACK_DISP0_8
   \   00003B   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   00003E   12....       LCALL   ?DEALLOC_XSTACK8
    548              buf[tmpLen++] = ' ';
   \   000041   12....       LCALL   ?Subroutine1 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   000044   05..         INC     ?V0 + 4
    549            }
    550          
    551            err = (uint32)(value1);
    552            _ltoa( err, &buf[tmpLen], format1 );
   \                     ??HalLcdWriteStringValueValue_0:
   \   000046                ; Setup parameters for call to function _ltoa
   \   000046   85..82       MOV     DPL,?XSP + 0
   \   000049   85..83       MOV     DPH,?XSP + 1
   \   00004C   E582         MOV     A,DPL
   \   00004E   25..         ADD     A,?V0 + 4
   \   000050   F5..         MOV     ?V0 + 0,A
   \   000052   E583         MOV     A,DPH
   \   000054   3400         ADDC    A,#0x0
   \   000056   F5..         MOV     ?V0 + 1,A
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005D   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000060   12....       LCALL   ?DEALLOC_XSTACK8
    553            tmpLen = (uint8)osal_strlen( (char*)buf );
   \   000063                ; Setup parameters for call to function osal_strlen
   \   000063   85..82       MOV     DPL,?XSP + 0
   \   000066   85..83       MOV     DPH,?XSP + 1
   \   000069   AA82         MOV     R2,DPL
   \   00006B   AB83         MOV     R3,DPH
   \   00006D   12....       LCALL   ??osal_strlen?relay
   \   000070   EA           MOV     A,R2
   \   000071   F5..         MOV     ?V0 + 4,A
    554          
    555            buf[tmpLen++] = ',';
   \   000073   F5..         MOV     ?V0 + 0,A
   \   000075   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000078   742C         MOV     A,#0x2c
   \   00007A   F0           MOVX    @DPTR,A
   \   00007B   05..         INC     ?V0 + 4
    556            buf[tmpLen++] = ' ';
   \   00007D   85....       MOV     ?V0 + 0,?V0 + 4
   \   000080   12....       LCALL   ?Subroutine1 & 0xFFFF
    557            err = (uint32)(value2);
    558            _ltoa( err, &buf[tmpLen], format2 );
   \                     ??CrossCallReturnLabel_4:
   \   000083                ; Setup parameters for call to function _ltoa
   \   000083   7401         MOV     A,#0x1
   \   000085   25..         ADD     A,?V0 + 4
   \   000087   F8           MOV     R0,A
   \   000088   85..82       MOV     DPL,?XSP + 0
   \   00008B   85..83       MOV     DPH,?XSP + 1
   \   00008E   E582         MOV     A,DPL
   \   000090   28           ADD     A,R0
   \   000091   F5..         MOV     ?V0 + 0,A
   \   000093   E583         MOV     A,DPH
   \   000095   3400         ADDC    A,#0x0
   \   000097   F5..         MOV     ?V0 + 1,A
   \   000099   78..         MOV     R0,#?V0 + 0
   \   00009B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009E   742D         MOV     A,#0x2d
   \   0000A0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A3   E0           MOVX    A,@DPTR
   \   0000A4   F9           MOV     R1,A
   \   0000A5   AA..         MOV     R2,?V0 + 6
   \   0000A7   AB..         MOV     R3,?V0 + 7
   \   0000A9   12....       LCALL   ??Subroutine8_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   0000AC   12....       LCALL   ?DEALLOC_XSTACK8
    559          
    560            HalLcdWriteString( (char *)buf, line );		
   \   0000AF                ; Setup parameters for call to function HalLcdWriteString
   \   0000AF   742C         MOV     A,#0x2c
   \   0000B1   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B4   E0           MOVX    A,@DPTR
   \   0000B5   F9           MOV     R1,A
   \   0000B6   85..82       MOV     DPL,?XSP + 0
   \   0000B9   85..83       MOV     DPH,?XSP + 1
   \   0000BC   AA82         MOV     R2,DPL
   \   0000BE   AB83         MOV     R3,DPH
   \   0000C0   12....       LCALL   ??HalLcdWriteString?relay
    561          #endif /* HAL_LCD */
    562          }
   \   0000C3   7419         MOV     A,#0x19
   \   0000C5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000C8   7F08         MOV     R7,#0x8
   \   0000CA   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000003   22           RET
    563          
    564          /**************************************************************************************************
    565           * @fn      HalLcdDisplayPercentBar
    566           *
    567           * @brief   Display percentage bar on the LCD
    568           *
    569           * @param   title   -
    570           *          value   -
    571           *
    572           * @return  None
    573           **************************************************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    574          void HalLcdDisplayPercentBar( char *title, uint8 value )
   \                     HalLcdDisplayPercentBar:
    575          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 17
   \   000005   74EF         MOV     A,#-0x11
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    576          #if (HAL_LCD == TRUE)
    577            uint8 percent;
    578            uint8 leftOver;
    579            uint8 buf[HAL_LCD_MAX_CHARS+1];
    580            uint32 err;
    581            uint8 x;
    582          
    583            /* Write the title: */
    584            HalLcdWriteString( title, HAL_LCD_LINE_1 );
   \   00000C                ; Setup parameters for call to function HalLcdWriteString
   \   00000C   7900         MOV     R1,#0x0
   \   00000E   12....       LCALL   ??HalLcdWriteString?relay
    585          
    586            if ( value > 100 )
   \   000011   EE           MOV     A,R6
   \   000012   C3           CLR     C
   \   000013   9465         SUBB    A,#0x65
   \   000015   4002         JC      ??HalLcdDisplayPercentBar_0
    587              value = 100;
   \   000017   7E64         MOV     R6,#0x64
    588          
    589            /* convert to blocks */
    590            percent = (byte)(value / 10);
   \                     ??HalLcdDisplayPercentBar_0:
   \   000019   75F00A       MOV     B,#0xa
   \   00001C   EE           MOV     A,R6
   \   00001D   84           DIV     AB
   \   00001E   F5..         MOV     ?V0 + 3,A
    591            leftOver = (byte)(value % 10);
   \   000020   EE           MOV     A,R6
   \   000021   75F00A       MOV     B,#0xa
   \   000024   84           DIV     AB
   \   000025   AFF0         MOV     R7,B
    592          
    593            /* Make window */
    594            osal_memcpy( buf, "[          ]  ", 15 );
   \   000027                ; Setup parameters for call to function osal_memcpy
   \   000027   75....       MOV     ?V0 + 0,#(`?<Constant "[          ]  ">` & 0xff)
   \   00002A   75....       MOV     ?V0 + 1,#((`?<Constant "[          ]  ">` >> 8) & 0xff)
   \   00002D   75..00       MOV     ?V0 + 2,#0x0
   \   000030   78..         MOV     R0,#?V0 + 0
   \   000032   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000035   7C0F         MOV     R4,#0xf
   \   000037   7D00         MOV     R5,#0x0
   \   000039   7403         MOV     A,#0x3
   \   00003B   12....       LCALL   ?XSTACK_DISP0_8
   \   00003E   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   000041   12....       LCALL   ?DEALLOC_XSTACK8
    595          
    596            for ( x = 0; x < percent; x ++ )
   \   000044   800C         SJMP    ??HalLcdDisplayPercentBar_1
    597            {
    598              buf[1+x] = '>';
   \                     ??HalLcdDisplayPercentBar_2:
   \   000046   85....       MOV     ?V0 + 0,?V0 + 2
   \   000049   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00004C   A3           INC     DPTR
   \   00004D   743E         MOV     A,#0x3e
   \   00004F   F0           MOVX    @DPTR,A
    599            }
   \   000050   05..         INC     ?V0 + 2
   \                     ??HalLcdDisplayPercentBar_1:
   \   000052   E5..         MOV     A,?V0 + 2
   \   000054   C3           CLR     C
   \   000055   95..         SUBB    A,?V0 + 3
   \   000057   40ED         JC      ??HalLcdDisplayPercentBar_2
    600          
    601            if ( leftOver >= 5 )
   \   000059   EF           MOV     A,R7
   \   00005A   C3           CLR     C
   \   00005B   9405         SUBB    A,#0x5
   \   00005D   4016         JC      ??HalLcdDisplayPercentBar_3
    602              buf[1+x] = '+';
   \   00005F   85..82       MOV     DPL,?XSP + 0
   \   000062   85..83       MOV     DPH,?XSP + 1
   \   000065   E582         MOV     A,DPL
   \   000067   25..         ADD     A,?V0 + 2
   \   000069   F582         MOV     DPL,A
   \   00006B   E583         MOV     A,DPH
   \   00006D   3400         ADDC    A,#0x0
   \   00006F   F583         MOV     DPH,A
   \   000071   A3           INC     DPTR
   \   000072   742B         MOV     A,#0x2b
   \   000074   F0           MOVX    @DPTR,A
    603          
    604            err = (uint32)value;
    605            _ltoa( err, (uint8*)&buf[13], 10 );
   \                     ??HalLcdDisplayPercentBar_3:
   \   000075                ; Setup parameters for call to function _ltoa
   \   000075   740D         MOV     A,#0xd
   \   000077   12....       LCALL   ?XSTACK_DISP0_8
   \   00007A   8582..       MOV     ?V0 + 0,DPL
   \   00007D   8583..       MOV     ?V0 + 1,DPH
   \   000080   78..         MOV     R0,#?V0 + 0
   \   000082   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000085   790A         MOV     R1,#0xa
   \   000087   EE           MOV     A,R6
   \   000088   FA           MOV     R2,A
   \   000089   7B00         MOV     R3,#0x0
   \   00008B   12....       LCALL   ??Subroutine8_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   00008E   12....       LCALL   ?DEALLOC_XSTACK8
    606          
    607            HalLcdWriteString( (char*)buf, HAL_LCD_LINE_2 );
   \   000091                ; Setup parameters for call to function HalLcdWriteString
   \   000091   7902         MOV     R1,#0x2
   \   000093   85..82       MOV     DPL,?XSP + 0
   \   000096   85..83       MOV     DPH,?XSP + 1
   \   000099   AA82         MOV     R2,DPL
   \   00009B   AB83         MOV     R3,DPH
   \   00009D   12....       LCALL   ??HalLcdWriteString?relay
    608          #endif /* HAL_LCD */
    609          }
   \   0000A0   7411         MOV     A,#0x11
   \   0000A2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000A5   7F04         MOV     R7,#0x4
   \   0000A7   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   12....       LCALL   ??LCD_write_byte?relay
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003                ; Setup parameters for call to function LCD_write_byte
   \   000003   7A00         MOV     R2,#0x0
   \   000005   7980         MOV     R1,#-0x80
   \   000007   12....       LCALL   ??LCD_write_byte?relay
   \   00000A   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "Figure8 Wireless"`:
   \   000000   46696775     DB "Figure8 Wireless"
   \            72653820
   \            57697265
   \            6C657373
   \            00      

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for <Constant "[          ]  ">>`:
   \   000000   5B202020     DB "[          ]  "
   \            20202020
   \            2020205D
   \            202000  

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Delay_nms?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Delay_nms

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LCD_write_byte?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LCD_write_byte

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??initLcd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    initLcd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??LCD_write_english_string?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    LCD_write_english_string

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdInit?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdInit

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdWriteString?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdWriteString

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdWriteValue?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdWriteValue

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdWriteScreen?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdWriteScreen

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdWriteStringValue?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdWriteStringValue

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdWriteStringValueValue?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdWriteStringValueValue

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??HalLcdDisplayPercentBar?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HalLcdDisplayPercentBar

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "Figure8 Wireless">`:
   \   000000                DS 17
   \   000011                REQUIRE `?<Initializer for <Constant "Figure8 Wireless"`
   \   000011                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \                     `?<Constant "[          ]  ">`:
   \   000000                DS 15
   \   00000F                REQUIRE `?<Initializer for <Constant "[          ]  ">>`
   \   00000F                REQUIRE __INIT_XDATA_I
    610          /**************************************************************************************************
    611          **************************************************************************************************/
    612          
    613          
    614          

   Maximum stack usage in bytes:

     Function                      ISTACK PSTACK XSTACK
     --------                      ------ ------ ------
     Delay_nms                         0      0      9
     HalLcdDisplayPercentBar           1      0     32
       -> HalLcdWriteString            0      0     58
       -> osal_memcpy                  0      0     64
       -> _ltoa                        0      0     62
       -> HalLcdWriteString            0      0     58
     HalLcdInit                        2      0      0
       -> initLcd                      4      0      0
     HalLcdWriteScreen                 0      0      9
       -> HalLcdWriteString            0      0     18
       -> HalLcdWriteString            0      0     18
     HalLcdWriteString                 1      0     63
       -> osal_mem_alloc               0      0     38
       -> HalLcdWriteString            0      0     38
       -> osal_strlen                  0      0     38
       -> osal_memcpy                  0      0     44
       -> osal_strlen                  0      0     38
       -> osal_mem_alloc               0      0     38
       -> osal_memcpy                  0      0     44
       -> osal_memcpy                  0      0     44
       -> osal_mem_free                0      0     38
       -> LCD_write_english_string     0      0     38
     HalLcdWriteStringValue            1      0     43
       -> osal_strlen                  0      0     78
       -> osal_memcpy                  0      0     84
       -> _ltoa                        0      0     82
       -> HalLcdWriteString            0      0     78
     HalLcdWriteStringValueValue       1      0     48
       -> osal_strlen                  0      0     82
       -> osal_memcpy                  0      0     88
       -> _ltoa                        0      0     86
       -> osal_strlen                  0      0     82
       -> _ltoa                        0      0     86
       -> HalLcdWriteString            0      0     82
     HalLcdWriteValue                  0      0     42
       -> _ltoa                        0      0     82
       -> HalLcdWriteString            0      0     78
     LCD_write_byte                    0      0     13
     LCD_write_english_string          0      0     32
       -> LCD_write_byte               0      0     26
       -> LCD_write_byte               0      0     26
       -> LCD_write_byte               0      0     26
       -> LCD_write_byte               0      0     26
       -> LCD_write_byte               0      0     26
       -> LCD_write_byte               0      0     26
     initLcd                           0      0      9
       -> Delay_nms                    0      0     18
       -> Delay_nms                    0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18
       -> LCD_write_byte               0      0     18


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     _A_P1                             1
     P1SEL                             1
     P1DIR                             1
     font6x8                         576
     Lcd_Line1                         2
     Delay_nms                        30
     LCD_write_byte                   48
     initLcd                          99
     ?Subroutine12                     5
     ?Subroutine3                      6
     LCD_write_english_string        140
     HalLcdInit                       21
     HalLcdWriteString               298
     ?Subroutine7                      9
     ?Subroutine6                     10
     ?Subroutine5                      5
     ?Subroutine13                     6
     ?Subroutine4                     12
     ?Subroutine0                     13
     HalLcdWriteValue                 42
     ?Subroutine14                    23
     ?Subroutine8                     20
     HalLcdWriteScreen                26
     HalLcdWriteStringValue           82
     ?Subroutine10                     7
     ?Subroutine1                      7
     ?Subroutine11                    19
     HalLcdWriteStringValueValue     205
     ?Subroutine9                      4
     HalLcdDisplayPercentBar         170
     ?Subroutine2                     11
     ?<Initializer for <Constant "Figure8 Wireless"
                                      17
     ?<Initializer for <Constant "[          ]  ">>
                                      15
     ??Delay_nms?relay                 6
     ??LCD_write_byte?relay            6
     ??initLcd?relay                   6
     ??LCD_write_english_string?relay
                                       6
     ??HalLcdInit?relay                6
     ??HalLcdWriteString?relay         6
     ??HalLcdWriteValue?relay          6
     ??HalLcdWriteScreen?relay         6
     ??HalLcdWriteStringValue?relay    6
     ??HalLcdWriteStringValueValue?relay
                                       6
     ??HalLcdDisplayPercentBar?relay
                                       6
     ?<Constant "Figure8 Wireless">   17
     ?<Constant "[          ]  ">     15

 
 1 318 bytes in segment BANKED_CODE
    66 bytes in segment BANK_RELAYS
   576 bytes in segment CODE_C
     3 bytes in segment SFR_AN
    32 bytes in segment XDATA_I
    32 bytes in segment XDATA_ID
     2 bytes in segment XDATA_Z
 
 1 992 bytes of CODE  memory
     0 bytes of DATA  memory (+ 3 bytes shared)
    34 bytes of XDATA memory

Errors: none
Warnings: none
