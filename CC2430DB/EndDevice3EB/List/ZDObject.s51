///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR 8051 C/C++ Compiler V7.30B/W32                   03/Apr/2013  14:45:07 /
// Copyright 2004-2007 IAR Systems. All rights reserved.                      /
//                                                                            /
//    Core               =  plain                                             /
//    Code model         =  banked                                            /
//    Data model         =  large                                             /
//    Calling convention =  xdata reentrant                                   /
//    Constant location  =  data                                              /
//    Dptr setup         =  1,16                                              /
//    Source file        =  C:\Texas Instruments\ZStack-1.4.3-1.2.1\Component /
//                          s\stack\zdo\ZDObject.c                            /
//    Command line       =  -f "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\Tools\CC2430DB\f8wEndev.cfg"  /
//                          (-DCPU32MHZ -DFORCE_MAC_NEAR -DROOT=__near_func   /
//                          -DMAC_OPT_FFD=0 -DBLINK_LEDS "-DCONST=const       /
//                          __code" -DGENERIC=__generic) -f "C:\Texas         /
//                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sa /
//                          mples\cc2430-zstack-adxl345 -                     /
//                          2\CC2430DB\..\..\..\Tools\CC2430DB\f8wConfig.cfg" /
//                           (-DSECURE=0 -DDEFAULT_CHANLIST=0x00000800        /
//                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                      /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_M /
//                          ASK=0x007F -DBEACON_REQUEST_DELAY=100             /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                    /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_P /
//                          OLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7           /
//                          -DMAX_RREQ_ENTRIES=10 -DAPSC_MAX_FRAME_RETRIES=3  /
//                          -DNWK_MAX_DATA_RETRIES=2                          /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9        /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=20          /
//                          -DNWK_MAX_BINDING_ENTRIES=10                      /
//                          -DMAX_BINDING_CLUSTER_IDS=5                       /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,     /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,   /
//                          0x0A, 0x0C, 0x0D}" -DRFD_RCVC_ALWAYS_ON=FALSE     /
//                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100           /
//                          -DRESPONSE_POLL_RATE=100) -DREJOIN_POLL_RATE=440  /
//                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Componen /
//                          ts\stack\zdo\ZDObject.c" -D CC2430EB -D AXD_END   /
//                          -D AXD_END_C -D NWK_AUTO_POLL -D REFLECTOR -D     /
//                          xZTOOL_P1 -D xMT_TASK -D xMT_ZDO_FUNC -D          /
//                          xLCD_SUPPORTED=DEBUG -D xPOWER_SAVING -lC         /
//                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects /
//                          \zstack\Samples\cc2430-zstack-adxl345 -           /
//                          2\CC2430DB\EndDevice3EB\List\" -lA "C:\Texas      /
//                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sa /
//                          mples\cc2430-zstack-adxl345 -                     /
//                          2\CC2430DB\EndDevice3EB\List\" --diag_suppress    /
//                          Pe001,Pa010 --diag_remark pe550 -o "C:\Texas      /
//                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sa /
//                          mples\cc2430-zstack-adxl345 -                     /
//                          2\CC2430DB\EndDevice3EB\Obj\" -e                  /
//                          --require_prototypes -z2 --no_cse --no_unroll     /
//                          --no_inline --no_code_motion --no_tbaa --debug    /
//                          --core=plain --dptr=16,1 --data_model=large       /
//                          --code_model=banked --calling_convention=xdata_re /
//                          entrant --place_constants=data --nr_virtual_regs  /
//                          8 -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Pro /
//                          jects\zstack\Samples\cc2430-zstack-adxl345 -      /
//                          2\CC2430DB\" -I "C:\Texas                         /
//                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sa /
//                          mples\cc2430-zstack-adxl345 -                     /
//                          2\CC2430DB\..\SOURCE\" -I "C:\Texas               /
//                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sa /
//                          mples\cc2430-zstack-adxl345 -                     /
//                          2\CC2430DB\..\Drivers\" -I "C:\Texas              /
//                          Instruments\ZStack-1.4.3-1.2.1\Projects\zstack\Sa /
//                          mples\cc2430-zstack-adxl345 -                     /
//                          2\CC2430DB\..\..\..\ZMAIN\TI2430DB\" -I           /
//                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects /
//                          \zstack\Samples\cc2430-zstack-adxl345 -           /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\MT\" -I      /
//                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects /
//                          \zstack\Samples\cc2430-zstack-adxl345 -           /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\HAL\INCLUDE\ /
//                          " -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Pro /
//                          jects\zstack\Samples\cc2430-zstack-adxl345 -      /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\HAL\TARGET\C /
//                          C2430EB\" -I "C:\Texas Instruments\ZStack-1.4.3-1 /
//                          .2.1\Projects\zstack\Samples\cc2430-zstack-adxl34 /
//                          5 - 2\CC2430DB\..\..\..\..\..\COMPONENTS\OSAL\MCU /
//                          \CCSOC\" -I "C:\Texas Instruments\ZStack-1.4.3-1. /
//                          2.1\Projects\zstack\Samples\cc2430-zstack-adxl345 /
//                           - 2\CC2430DB\..\..\..\..\..\COMPONENTS\OSAL\INCL /
//                          UDE\" -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1 /
//                          \Projects\zstack\Samples\cc2430-zstack-adxl345 -  /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\STACK\AF\"   /
//                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\STACK\NWK\"  /
//                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\STACK\SEC\"  /
//                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\STACK\SYS\"  /
//                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\STACK\ZDO\"  /
//                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\ZMAC\F8W\"   /
//                          -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Proje /
//                          cts\zstack\Samples\cc2430-zstack-adxl345 -        /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\ZMAC\" -I    /
//                          "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects /
//                          \zstack\Samples\cc2430-zstack-adxl345 -           /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\SERVICES\SAD /
//                          DR\" -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\ /
//                          Projects\zstack\Samples\cc2430-zstack-adxl345 -   /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\SERVICES\SDA /
//                          TA\" -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\ /
//                          Projects\zstack\Samples\cc2430-zstack-adxl345 -   /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\MAC\INCLUDE\ /
//                          " -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\Pro /
//                          jects\zstack\Samples\cc2430-zstack-adxl345 -      /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\MAC\HIGH_LEV /
//                          EL\" -I "C:\Texas Instruments\ZStack-1.4.3-1.2.1\ /
//                          Projects\zstack\Samples\cc2430-zstack-adxl345 -   /
//                          2\CC2430DB\..\..\..\..\..\COMPONENTS\MAC\LOW_LEVE /
//                          L\SRF03\" -I "C:\Texas Instruments\ZStack-1.4.3-1 /
//                          .2.1\Projects\zstack\Samples\cc2430-zstack-adxl34 /
//                          5 - 2\CC2430DB\..\..\..\..\..\COMPONENTS\MAC\LOW_ /
//                          LEVEL\SRF03\SINGLE_CHIP\" -I "C:\Program          /
//                          Files\IAR Systems\Embedded Workbench 4.0          /
//                          Evaluation version\8051\INC\" -I "C:\Program      /
//                          Files\IAR Systems\Embedded Workbench 4.0          /
//                          Evaluation version\8051\INC\CLIB\"                /
//    List file          =  C:\Texas Instruments\ZStack-1.4.3-1.2.1\Projects\ /
//                          zstack\Samples\cc2430-zstack-adxl345 -            /
//                          2\CC2430DB\EndDevice3EB\List\ZDObject.s51         /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME ZDObject

        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ??ZDODeviceSetup?relay
        EXTERN ??ZDO_AnyClusterMatches?relay
        EXTERN ??ZDO_ConvertOTAClusters?relay
        EXTERN ??ZDO_ParseSimpleDescBuf?relay
        EXTERN ??ZDO_RemoveEndDeviceBind?relay
        EXTERN ??ZDO_SendEDBindRsp?relay
        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?CALL_IND
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?L_MOV_X
        EXTERN ?PUSH_XSTACK8_X_TWO
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_THREE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?S_SHL
        EXTERN ?V0
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

        FUNCTION ??ZDODeviceSetup?relay,0203H
        PUBLIC ??ZDO_AnyClusterMatches?relay
        FUNCTION ??ZDO_AnyClusterMatches?relay,0203H
        PUBLIC ??ZDO_BuildSimpleDescBuf?relay
        FUNCTION ??ZDO_BuildSimpleDescBuf?relay,0203H
        PUBLIC ??ZDO_ConvertOTAClusters?relay
        FUNCTION ??ZDO_ConvertOTAClusters?relay,0203H
        PUBLIC ??ZDO_EndDeviceTimeoutCB?relay
        FUNCTION ??ZDO_EndDeviceTimeoutCB?relay,0203H
        PUBLIC ??ZDO_Init?relay
        FUNCTION ??ZDO_Init?relay,0203H
        PUBLIC ??ZDO_ParseAddrRsp?relay
        FUNCTION ??ZDO_ParseAddrRsp?relay,0203H
        PUBLIC ??ZDO_ParseBindUnbindReq?relay
        FUNCTION ??ZDO_ParseBindUnbindReq?relay,0203H
        PUBLIC ??ZDO_ParseDeviceAnnce?relay
        FUNCTION ??ZDO_ParseDeviceAnnce?relay,0203H
        PUBLIC ??ZDO_ParseEPListRsp?relay
        FUNCTION ??ZDO_ParseEPListRsp?relay,0203H
        PUBLIC ??ZDO_ParseEndDeviceBindReq?relay
        FUNCTION ??ZDO_ParseEndDeviceBindReq?relay,0203H
        PUBLIC ??ZDO_ParseMgmNwkDiscRsp?relay
        FUNCTION ??ZDO_ParseMgmNwkDiscRsp?relay,0203H
        PUBLIC ??ZDO_ParseMgmtBindRsp?relay
        FUNCTION ??ZDO_ParseMgmtBindRsp?relay,0203H
        PUBLIC ??ZDO_ParseMgmtLqiRsp?relay
        FUNCTION ??ZDO_ParseMgmtLqiRsp?relay,0203H
        PUBLIC ??ZDO_ParseMgmtRtgRsp?relay
        FUNCTION ??ZDO_ParseMgmtRtgRsp?relay,0203H
        PUBLIC ??ZDO_ParseNodeDescRsp?relay
        FUNCTION ??ZDO_ParseNodeDescRsp?relay,0203H
        PUBLIC ??ZDO_ParsePowerDescRsp?relay
        FUNCTION ??ZDO_ParsePowerDescRsp?relay,0203H
        PUBLIC ??ZDO_ParseServerDiscRsp?relay
        FUNCTION ??ZDO_ParseServerDiscRsp?relay,0203H
        PUBLIC ??ZDO_ParseSimpleDescBuf?relay
        FUNCTION ??ZDO_ParseSimpleDescBuf?relay,0203H
        PUBLIC ??ZDO_ParseSimpleDescRsp?relay
        FUNCTION ??ZDO_ParseSimpleDescRsp?relay,0203H
        PUBLIC ??ZDO_ParseUserDescRsp?relay
        FUNCTION ??ZDO_ParseUserDescRsp?relay,0203H
        PUBLIC ??ZDO_ProcessActiveEPReq?relay
        FUNCTION ??ZDO_ProcessActiveEPReq?relay,0203H
        PUBLIC ??ZDO_ProcessBindUnbindReq?relay
        FUNCTION ??ZDO_ProcessBindUnbindReq?relay,0203H
        PUBLIC ??ZDO_ProcessMatchDescReq?relay
        FUNCTION ??ZDO_ProcessMatchDescReq?relay,0203H
        PUBLIC ??ZDO_ProcessNodeDescReq?relay
        FUNCTION ??ZDO_ProcessNodeDescReq?relay,0203H
        PUBLIC ??ZDO_ProcessPowerDescReq?relay
        FUNCTION ??ZDO_ProcessPowerDescReq?relay,0203H
        PUBLIC ??ZDO_ProcessSimpleDescReq?relay
        FUNCTION ??ZDO_ProcessSimpleDescReq?relay,0203H
        FUNCTION ??ZDO_RemoveEndDeviceBind?relay,0203H
        FUNCTION ??ZDO_SendEDBindRsp?relay,0203H
        PUBLIC ??ZDO_StartDevice?relay
        FUNCTION ??ZDO_StartDevice?relay,0203H
        PUBLIC ??ZDO_UpdateAddrManager?relay
        FUNCTION ??ZDO_UpdateAddrManager?relay,0203H
        PUBLIC ??ZDO_UpdateNwkStatus?relay
        FUNCTION ??ZDO_UpdateNwkStatus?relay,0203H
        FUNCTION ZDODeviceSetup,021203H
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDO_AnyClusterMatches
        FUNCTION ZDO_AnyClusterMatches,0203H
        ARGFRAME XSTACK, 36, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 13, STACK
        PUBLIC ZDO_BuildSimpleDescBuf
        FUNCTION ZDO_BuildSimpleDescBuf,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC ZDO_ConvertOTAClusters
        FUNCTION ZDO_ConvertOTAClusters,0203H
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME XSTACK, 11, STACK
        PUBLIC ZDO_EndDeviceTimeoutCB
        FUNCTION ZDO_EndDeviceTimeoutCB,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC ZDO_Init
        FUNCTION ZDO_Init,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDO_ParseAddrRsp
        FUNCTION ZDO_ParseAddrRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 16, STACK
        PUBLIC ZDO_ParseBindUnbindReq
        FUNCTION ZDO_ParseBindUnbindReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC ZDO_ParseDeviceAnnce
        FUNCTION ZDO_ParseDeviceAnnce,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC ZDO_ParseEPListRsp
        FUNCTION ZDO_ParseEPListRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 20, STACK
        PUBLIC ZDO_ParseEndDeviceBindReq
        FUNCTION ZDO_ParseEndDeviceBindReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC ZDO_ParseMgmNwkDiscRsp
        FUNCTION ZDO_ParseMgmNwkDiscRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC ZDO_ParseMgmtBindRsp
        FUNCTION ZDO_ParseMgmtBindRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC ZDO_ParseMgmtLqiRsp
        FUNCTION ZDO_ParseMgmtLqiRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC ZDO_ParseMgmtRtgRsp
        FUNCTION ZDO_ParseMgmtRtgRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC ZDO_ParseNodeDescRsp
        FUNCTION ZDO_ParseNodeDescRsp,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC ZDO_ParsePowerDescRsp
        FUNCTION ZDO_ParsePowerDescRsp,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC ZDO_ParseServerDiscRsp
        FUNCTION ZDO_ParseServerDiscRsp,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 9, STACK
        PUBLIC ZDO_ParseSimpleDescBuf
        FUNCTION ZDO_ParseSimpleDescBuf,021203H
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC ZDO_ParseSimpleDescRsp
        FUNCTION ZDO_ParseSimpleDescRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC ZDO_ParseUserDescRsp
        FUNCTION ZDO_ParseUserDescRsp,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC ZDO_ProcessActiveEPReq
        FUNCTION ZDO_ProcessActiveEPReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        PUBLIC ZDO_ProcessBindUnbindReq
        FUNCTION ZDO_ProcessBindUnbindReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 29, STACK
        PUBLIC ZDO_ProcessMatchDescReq
        FUNCTION ZDO_ProcessMatchDescReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 41, STACK
        PUBLIC ZDO_ProcessNodeDescReq
        FUNCTION ZDO_ProcessNodeDescReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC ZDO_ProcessPowerDescReq
        FUNCTION ZDO_ProcessPowerDescReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC ZDO_ProcessSimpleDescReq
        FUNCTION ZDO_ProcessSimpleDescReq,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        FUNCTION ZDO_RemoveEndDeviceBind,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 2, STACK
        FUNCTION ZDO_SendEDBindRsp,021203H
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 18, STACK
        PUBLIC ZDO_StartDevice
        FUNCTION ZDO_StartDevice,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 26, STACK
        PUBLIC ZDO_UpdateAddrManager
        FUNCTION ZDO_UpdateAddrManager,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 23, STACK
        PUBLIC ZDO_UpdateNwkStatus
        FUNCTION ZDO_UpdateNwkStatus,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBWEAK __Constant_0
        
        CFI Names cfiNames0
        CFI StackFrame CFA_SP SP DATA
        CFI StackFrame CFA_PSP16 PSP16 XDATA
        CFI StackFrame CFA_XSP16 XSP16 XDATA
        CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
        CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
        CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
        CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
        CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
        CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
        CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
        CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
        CFI Resource SP:8, PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
        CFI VirtualResource ?RET:24
        CFI Resource ?BRET_EXT:8
        CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
        CFI ResourceParts PSP16 PSPH, PSPL
        CFI ResourceParts XSP16 XSPH, XSPL
        CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-3
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B Undefined
        CFI A Undefined
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 Undefined
        CFI R5 Undefined
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT Frame(CFA_SP, 3)
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon0
        
APS_ReflectorInit   SYMBOL "APS_ReflectorInit"
NLME_DeviceJoiningInit SYMBOL "NLME_DeviceJoiningInit"
NLME_NetworkDiscoveryRequest SYMBOL "NLME_NetworkDiscoveryRequest"
nwk_ScanJoiningOrphan SYMBOL "nwk_ScanJoiningOrphan"
NLME_OrphanJoinRequest SYMBOL "NLME_OrphanJoinRequest"
osal_start_timerEx  SYMBOL "osal_start_timerEx"
NLME_GetShortAddr   SYMBOL "NLME_GetShortAddr"
NLME_GetExtAddr     SYMBOL "NLME_GetExtAddr"
osal_msg_allocate   SYMBOL "osal_msg_allocate"
osal_msg_send       SYMBOL "osal_msg_send"
osal_mem_free       SYMBOL "osal_mem_free"
ZDP_SendData        SYMBOL "ZDP_SendData"
ZDP_NodeDescMsg     SYMBOL "ZDP_NodeDescMsg"
ZDP_GenericRsp      SYMBOL "ZDP_GenericRsp"
ZDP_PowerDescMsg    SYMBOL "ZDP_PowerDescMsg"
afFindSimpleDesc    SYMBOL "afFindSimpleDesc"
ZDP_SimpleDescMsg   SYMBOL "ZDP_SimpleDescMsg"
afNumEndPoints      SYMBOL "afNumEndPoints"
afEndPoints         SYMBOL "afEndPoints"
ZDP_EPRsp           SYMBOL "ZDP_EPRsp"
NLME_IsAddressBroadcast SYMBOL "NLME_IsAddressBroadcast"
osal_mem_alloc      SYMBOL "osal_mem_alloc"
osal_memcpy         SYMBOL "osal_memcpy"
osal_cpyExtAddr     SYMBOL "osal_cpyExtAddr"
osal_ExtAddrEqual   SYMBOL "osal_ExtAddrEqual"
APSME_LookupNwkAddr SYMBOL "APSME_LookupNwkAddr"
ZDP_NwkAddrReq      SYMBOL "ZDP_NwkAddrReq"
APSME_BindRequest   SYMBOL "APSME_BindRequest"
ZDApp_NVUpdate      SYMBOL "ZDApp_NVUpdate"
APSME_UnBindRequest SYMBOL "APSME_UnBindRequest"
AddrMgrExtAddrSet   SYMBOL "AddrMgrExtAddrSet"
AddrMgrEntryUpdate  SYMBOL "AddrMgrEntryUpdate"
??APSME_BindRequest?relay SYMBOL "?relay", APSME_BindRequest
??APSME_LookupNwkAddr?relay SYMBOL "?relay", APSME_LookupNwkAddr
??APSME_UnBindRequest?relay SYMBOL "?relay", APSME_UnBindRequest
??APS_ReflectorInit?relay SYMBOL "?relay", APS_ReflectorInit
??AddrMgrEntryUpdate?relay SYMBOL "?relay", AddrMgrEntryUpdate
??AddrMgrExtAddrSet?relay SYMBOL "?relay", AddrMgrExtAddrSet
??NLME_DeviceJoiningInit?relay SYMBOL "?relay", NLME_DeviceJoiningInit
??NLME_GetExtAddr?relay SYMBOL "?relay", NLME_GetExtAddr
??NLME_GetShortAddr?relay SYMBOL "?relay", NLME_GetShortAddr
??NLME_IsAddressBroadcast?relay SYMBOL "?relay", NLME_IsAddressBroadcast
??NLME_NetworkDiscoveryRequest?relay SYMBOL "?relay", NLME_NetworkDiscoveryRequest
??NLME_OrphanJoinRequest?relay SYMBOL "?relay", NLME_OrphanJoinRequest
??ZDApp_NVUpdate?relay SYMBOL "?relay", ZDApp_NVUpdate
??ZDP_EPRsp?relay   SYMBOL "?relay", ZDP_EPRsp
??ZDP_GenericRsp?relay SYMBOL "?relay", ZDP_GenericRsp
??ZDP_NodeDescMsg?relay SYMBOL "?relay", ZDP_NodeDescMsg
??ZDP_NwkAddrReq?relay SYMBOL "?relay", ZDP_NwkAddrReq
??ZDP_PowerDescMsg?relay SYMBOL "?relay", ZDP_PowerDescMsg
??ZDP_SendData?relay SYMBOL "?relay", ZDP_SendData
??ZDP_SimpleDescMsg?relay SYMBOL "?relay", ZDP_SimpleDescMsg
??afEndPoints?relay SYMBOL "?relay", afEndPoints
??afFindSimpleDesc?relay SYMBOL "?relay", afFindSimpleDesc
??afNumEndPoints?relay SYMBOL "?relay", afNumEndPoints
??nwk_ScanJoiningOrphan?relay SYMBOL "?relay", nwk_ScanJoiningOrphan
??osal_ExtAddrEqual?relay SYMBOL "?relay", osal_ExtAddrEqual
??osal_cpyExtAddr?relay SYMBOL "?relay", osal_cpyExtAddr
??osal_mem_alloc?relay SYMBOL "?relay", osal_mem_alloc
??osal_mem_free?relay SYMBOL "?relay", osal_mem_free
??osal_memcpy?relay SYMBOL "?relay", osal_memcpy
??osal_msg_allocate?relay SYMBOL "?relay", osal_msg_allocate
??osal_msg_send?relay SYMBOL "?relay", osal_msg_send
??osal_start_timerEx?relay SYMBOL "?relay", osal_start_timerEx
ZDO_AnyClusterMatches SYMBOL "ZDO_AnyClusterMatches"
??ZDO_AnyClusterMatches?relay SYMBOL "?relay", ZDO_AnyClusterMatches
ZDO_BuildSimpleDescBuf SYMBOL "ZDO_BuildSimpleDescBuf"
??ZDO_BuildSimpleDescBuf?relay SYMBOL "?relay", ZDO_BuildSimpleDescBuf
ZDO_ConvertOTAClusters SYMBOL "ZDO_ConvertOTAClusters"
??ZDO_ConvertOTAClusters?relay SYMBOL "?relay", ZDO_ConvertOTAClusters
ZDO_EndDeviceTimeoutCB SYMBOL "ZDO_EndDeviceTimeoutCB"
??ZDO_EndDeviceTimeoutCB?relay SYMBOL "?relay", ZDO_EndDeviceTimeoutCB
ZDO_Init            SYMBOL "ZDO_Init"
??ZDO_Init?relay    SYMBOL "?relay", ZDO_Init
ZDO_ParseAddrRsp    SYMBOL "ZDO_ParseAddrRsp"
??ZDO_ParseAddrRsp?relay SYMBOL "?relay", ZDO_ParseAddrRsp
ZDO_ParseBindUnbindReq SYMBOL "ZDO_ParseBindUnbindReq"
??ZDO_ParseBindUnbindReq?relay SYMBOL "?relay", ZDO_ParseBindUnbindReq
ZDO_ParseDeviceAnnce SYMBOL "ZDO_ParseDeviceAnnce"
??ZDO_ParseDeviceAnnce?relay SYMBOL "?relay", ZDO_ParseDeviceAnnce
ZDO_ParseEPListRsp  SYMBOL "ZDO_ParseEPListRsp"
??ZDO_ParseEPListRsp?relay SYMBOL "?relay", ZDO_ParseEPListRsp
ZDO_ParseEndDeviceBindReq SYMBOL "ZDO_ParseEndDeviceBindReq"
??ZDO_ParseEndDeviceBindReq?relay SYMBOL "?relay", ZDO_ParseEndDeviceBindReq
ZDO_ParseMgmNwkDiscRsp SYMBOL "ZDO_ParseMgmNwkDiscRsp"
??ZDO_ParseMgmNwkDiscRsp?relay SYMBOL "?relay", ZDO_ParseMgmNwkDiscRsp
ZDO_ParseMgmtBindRsp SYMBOL "ZDO_ParseMgmtBindRsp"
??ZDO_ParseMgmtBindRsp?relay SYMBOL "?relay", ZDO_ParseMgmtBindRsp
ZDO_ParseMgmtLqiRsp SYMBOL "ZDO_ParseMgmtLqiRsp"
??ZDO_ParseMgmtLqiRsp?relay SYMBOL "?relay", ZDO_ParseMgmtLqiRsp
ZDO_ParseMgmtRtgRsp SYMBOL "ZDO_ParseMgmtRtgRsp"
??ZDO_ParseMgmtRtgRsp?relay SYMBOL "?relay", ZDO_ParseMgmtRtgRsp
ZDO_ParseNodeDescRsp SYMBOL "ZDO_ParseNodeDescRsp"
??ZDO_ParseNodeDescRsp?relay SYMBOL "?relay", ZDO_ParseNodeDescRsp
ZDO_ParsePowerDescRsp SYMBOL "ZDO_ParsePowerDescRsp"
??ZDO_ParsePowerDescRsp?relay SYMBOL "?relay", ZDO_ParsePowerDescRsp
ZDO_ParseServerDiscRsp SYMBOL "ZDO_ParseServerDiscRsp"
??ZDO_ParseServerDiscRsp?relay SYMBOL "?relay", ZDO_ParseServerDiscRsp
ZDO_ParseSimpleDescBuf SYMBOL "ZDO_ParseSimpleDescBuf"
??ZDO_ParseSimpleDescBuf?relay SYMBOL "?relay", ZDO_ParseSimpleDescBuf
ZDO_ParseSimpleDescRsp SYMBOL "ZDO_ParseSimpleDescRsp"
??ZDO_ParseSimpleDescRsp?relay SYMBOL "?relay", ZDO_ParseSimpleDescRsp
ZDO_ParseUserDescRsp SYMBOL "ZDO_ParseUserDescRsp"
??ZDO_ParseUserDescRsp?relay SYMBOL "?relay", ZDO_ParseUserDescRsp
ZDO_ProcessActiveEPReq SYMBOL "ZDO_ProcessActiveEPReq"
??ZDO_ProcessActiveEPReq?relay SYMBOL "?relay", ZDO_ProcessActiveEPReq
ZDO_ProcessBindUnbindReq SYMBOL "ZDO_ProcessBindUnbindReq"
??ZDO_ProcessBindUnbindReq?relay SYMBOL "?relay", ZDO_ProcessBindUnbindReq
ZDO_ProcessMatchDescReq SYMBOL "ZDO_ProcessMatchDescReq"
??ZDO_ProcessMatchDescReq?relay SYMBOL "?relay", ZDO_ProcessMatchDescReq
ZDO_ProcessNodeDescReq SYMBOL "ZDO_ProcessNodeDescReq"
??ZDO_ProcessNodeDescReq?relay SYMBOL "?relay", ZDO_ProcessNodeDescReq
ZDO_ProcessPowerDescReq SYMBOL "ZDO_ProcessPowerDescReq"
??ZDO_ProcessPowerDescReq?relay SYMBOL "?relay", ZDO_ProcessPowerDescReq
ZDO_ProcessSimpleDescReq SYMBOL "ZDO_ProcessSimpleDescReq"
??ZDO_ProcessSimpleDescReq?relay SYMBOL "?relay", ZDO_ProcessSimpleDescReq
ZDO_StartDevice     SYMBOL "ZDO_StartDevice"
??ZDO_StartDevice?relay SYMBOL "?relay", ZDO_StartDevice
ZDO_UpdateAddrManager SYMBOL "ZDO_UpdateAddrManager"
??ZDO_UpdateAddrManager?relay SYMBOL "?relay", ZDO_UpdateAddrManager
ZDO_UpdateNwkStatus SYMBOL "ZDO_UpdateNwkStatus"
??ZDO_UpdateNwkStatus?relay SYMBOL "?relay", ZDO_UpdateNwkStatus

        EXTERN APS_ReflectorInit
        FUNCTION APS_ReflectorInit,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_DeviceJoiningInit
        FUNCTION NLME_DeviceJoiningInit,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_NetworkDiscoveryRequest
        FUNCTION NLME_NetworkDiscoveryRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN nwk_ScanJoiningOrphan
        FUNCTION nwk_ScanJoiningOrphan,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_OrphanJoinRequest
        FUNCTION NLME_OrphanJoinRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetShortAddr
        FUNCTION NLME_GetShortAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_GetExtAddr
        FUNCTION NLME_GetExtAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_allocate
        FUNCTION osal_msg_allocate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_msg_send
        FUNCTION osal_msg_send,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_SendData
        FUNCTION ZDP_SendData,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_NodeDescMsg
        FUNCTION ZDP_NodeDescMsg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_GenericRsp
        FUNCTION ZDP_GenericRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_PowerDescMsg
        FUNCTION ZDP_PowerDescMsg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afFindSimpleDesc
        FUNCTION afFindSimpleDesc,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_SimpleDescMsg
        FUNCTION ZDP_SimpleDescMsg,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afNumEndPoints
        FUNCTION afNumEndPoints,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN afEndPoints
        FUNCTION afEndPoints,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_EPRsp
        FUNCTION ZDP_EPRsp,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN NLME_IsAddressBroadcast
        FUNCTION NLME_IsAddressBroadcast,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_cpyExtAddr
        FUNCTION osal_cpyExtAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN osal_ExtAddrEqual
        FUNCTION osal_ExtAddrEqual,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN APSME_LookupNwkAddr
        FUNCTION APSME_LookupNwkAddr,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDP_NwkAddrReq
        FUNCTION ZDP_NwkAddrReq,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN APSME_BindRequest
        FUNCTION APSME_BindRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ZDApp_NVUpdate
        FUNCTION ZDApp_NVUpdate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN APSME_UnBindRequest
        FUNCTION APSME_UnBindRequest,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN AddrMgrExtAddrSet
        FUNCTION AddrMgrExtAddrSet,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN AddrMgrEntryUpdate
        FUNCTION AddrMgrEntryUpdate,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN ??APSME_BindRequest?relay
        FUNCTION ??APSME_BindRequest?relay,00H
        EXTERN ??APSME_LookupNwkAddr?relay
        FUNCTION ??APSME_LookupNwkAddr?relay,00H
        EXTERN ??APSME_UnBindRequest?relay
        FUNCTION ??APSME_UnBindRequest?relay,00H
        EXTERN ??APS_ReflectorInit?relay
        FUNCTION ??APS_ReflectorInit?relay,00H
        EXTERN ??AddrMgrEntryUpdate?relay
        FUNCTION ??AddrMgrEntryUpdate?relay,00H
        EXTERN ??AddrMgrExtAddrSet?relay
        FUNCTION ??AddrMgrExtAddrSet?relay,00H
        EXTERN ??NLME_DeviceJoiningInit?relay
        FUNCTION ??NLME_DeviceJoiningInit?relay,00H
        EXTERN ??NLME_GetExtAddr?relay
        FUNCTION ??NLME_GetExtAddr?relay,00H
        EXTERN ??NLME_GetShortAddr?relay
        FUNCTION ??NLME_GetShortAddr?relay,00H
        EXTERN ??NLME_IsAddressBroadcast?relay
        FUNCTION ??NLME_IsAddressBroadcast?relay,00H
        EXTERN ??NLME_NetworkDiscoveryRequest?relay
        FUNCTION ??NLME_NetworkDiscoveryRequest?relay,00H
        EXTERN ??NLME_OrphanJoinRequest?relay
        FUNCTION ??NLME_OrphanJoinRequest?relay,00H
        EXTERN ??ZDApp_NVUpdate?relay
        FUNCTION ??ZDApp_NVUpdate?relay,00H
        EXTERN ??ZDP_EPRsp?relay
        FUNCTION ??ZDP_EPRsp?relay,00H
        EXTERN ??ZDP_GenericRsp?relay
        FUNCTION ??ZDP_GenericRsp?relay,00H
        EXTERN ??ZDP_NodeDescMsg?relay
        FUNCTION ??ZDP_NodeDescMsg?relay,00H
        EXTERN ??ZDP_NwkAddrReq?relay
        FUNCTION ??ZDP_NwkAddrReq?relay,00H
        EXTERN ??ZDP_PowerDescMsg?relay
        FUNCTION ??ZDP_PowerDescMsg?relay,00H
        EXTERN ??ZDP_SendData?relay
        FUNCTION ??ZDP_SendData?relay,00H
        EXTERN ??ZDP_SimpleDescMsg?relay
        FUNCTION ??ZDP_SimpleDescMsg?relay,00H
        EXTERN ??afEndPoints?relay
        FUNCTION ??afEndPoints?relay,00H
        EXTERN ??afFindSimpleDesc?relay
        FUNCTION ??afFindSimpleDesc?relay,00H
        EXTERN ??afNumEndPoints?relay
        FUNCTION ??afNumEndPoints?relay,00H
        EXTERN ??nwk_ScanJoiningOrphan?relay
        FUNCTION ??nwk_ScanJoiningOrphan?relay,00H
        EXTERN ??osal_ExtAddrEqual?relay
        FUNCTION ??osal_ExtAddrEqual?relay,00H
        EXTERN ??osal_cpyExtAddr?relay
        FUNCTION ??osal_cpyExtAddr?relay,00H
        EXTERN ??osal_mem_alloc?relay
        FUNCTION ??osal_mem_alloc?relay,00H
        EXTERN ??osal_mem_free?relay
        FUNCTION ??osal_mem_free?relay,00H
        EXTERN ??osal_memcpy?relay
        FUNCTION ??osal_memcpy?relay,00H
        EXTERN ??osal_msg_allocate?relay
        FUNCTION ??osal_msg_allocate?relay,00H
        EXTERN ??osal_msg_send?relay
        FUNCTION ??osal_msg_send?relay,00H
        EXTERN ??osal_start_timerEx?relay
        FUNCTION ??osal_start_timerEx?relay,00H
        EXTERN ZDAppNwkAddr
        EXTERN ZDAppTaskID
        EXTERN ZDO_Config_Node_Descriptor
        EXTERN ZDO_Config_Power_Descriptor
        EXTERN devState
        EXTERN epList
        EXTERN zgDefaultChannelList
        EXTERN zgDefaultStartingScanDuration

// C:\Texas Instruments\ZStack-1.4.3-1.2.1\Components\stack\zdo\ZDObject.c
//    1 /**************************************************************************************************
//    2   Filename:       ZDObject.c
//    3   Revised:        $Date: 2007-11-27 10:58:37 -0800 (Tue, 27 Nov 2007) $
//    4   Revision:       $Revision: 15969 $
//    5 
//    6   Description:    This is the Zigbee Device Object.
//    7 
//    8 
//    9   Copyright 2004-2007 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License").  You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product.  Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 /*********************************************************************
//   41  * INCLUDES
//   42  */
//   43 #include "ZComdef.h"
//   44 #include "OSAL.h"
//   45 #include "OSAL_Nv.h"
//   46 #include "rtg.h"
//   47 #include "NLMEDE.h"
//   48 #include "nwk_globals.h"
//   49 #include "APS.h"
//   50 #include "APSMEDE.h"
//   51 #include "AssocList.h"
//   52 #include "BindingTable.h"
//   53 #include "AddrMgr.h"
//   54 #include "AF.h"
//   55 #include "ZDObject.h"
//   56 #include "ZDProfile.h"
//   57 #include "ZDConfig.h"
//   58 #include "ZDSecMgr.h"
//   59 #include "ZDApp.h"
//   60 #include "nwk_util.h"   // NLME_IsAddressBroadcast()
//   61 #include "ZGlobals.h"
//   62 
//   63 #if defined( LCD_SUPPORTED )
//   64   #include "OnBoard.h"
//   65 #endif
//   66 
//   67 /* HAL */
//   68 #include "hal_lcd.h"
//   69 
//   70 /*********************************************************************
//   71  * MACROS
//   72  */
//   73 
//   74 /*********************************************************************
//   75  * CONSTANTS
//   76  */
//   77 // NLME Stub Implementations
//   78 #define ZDO_ProcessMgmtPermitJoinTimeout NLME_PermitJoiningTimeout
//   79 
//   80 // Status fields used by ZDO_ProcessMgmtRtgReq
//   81 #define ZDO_MGMT_RTG_ENTRY_ACTIVE             0x00
//   82 #define ZDO_MGMT_RTG_ENTRY_DISCOVERY_UNDERWAY 0x01
//   83 #define ZDO_MGMT_RTG_ENTRY_DISCOVERY_FAILED   0x02
//   84 #define ZDO_MGMT_RTG_ENTRY_INACTIVE           0x03
//   85 
//   86 #if !defined( CACHE_EP_MAX )
//   87   #define CACHE_EP_MAX  15
//   88 #endif
//   89 
//   90 /*********************************************************************
//   91  * TYPEDEFS
//   92  */
//   93 #if defined ( REFLECTOR )
//   94 typedef struct
//   95 {
//   96   byte SrcTransSeq;
//   97   zAddrType_t SrcAddr;
//   98   uint16 LocalCoordinator;
//   99   byte epIntf;
//  100   uint16 ProfileID;
//  101   byte numInClusters;
//  102   uint16 *inClusters;
//  103   byte numOutClusters;
//  104   uint16 *outClusters;
//  105   byte SecurityUse;
//  106   byte status;
//  107 } ZDO_EDBind_t;
//  108 #endif // defined ( REFLECTOR )
//  109 
//  110 #if defined ( ZDO_COORDINATOR )
//  111 enum
//  112 {
//  113   ZDMATCH_INIT,           // Initialized
//  114   ZDMATCH_WAIT_REQ,       // Received first request, waiting for second
//  115   ZDMATCH_SENDING_BINDS   // Received both requests, sending unbind/binds
//  116 };
//  117 
//  118 enum
//  119 {
//  120   ZDMATCH_SENDING_NOT,
//  121   ZDMATCH_SENDING_UNBIND,
//  122   ZDMATCH_SENDING_BIND
//  123 };
//  124 #endif
//  125 
//  126 /*********************************************************************
//  127  * GLOBAL VARIABLES
//  128  */
//  129 #if defined ( ZDO_COORDINATOR )
//  130   ZDMatchEndDeviceBind_t *matchED = (ZDMatchEndDeviceBind_t *)NULL;
//  131 #endif
//  132 
//  133 /*********************************************************************
//  134  * EXTERNAL VARIABLES
//  135  */
//  136 
//  137 /*********************************************************************
//  138  * EXTERNAL FUNCTIONS
//  139  */
//  140 
//  141 /*********************************************************************
//  142  * LOCAL VARIABLES
//  143  */

        RSEG XDATA_Z:XDATA:NOROOT(0)
//  144 static uint16 ZDOBuildBuf[26];  // temp area to build data without allocation
ZDOBuildBuf:
        DS 52
        REQUIRE __INIT_XDATA_Z
//  145 
//  146 #if defined ( REFLECTOR )

        RSEG XDATA_Z:XDATA:NOROOT(0)
//  147 static ZDO_EDBind_t *ZDO_EDBind;     // Null when not used
ZDO_EDBind:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  148 #endif
//  149 
//  150 #if defined ( MANAGED_SCAN )
//  151   uint32 managedScanNextChannel = 0;
//  152   uint32 managedScanChannelMask = 0;
//  153   uint8  managedScanTimesPerChannel = 0;
//  154 #endif
//  155 
//  156 /*********************************************************************
//  157  * LOCAL FUNCTIONS
//  158  */
//  159 static void ZDODeviceSetup( void );
//  160 #if defined ( MANAGED_SCAN )
//  161   static void ZDOManagedScan_Next( void );
//  162 #endif
//  163 #if defined ( REFLECTOR )
//  164   static void ZDO_RemoveEndDeviceBind( void );
//  165   static void ZDO_SendEDBindRsp( byte TransSeq, zAddrType_t *dstAddr, byte Status, byte secUse );
//  166 #endif
//  167 #if defined ( ZDO_COORDINATOR )
//  168   static byte ZDO_CompareClusterLists( byte numList1, uint16 *list1,
//  169                                 byte numList2, uint16 *list2, uint16 *pMatches );
//  170 #endif
//  171 #if defined ( ZDO_COORDINATOR )
//  172   static void ZDO_RemoveMatchMemory( void );
//  173   static uint8 ZDO_CopyMatchInfo( ZDEndDeviceBind_t *destReq, ZDEndDeviceBind_t *srcReq );
//  174   static void ZDO_EndDeviceBindMatchTimeoutCB( void );
//  175 #endif
//  176 uint8 *ZDO_ConvertOTAClusters( uint8 cnt, uint8 *inBuf, uint16 *outList );
//  177 
//  178 /*********************************************************************
//  179  * @fn          ZDO_Init
//  180  *
//  181  * @brief       ZDObject and ZDProfile initialization.
//  182  *
//  183  * @param       none
//  184  *
//  185  * @return      none
//  186  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  187 void ZDO_Init( void )
ZDO_Init:
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function ZDO_Init
//  188 {
        FUNCALL ZDO_Init, ZDODeviceSetup
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  189   // Initialize ZD items
//  190   #if defined ( REFLECTOR )
//  191   ZDO_EDBind = NULL;
        MOV     DPTR,#ZDO_EDBind
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  192   #endif
//  193 
//  194   // Setup the device - type of device to create.
//  195   ZDODeviceSetup();
        ; Setup parameters for call to function ZDODeviceSetup
        LCALL   ??ZDODeviceSetup?relay
//  196 }
        POP     DPH
        CFI DPH0 SameValue
        CFI CFA_SP SP+-4
        POP     DPL
        CFI DPL0 SameValue
        CFI CFA_SP SP+-3
        LJMP    ?BRET
        CFI EndBlock cfiBlock0
//  197 
//  198 #if defined ( MANAGED_SCAN )
//  199 /*********************************************************************
//  200  * @fn      ZDOManagedScan_Next()
//  201  *
//  202  * @brief   Setup a managed scan.
//  203  *
//  204  * @param   none
//  205  *
//  206  * @return  none
//  207  */
//  208 static void ZDOManagedScan_Next( void )
//  209 {
//  210   // Is it the first time
//  211   if ( managedScanNextChannel == 0 && managedScanTimesPerChannel == 0 )
//  212   {
//  213     // Setup the defaults
//  214     managedScanNextChannel  = 1;
//  215 
//  216     while( managedScanNextChannel && (zgDefaultChannelList & managedScanNextChannel) == 0 )
//  217       managedScanNextChannel <<= 1;
//  218 
//  219     managedScanChannelMask = managedScanNextChannel;
//  220     managedScanTimesPerChannel = MANAGEDSCAN_TIMES_PRE_CHANNEL;
//  221   }
//  222   else
//  223   {
//  224     // Do we need to go to the next channel
//  225     if ( managedScanTimesPerChannel == 0 )
//  226     {
//  227       // Find next active channel
//  228       managedScanChannelMask  = managedScanNextChannel;
//  229       managedScanTimesPerChannel = MANAGEDSCAN_TIMES_PRE_CHANNEL;
//  230     }
//  231     else
//  232     {
//  233       managedScanTimesPerChannel--;
//  234 
//  235       if ( managedScanTimesPerChannel == 0 )
//  236       {
//  237         managedScanNextChannel  <<= 1;
//  238         while( managedScanNextChannel && (zgDefaultChannelList & managedScanNextChannel) == 0 )
//  239           managedScanNextChannel <<= 1;
//  240 
//  241         if ( managedScanNextChannel == 0 )
//  242           zdoDiscCounter  = NUM_DISC_ATTEMPTS + 1; // Stop
//  243       }
//  244     }
//  245   }
//  246 }
//  247 #endif // MANAGED_SCAN
//  248 
//  249 /*********************************************************************
//  250  * @fn      ZDODeviceSetup()
//  251  *
//  252  * @brief   Call set functions depending on the type of device compiled.
//  253  *
//  254  * @param   none
//  255  *
//  256  * @return  none
//  257  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  258 static void ZDODeviceSetup( void )
ZDODeviceSetup:
        CFI Block cfiBlock1 Using cfiCommon0
        CFI Function ZDODeviceSetup
//  259 {
        FUNCALL ZDODeviceSetup, APS_ReflectorInit
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDODeviceSetup, NLME_DeviceJoiningInit
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  260 #if defined( ZDO_COORDINATOR )
//  261   NLME_CoordinatorInit();
//  262 #endif
//  263 
//  264 #if defined ( REFLECTOR )
//  265   #if defined ( ZDO_COORDINATOR )
//  266     APS_ReflectorInit( APS_REFLECTOR_PUBLIC );
//  267   #else
//  268     APS_ReflectorInit( APS_REFLECTOR_PRIVATE );
        ; Setup parameters for call to function APS_ReflectorInit
        MOV     R1,#0x1
        LCALL   ??APS_ReflectorInit?relay
//  269   #endif
//  270 #endif
//  271 
//  272 #if !defined( ZDO_COORDINATOR ) || defined( SOFT_START )
//  273   NLME_DeviceJoiningInit();
        ; Setup parameters for call to function NLME_DeviceJoiningInit
        LCALL   ??NLME_DeviceJoiningInit?relay
//  274 #endif
//  275 }
        POP     DPH
        CFI DPH0 SameValue
        CFI CFA_SP SP+-4
        POP     DPL
        CFI DPL0 SameValue
        CFI CFA_SP SP+-3
        LJMP    ?BRET
        CFI EndBlock cfiBlock1
//  276 
//  277 /*********************************************************************
//  278  * @fn          ZDO_StartDevice
//  279  *
//  280  * @brief       This function starts a device in a network.
//  281  *
//  282  * @param       logicalType     - Device type to start
//  283  *              startMode       - indicates mode of device startup
//  284  *              beaconOrder     - indicates time betwen beacons
//  285  *              superframeOrder - indicates length of active superframe
//  286  *
//  287  * @return      none
//  288  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  289 void ZDO_StartDevice( byte logicalType, devStartModes_t startMode, byte beaconOrder, byte superframeOrder )
ZDO_StartDevice:
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function ZDO_StartDevice
//  290 {
        FUNCALL ZDO_StartDevice, NLME_NetworkDiscoveryRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_StartDevice, nwk_ScanJoiningOrphan
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_StartDevice, NLME_OrphanJoinRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_StartDevice, osal_start_timerEx
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 26, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 26, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 11
        MOV     A,#-0xb
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 26)
        MOV     ?V0 + 4,R1
        MOV     A,R2
        MOV     R7,A
//  291   ZStatus_t ret;
//  292 
//  293   ret = ZUnsupportedMode;
        MOV     R6,#0x12
//  294 
//  295 #if defined(ZDO_COORDINATOR)
//  296   if ( logicalType == NODETYPE_COORDINATOR )
//  297   {
//  298     if ( startMode == MODE_HARD )
//  299     {
//  300       devState = DEV_COORD_STARTING;
//  301       ret = NLME_NetworkFormationRequest( zgConfigPANID, zgDefaultChannelList,
//  302                                           zgDefaultStartingScanDuration, beaconOrder,
//  303                                           superframeOrder, false );
//  304     }
//  305     else if ( startMode == MODE_RESUME )
//  306     {
//  307       // Just start the coordinator
//  308       devState = DEV_COORD_STARTING;
//  309       ret = NLME_StartRouterRequest( beaconOrder, beaconOrder, false );
//  310     }
//  311     else
//  312     {
//  313 #if defined( LCD_SUPPORTED )
//  314       HalLcdWriteScreen( "StartDevice ERR", "MODE unknown" );
//  315 #endif
//  316     }
//  317   }
//  318 #endif  // !ZDO_COORDINATOR
//  319 
//  320 #if !defined ( ZDO_COORDINATOR ) || defined( SOFT_START )
//  321   if ( logicalType == NODETYPE_ROUTER || logicalType == NODETYPE_DEVICE )
        MOV     A,#0x1
        XRL     A,?V0 + 4
        JZ      ??ZDO_StartDevice_0
        MOV     A,#0x2
        XRL     A,?V0 + 4
        JZ      $+5
        LJMP    ??ZDO_StartDevice_1 & 0xFFFF
//  322   {
//  323     if ( (startMode == MODE_JOIN) || (startMode == MODE_REJOIN) )
??ZDO_StartDevice_0:
        MOV     A,R7
        JZ      ??ZDO_StartDevice_2
        MOV     A,#0x3
        XRL     A,R7
        JNZ     ??ZDO_StartDevice_3
//  324     {
//  325       devState = DEV_NWK_DISC;
??ZDO_StartDevice_2:
        MOV     A,#0x2
        MOV     DPTR,#devState
        MOVX    @DPTR,A
//  326 
//  327   #if defined( MANAGED_SCAN )
//  328       ZDOManagedScan_Next();
//  329       ret = NLME_NetworkDiscoveryRequest( managedScanChannelMask, BEACON_ORDER_15_MSEC );
//  330   #else
//  331       ret = NLME_NetworkDiscoveryRequest( zgDefaultChannelList, zgDefaultStartingScanDuration );
        ; Setup parameters for call to function NLME_NetworkDiscoveryRequest
        MOV     DPTR,#zgDefaultStartingScanDuration
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#zgDefaultChannelList
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        MOV     R4,?V0 + 2
        MOV     R5,?V0 + 3
        LCALL   ??NLME_NetworkDiscoveryRequest?relay
        MOV     A,R1
        MOV     R6,A
        LJMP    ??ZDO_StartDevice_1 & 0xFFFF
//  332   #endif
//  333     }
//  334     else if ( startMode == MODE_RESUME )
??ZDO_StartDevice_3:
        MOV     A,#0x1
        XRL     A,R7
        JNZ     ??ZDO_StartDevice_1
//  335     {
//  336       if ( logicalType == NODETYPE_ROUTER )
        MOV     A,#0x1
        XRL     A,?V0 + 4
        JNZ     ??ZDO_StartDevice_4
//  337       {
//  338         ZMacScanCnf_t scanCnf;
//  339         devState = DEV_NWK_ORPHAN;
        MOV     A,#0xa
        MOV     DPTR,#devState
        MOVX    @DPTR,A
//  340 
//  341         /* if router and nvram is available, fake successful orphan scan */
//  342         scanCnf.hdr.Status = ZSUCCESS;
        MOV     A,#0x0
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  343         scanCnf.ScanType = ZMAC_ORPHAN_SCAN;
        MOV     A,#0x3
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  344         scanCnf.UnscannedChannels = 0;
        MOV     DPTR,#__Constant_0
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOV     A,?V0 + 0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
//  345         scanCnf.ResultListSize = 0;
        MOV     A,#0x0
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  346         nwk_ScanJoiningOrphan(&scanCnf);
        ; Setup parameters for call to function nwk_ScanJoiningOrphan
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??nwk_ScanJoiningOrphan?relay
//  347 
//  348         ret = ZSuccess;
        MOV     R6,#0x0
        SJMP    ??ZDO_StartDevice_1
//  349       }
//  350       else
//  351       {
//  352         devState = DEV_NWK_ORPHAN;
??ZDO_StartDevice_4:
        MOV     A,#0xa
        MOV     DPTR,#devState
        MOVX    @DPTR,A
//  353         ret = NLME_OrphanJoinRequest( zgDefaultChannelList,
//  354                                       zgDefaultStartingScanDuration );
        ; Setup parameters for call to function NLME_OrphanJoinRequest
        MOV     DPTR,#zgDefaultStartingScanDuration
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#zgDefaultChannelList
        MOV     R0,#?V0 + 0
        LCALL   ?L_MOV_X
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        MOV     R4,?V0 + 2
        MOV     R5,?V0 + 3
        LCALL   ??NLME_OrphanJoinRequest?relay
        MOV     A,R1
        MOV     R6,A
//  355       }
//  356     }
//  357     else
//  358     {
//  359 #if defined( LCD_SUPPORTED )
//  360       HalLcdWriteScreen( "StartDevice ERR", "MODE unknown" );
//  361 #endif
//  362     }
//  363   }
//  364 #endif  //!ZDO COORDINATOR || SOFT_START
//  365 
//  366   if ( ret != ZSuccess )
??ZDO_StartDevice_1:
        MOV     A,R6
        JZ      ??ZDO_StartDevice_5
//  367     osal_start_timerEx(ZDAppTaskID, ZDO_NETWORK_INIT, NWK_RETRY_DELAY );
        ; Setup parameters for call to function osal_start_timerEx
        MOV     R4,#-0x18
        MOV     R5,#0x3
        MOV     R2,#0x1
        MOV     R3,#0x0
        MOV     DPTR,#ZDAppTaskID
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_start_timerEx?relay
//  368 }
??ZDO_StartDevice_5:
        MOV     A,#0xb
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock2
//  369 
//  370 /*********************************************************************
//  371  * @fn      ZDO_UpdateNwkStatus()
//  372  *
//  373  * @brief
//  374  *
//  375  *   This function will send an update message to each registered
//  376  *   application endpoint/interface about a network status change.
//  377  *
//  378  * @param   none
//  379  *
//  380  * @return  none
//  381  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  382 void ZDO_UpdateNwkStatus( devStates_t state )
ZDO_UpdateNwkStatus:
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function ZDO_UpdateNwkStatus
//  383 {
        FUNCALL ZDO_UpdateNwkStatus, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_UpdateNwkStatus, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_UpdateNwkStatus, osal_msg_allocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_UpdateNwkStatus, osal_msg_send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     ?V0 + 3,R1
//  384   // Endpoint/Interface descriptor list.
//  385   epList_t *epDesc = epList;
        MOV     DPTR,#epList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  386   byte bufLen = sizeof(osal_event_hdr_t);
        MOV     ?V0 + 2,#0x2
//  387   osal_event_hdr_t *msgPtr;
//  388 
//  389   ZDAppNwkAddr.addr.shortAddr = NLME_GetShortAddr();
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   ??NLME_GetShortAddr?relay
        MOV     DPTR,#ZDAppNwkAddr
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  390   (void)NLME_GetExtAddr();  // Load the saveExtAddr pointer.
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL   ??NLME_GetExtAddr?relay
//  391 
//  392   while ( epDesc )
??ZDO_UpdateNwkStatus_0:
        MOV     A,R6
        XRL     A,#0x0
        JNZ     ??ZDO_UpdateNwkStatus_1
        MOV     A,R7
        XRL     A,#0x0
??ZDO_UpdateNwkStatus_1:
        JZ      ??ZDO_UpdateNwkStatus_2
//  393   {
//  394     if ( epDesc->epDesc->endPoint != ZDO_EP )
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        JZ      ??ZDO_UpdateNwkStatus_3
//  395     {
//  396       msgPtr = (osal_event_hdr_t *)osal_msg_allocate( bufLen );
        ; Setup parameters for call to function osal_msg_allocate
        MOV     A,?V0 + 2
        MOV     ?V0 + 4,A
        MOV     R2,?V0 + 4
        MOV     R3,#0x0
        LCALL   ??osal_msg_allocate?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     ?V0 + 0,?V0 + 4
        MOV     ?V0 + 1,?V0 + 5
//  397       if ( msgPtr )
        MOV     A,?V0 + 0
        XRL     A,#0x0
        JNZ     ??ZDO_UpdateNwkStatus_4
        MOV     A,?V0 + 1
        XRL     A,#0x0
??ZDO_UpdateNwkStatus_4:
        JZ      ??ZDO_UpdateNwkStatus_3
//  398       {
//  399         msgPtr->event = ZDO_STATE_CHANGE; // Command ID
        MOV     A,#-0x2f
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    @DPTR,A
//  400         msgPtr->status = (byte)state;
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
//  401 
//  402         osal_msg_send( *(epDesc->epDesc->task_id), (byte *)msgPtr );
        ; Setup parameters for call to function osal_msg_send
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_msg_send?relay
//  403       }
//  404     }
//  405     epDesc = epDesc->nextDesc;
??ZDO_UpdateNwkStatus_3:
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        SJMP    ??ZDO_UpdateNwkStatus_0
//  406   }
//  407 }
??ZDO_UpdateNwkStatus_2:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock3
//  408 
//  409 #if defined ( REFLECTOR )
//  410 /*********************************************************************
//  411  * @fn          ZDO_RemoveEndDeviceBind
//  412  *
//  413  * @brief       Remove the end device bind
//  414  *
//  415  * @param  none
//  416  *
//  417  * @return      none
//  418  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  419 static void ZDO_RemoveEndDeviceBind( void )
ZDO_RemoveEndDeviceBind:
        CFI Block cfiBlock4 Using cfiCommon0
        CFI Function ZDO_RemoveEndDeviceBind
//  420 {
        FUNCALL ZDO_RemoveEndDeviceBind, osal_mem_free
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_RemoveEndDeviceBind, osal_mem_free
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_RemoveEndDeviceBind, osal_mem_free
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH    DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  421   if ( ZDO_EDBind )
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_RemoveEndDeviceBind_0
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_RemoveEndDeviceBind_0:
        JZ      ??ZDO_RemoveEndDeviceBind_1
//  422   {
//  423     // Free the RAM
//  424     if ( ZDO_EDBind->inClusters )
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x10
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_RemoveEndDeviceBind_2
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_RemoveEndDeviceBind_2:
        JZ      ??ZDO_RemoveEndDeviceBind_3
//  425       osal_mem_free( ZDO_EDBind->inClusters );
        ; Setup parameters for call to function osal_mem_free
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x10
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
//  426     if ( ZDO_EDBind->outClusters )
??ZDO_RemoveEndDeviceBind_3:
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x13
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_RemoveEndDeviceBind_4
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_RemoveEndDeviceBind_4:
        JZ      ??ZDO_RemoveEndDeviceBind_5
//  427       osal_mem_free( ZDO_EDBind->outClusters );
        ; Setup parameters for call to function osal_mem_free
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x13
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
//  428     osal_mem_free( ZDO_EDBind );
??ZDO_RemoveEndDeviceBind_5:
        ; Setup parameters for call to function osal_mem_free
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
//  429     ZDO_EDBind = NULL;
        MOV     DPTR,#ZDO_EDBind
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  430   }
//  431 }
??ZDO_RemoveEndDeviceBind_1:
        POP     DPH
        CFI DPH0 SameValue
        CFI CFA_SP SP+-4
        POP     DPL
        CFI DPL0 SameValue
        CFI CFA_SP SP+-3
        LJMP    ?BRET
        CFI EndBlock cfiBlock4
//  432 #endif // REFLECTOR
//  433 
//  434 #if defined ( REFLECTOR )
//  435 /*********************************************************************
//  436  * @fn          ZDO_RemoveEndDeviceBind
//  437  *
//  438  * @brief       Remove the end device bind
//  439  *
//  440  * @param  none
//  441  *
//  442  * @return      none
//  443  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  444 static void ZDO_SendEDBindRsp( byte TransSeq, zAddrType_t *dstAddr, byte Status, byte secUse )
ZDO_SendEDBindRsp:
        CFI Block cfiBlock5 Using cfiCommon0
        CFI Function ZDO_SendEDBindRsp
//  445 {
        FUNCALL ZDO_SendEDBindRsp, ZDP_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 13)
        MOV     A,R1
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     A,R4
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 2,R5
//  446   ZDP_EndDeviceBindRsp( TransSeq, dstAddr, Status, secUse );
        ; Setup parameters for call to function ZDP_SendData
        MOV     A,?V0 + 2
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 14)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 0,DPL
        MOV     ?V0 + 1,DPH
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     ?V0 + 0,#0x20
        MOV     ?V0 + 1,#-0x80
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 18)
        MOV     R1,#0x1
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??ZDP_SendData?relay
        MOV     A,#0x5
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 13)
//  447 
//  448 #if defined( LCD_SUPPORTED )
//  449   HalLcdWriteString( "End Device Bind", HAL_LCD_LINE_1 );
//  450   if ( Status == ZDP_SUCCESS )
//  451     HalLcdWriteString( "Success Sent", HAL_LCD_LINE_2 );
//  452   else
//  453     HalLcdWriteString( "Timeout", HAL_LCD_LINE_2 );
//  454 #endif
//  455 
//  456 }
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 11)
        MOV     R7,#0x3
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock5
//  457 #endif // REFLECTOR
//  458 
//  459 #if defined ( ZDO_COORDINATOR )
//  460 /*********************************************************************
//  461  * @fn          ZDO_CompareClusterLists
//  462  *
//  463  * @brief       Compare one list to another list
//  464  *
//  465  * @param       numList1 - number of items in list 1
//  466  * @param       list1 - first list of cluster IDs
//  467  * @param       numList2 - number of items in list 2
//  468  * @param       list2 - second list of cluster IDs
//  469  * @param       pMatches - buffer to put matches
//  470  *
//  471  * @return      number of matches
//  472  */
//  473 static byte ZDO_CompareClusterLists( byte numList1, uint16 *list1,
//  474                           byte numList2, uint16 *list2, uint16 *pMatches )
//  475 {
//  476   byte x, y;
//  477   uint16 z;
//  478   byte numMatches = 0;
//  479 
//  480   // Check the first in against the seconds out
//  481   for ( x = 0; x < numList1; x++ )
//  482   {
//  483     for ( y = 0; y < numList2; y++ )
//  484     {
//  485       z = list2[y];
//  486       if ( list1[x] == z )
//  487         pMatches[numMatches++] = z;
//  488     }
//  489   }
//  490 
//  491   return ( numMatches );
//  492 }
//  493 #endif // ZDO_COORDINATOR
//  494 
//  495 
//  496 /*********************************************************************
//  497  * Utility functions
//  498  */
//  499 
//  500 /*********************************************************************
//  501  * @fn          ZDO_CompareByteLists
//  502  *
//  503  * @brief       Compares two lists for matches.
//  504  *
//  505  * @param       ACnt  - number of entries in list A
//  506  * @param       AList  - List A
//  507  * @param       BCnt  - number of entries in list B
//  508  * @param       BList  - List B
//  509  *
//  510  * @return      true if a match is found
//  511  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  512 byte ZDO_AnyClusterMatches( byte ACnt, uint16 *AList, byte BCnt, uint16 *BList )
ZDO_AnyClusterMatches:
        CFI Block cfiBlock6 Using cfiCommon0
        CFI Function ZDO_AnyClusterMatches
//  513 {
        MOV     A,#-0xd
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 13)
        ; Saved register size: 13
        ; Auto size: 0
        MOV     ?V0 + 0,R1
        MOV     ?V0 + 1,R4
        MOV     A,#0xd
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R4,A
        MOV     A,R1
        MOV     R5,A
//  514   byte x, y;
//  515 
//  516   for ( x = 0; x < ACnt; x++ )
        MOV     ?V0 + 3,#0x0
??ZDO_AnyClusterMatches_0:
        MOV     A,?V0 + 3
        CLR     C
        SUBB    A,?V0 + 0
        JNC     ??ZDO_AnyClusterMatches_1
//  517   {
//  518     for ( y = 0; y < BCnt; y++ )
        MOV     ?V0 + 4,#0x0
??ZDO_AnyClusterMatches_2:
        MOV     A,?V0 + 4
        CLR     C
        SUBB    A,?V0 + 1
        JNC     ??ZDO_AnyClusterMatches_3
//  519     {
//  520       if ( AList[x] == BList[y] )
        MOV     R0,?V0 + 3
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R6,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R6
        MOV     R6,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R6
        MOV     R1,A
        MOV     A,R2
        ADD     A,R0
        MOV     DPL,A
        MOV     A,R3
        ADDC    A,R1
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     R6,?V0 + 4
        MOV     R7,#0x0
        MOV     A,R6
        MOV     B,#0x2
        MUL     AB
        XCH     A,R6
        MOV     ?V0 + 2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,?V0 + 2
        MOV     ?V0 + 2,A
        MOV     B,#0x2
        MOV     A,R7
        MUL     AB
        ADD     A,?V0 + 2
        MOV     R7,A
        MOV     A,R4
        ADD     A,R6
        MOV     DPL,A
        MOV     A,R5
        ADDC    A,R7
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,R0
        JNZ     ??ZDO_AnyClusterMatches_4
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R1
??ZDO_AnyClusterMatches_4:
        JNZ     ??ZDO_AnyClusterMatches_5
//  521       {
//  522         return true;
        MOV     R1,#0x1
        SJMP    ??ZDO_AnyClusterMatches_6
//  523       }
//  524     }
??ZDO_AnyClusterMatches_5:
        INC     ?V0 + 4
        SJMP    ??ZDO_AnyClusterMatches_2
//  525   }
??ZDO_AnyClusterMatches_3:
        INC     ?V0 + 3
        SJMP    ??ZDO_AnyClusterMatches_0
//  526 
//  527   return false;
??ZDO_AnyClusterMatches_1:
        MOV     R1,#0x0
??ZDO_AnyClusterMatches_6:
        MOV     R7,#0x5
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock6
//  528 }
//  529 
//  530 /*********************************************************************
//  531  * Callback functions from ZDProfile
//  532  */
//  533 
//  534 /*********************************************************************
//  535  * @fn          ZDO_ProcessNodeDescReq
//  536  *
//  537  * @brief       This function processes and responds to the
//  538  *              Node_Desc_req message.
//  539  *
//  540  * @param       inMsg - incoming message
//  541  *
//  542  * @return      none
//  543  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  544 void ZDO_ProcessNodeDescReq( zdoIncomingMsg_t *inMsg )
ZDO_ProcessNodeDescReq:
        CFI Block cfiBlock7 Using cfiCommon0
        CFI Function ZDO_ProcessNodeDescReq
//  545 {
        FUNCALL ZDO_ProcessNodeDescReq, ZDP_NodeDescMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessNodeDescReq, ZDP_GenericRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  546   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
        MOV     A,R6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     ?V0 + 0,R0
        MOV     ?V0 + 1,R1
//  547   NodeDescriptorFormat_t *desc = NULL;
        MOV     ?V0 + 2,#0x0
        MOV     ?V0 + 3,#0x0
//  548 
//  549   if ( aoi == ZDAppNwkAddr.addr.shortAddr )
        MOV     DPTR,#ZDAppNwkAddr
        MOVX    A,@DPTR
        XRL     A,?V0 + 0
        JNZ     ??ZDO_ProcessNodeDescReq_0
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,?V0 + 1
??ZDO_ProcessNodeDescReq_0:
        JNZ     ??ZDO_ProcessNodeDescReq_1
//  550   {
//  551     desc = &ZDO_Config_Node_Descriptor;
        MOV     ?V0 + 2,#(ZDO_Config_Node_Descriptor & 0xff)
        MOV     ?V0 + 3,#((ZDO_Config_Node_Descriptor >> 8) & 0xff)
//  552   }
//  553 
//  554   if ( desc != NULL )
??ZDO_ProcessNodeDescReq_1:
        MOV     A,?V0 + 2
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessNodeDescReq_2
        MOV     A,?V0 + 3
        XRL     A,#0x0
??ZDO_ProcessNodeDescReq_2:
        JZ      ??ZDO_ProcessNodeDescReq_3
//  555   {
//  556     ZDP_NodeDescMsg( inMsg, aoi, desc );
        ; Setup parameters for call to function ZDP_NodeDescMsg
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??ZDP_NodeDescMsg?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
        SJMP    ??ZDO_ProcessNodeDescReq_4
//  557   }
//  558   else
//  559   {
//  560     ZDP_GenericRsp( inMsg->TransSeq, &(inMsg->srcAddr),
//  561               ZDP_INVALID_REQTYPE, aoi, Node_Desc_rsp, inMsg->SecurityUse );
??ZDO_ProcessNodeDescReq_3:
        ; Setup parameters for call to function ZDP_GenericRsp
        MOV     ?V0 + 4,#0x2
        MOV     ?V0 + 5,#-0x80
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R4,#-0x80
        MOV     A,R6
        ADD     A,#0x2
        MOV     R2,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R3,A
        MOV     A,R6
        ADD     A,#0xf
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDP_GenericRsp?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
//  562   }
//  563 }
??ZDO_ProcessNodeDescReq_4:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock7
//  564 
//  565 /*********************************************************************
//  566  * @fn          ZDO_ProcessPowerDescReq
//  567  *
//  568  * @brief       This function processes and responds to the
//  569  *              Node_Power_req message.
//  570  *
//  571  * @param       inMsg  - incoming request
//  572  *
//  573  * @return      none
//  574  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  575 void ZDO_ProcessPowerDescReq( zdoIncomingMsg_t *inMsg )
ZDO_ProcessPowerDescReq:
        CFI Block cfiBlock8 Using cfiCommon0
        CFI Function ZDO_ProcessPowerDescReq
//  576 {
        FUNCALL ZDO_ProcessPowerDescReq, ZDP_PowerDescMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessPowerDescReq, ZDP_GenericRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  577   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
        MOV     A,R6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     ?V0 + 0,R0
        MOV     ?V0 + 1,R1
//  578   NodePowerDescriptorFormat_t *desc = NULL;
        MOV     ?V0 + 2,#0x0
        MOV     ?V0 + 3,#0x0
//  579 
//  580   if ( aoi == ZDAppNwkAddr.addr.shortAddr )
        MOV     DPTR,#ZDAppNwkAddr
        MOVX    A,@DPTR
        XRL     A,?V0 + 0
        JNZ     ??ZDO_ProcessPowerDescReq_0
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,?V0 + 1
??ZDO_ProcessPowerDescReq_0:
        JNZ     ??ZDO_ProcessPowerDescReq_1
//  581   {
//  582     desc = &ZDO_Config_Power_Descriptor;
        MOV     ?V0 + 2,#(ZDO_Config_Power_Descriptor & 0xff)
        MOV     ?V0 + 3,#((ZDO_Config_Power_Descriptor >> 8) & 0xff)
//  583   }
//  584 
//  585   if ( desc != NULL )
??ZDO_ProcessPowerDescReq_1:
        MOV     A,?V0 + 2
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessPowerDescReq_2
        MOV     A,?V0 + 3
        XRL     A,#0x0
??ZDO_ProcessPowerDescReq_2:
        JZ      ??ZDO_ProcessPowerDescReq_3
//  586   {
//  587     ZDP_PowerDescMsg( inMsg, aoi, desc );
        ; Setup parameters for call to function ZDP_PowerDescMsg
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??ZDP_PowerDescMsg?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
        SJMP    ??ZDO_ProcessPowerDescReq_4
//  588   }
//  589   else
//  590   {
//  591     ZDP_GenericRsp( inMsg->TransSeq, &(inMsg->srcAddr),
//  592               ZDP_INVALID_REQTYPE, aoi, Power_Desc_rsp, inMsg->SecurityUse );
??ZDO_ProcessPowerDescReq_3:
        ; Setup parameters for call to function ZDP_GenericRsp
        MOV     ?V0 + 4,#0x3
        MOV     ?V0 + 5,#-0x80
        MOV     R0,#?V0 + 4
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 18)
        MOV     A,R6
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     R4,#-0x80
        MOV     A,R6
        ADD     A,#0x2
        MOV     R2,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R3,A
        MOV     A,R6
        ADD     A,#0xf
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDP_GenericRsp?relay
        MOV     A,#0x4
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
//  593   }
//  594 }
??ZDO_ProcessPowerDescReq_4:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock8
//  595 
//  596 /*********************************************************************
//  597  * @fn          ZDO_ProcessSimpleDescReq
//  598  *
//  599  * @brief       This function processes and responds to the
//  600  *              Simple_Desc_req message.
//  601  *
//  602  * @param       inMsg - incoming message (request)
//  603  *
//  604  * @return      none
//  605  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  606 void ZDO_ProcessSimpleDescReq( zdoIncomingMsg_t *inMsg )
ZDO_ProcessSimpleDescReq:
        CFI Block cfiBlock9 Using cfiCommon0
        CFI Function ZDO_ProcessSimpleDescReq
//  607 {
        FUNCALL ZDO_ProcessSimpleDescReq, afFindSimpleDesc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessSimpleDescReq, ZDP_SimpleDescMsg
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessSimpleDescReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
//  608   SimpleDescriptionFormat_t *sDesc = NULL;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  609   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     ?V0 + 4,R0
        MOV     ?V0 + 5,R1
//  610   byte endPoint = inMsg->asdu[2];
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
//  611   byte free = false;
        MOV     ?V0 + 0,#0x0
//  612   byte stat = ZDP_SUCCESS;
        MOV     R7,#0x0
//  613 
//  614   if ( (endPoint == ZDO_EP) || (endPoint > MAX_ENDPOINTS) )
        MOV     A,R6
        JZ      ??ZDO_ProcessSimpleDescReq_0
        MOV     A,R6
        CLR     C
        SUBB    A,#-0xf
        JC      ??ZDO_ProcessSimpleDescReq_1
//  615   {
//  616     stat = ZDP_INVALID_EP;
??ZDO_ProcessSimpleDescReq_0:
        MOV     R7,#-0x7e
        SJMP    ??ZDO_ProcessSimpleDescReq_2
//  617   }
//  618   else if ( aoi == ZDAppNwkAddr.addr.shortAddr )
??ZDO_ProcessSimpleDescReq_1:
        MOV     DPTR,#ZDAppNwkAddr
        MOVX    A,@DPTR
        XRL     A,?V0 + 4
        JNZ     ??ZDO_ProcessSimpleDescReq_3
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,?V0 + 5
??ZDO_ProcessSimpleDescReq_3:
        JNZ     ??ZDO_ProcessSimpleDescReq_4
//  619   {
//  620     free = afFindSimpleDesc( &sDesc, endPoint );
        ; Setup parameters for call to function afFindSimpleDesc
        MOV     A,R6
        MOV     R1,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??afFindSimpleDesc?relay
        MOV     A,R1
        MOV     ?V0 + 0,A
//  621     if ( sDesc == NULL )
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessSimpleDescReq_5
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessSimpleDescReq_5:
        JNZ     ??ZDO_ProcessSimpleDescReq_2
//  622     {
//  623       stat = ZDP_NOT_ACTIVE;
        MOV     R7,#-0x7d
        SJMP    ??ZDO_ProcessSimpleDescReq_2
//  624     }
//  625   }
//  626   else
//  627   {
//  628 #if defined ( RTR_NWK )
//  629     stat = ZDP_DEVICE_NOT_FOUND;
//  630 #else
//  631     stat = ZDP_INVALID_REQTYPE;
??ZDO_ProcessSimpleDescReq_4:
        MOV     R7,#-0x80
//  632 #endif
//  633   }
//  634 
//  635   ZDP_SimpleDescMsg( inMsg, stat, sDesc );
??ZDO_ProcessSimpleDescReq_2:
        ; Setup parameters for call to function ZDP_SimpleDescMsg
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R7
        MOV     R1,A
        MOV     R2,?V0 + 2
        MOV     R3,?V0 + 3
        LCALL   ??ZDP_SimpleDescMsg?relay
//  636 
//  637   if ( free )
        MOV     A,?V0 + 0
        JZ      ??ZDO_ProcessSimpleDescReq_6
//  638   {
//  639     osal_mem_free( sDesc );
        ; Setup parameters for call to function osal_mem_free
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
//  640   }
//  641 }
??ZDO_ProcessSimpleDescReq_6:
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock9
//  642 
//  643 /*********************************************************************
//  644  * @fn          ZDO_ProcessActiveEPReq
//  645  *
//  646  * @brief       This function processes and responds to the
//  647  *              Active_EP_req message.
//  648  *
//  649  * @param       inMsg  - incoming message (request)
//  650  *
//  651  * @return      none
//  652  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  653 void ZDO_ProcessActiveEPReq( zdoIncomingMsg_t *inMsg )
ZDO_ProcessActiveEPReq:
        CFI Block cfiBlock10 Using cfiCommon0
        CFI Function ZDO_ProcessActiveEPReq
//  654 {
        FUNCALL ZDO_ProcessActiveEPReq, NLME_GetShortAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessActiveEPReq, afNumEndPoints
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessActiveEPReq, afEndPoints
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessActiveEPReq, ZDP_EPRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 21, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 21, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
//  655   byte cnt = 0;
        MOV     ?V0 + 1,#0x0
//  656   uint16 aoi;
//  657   byte stat = ZDP_SUCCESS;
        MOV     ?V0 + 0,#0x0
//  658 
//  659   aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
        MOV     A,?V0 + 4
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,?V0 + 4
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  660 
//  661   if ( aoi == NLME_GetShortAddr() )
        ; Setup parameters for call to function NLME_GetShortAddr
        LCALL   ??NLME_GetShortAddr?relay
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     A,?V0 + 2
        XRL     A,R6
        JNZ     ??ZDO_ProcessActiveEPReq_0
        MOV     A,?V0 + 3
        XRL     A,R7
??ZDO_ProcessActiveEPReq_0:
        JNZ     ??ZDO_ProcessActiveEPReq_1
//  662   {
//  663     cnt = afNumEndPoints() - 1;  // -1 for ZDO endpoint descriptor
        ; Setup parameters for call to function afNumEndPoints
        LCALL   ??afNumEndPoints?relay
        MOV     A,R1
        ADD     A,#-0x1
        MOV     ?V0 + 1,A
//  664     afEndPoints( (uint8 *)ZDOBuildBuf, true );
        ; Setup parameters for call to function afEndPoints
        MOV     R1,#0x1
        MOV     R2,#(ZDOBuildBuf & 0xff)
        MOV     R3,#((ZDOBuildBuf >> 8) & 0xff)
        LCALL   ??afEndPoints?relay
        SJMP    ??ZDO_ProcessActiveEPReq_2
//  665   }
//  666   else
//  667   {
//  668     stat = ZDP_INVALID_REQTYPE;
??ZDO_ProcessActiveEPReq_1:
        MOV     ?V0 + 0,#-0x80
//  669   }
//  670 
//  671   ZDP_ActiveEPRsp( inMsg->TransSeq, &(inMsg->srcAddr), stat,
//  672                   aoi, cnt, (uint8 *)ZDOBuildBuf, inMsg->SecurityUse );
??ZDO_ProcessActiveEPReq_2:
        ; Setup parameters for call to function ZDP_EPRsp
        MOV     A,?V0 + 4
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 15)
        MOV     ?V0 + 2,#(ZDOBuildBuf & 0xff)
        MOV     ?V0 + 3,#((ZDOBuildBuf >> 8) & 0xff)
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 17)
        MOV     A,?V0 + 1
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 18)
        MOV     ?V0 + 2,R6
        MOV     ?V0 + 3,R7
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     A,?V0 + 0
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 21)
        MOV     A,?V0 + 4
        ADD     A,#0x2
        MOV     R4,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     R5,A
        MOV     A,?V0 + 4
        ADD     A,#0xf
        MOV     DPL,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     R2,#0x5
        MOV     R3,#-0x80
        LCALL   ??ZDP_EPRsp?relay
        MOV     A,#0x7
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
//  673 }
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock10
//  674 
//  675 /*********************************************************************
//  676  * @fn          ZDO_ConvertOTAClusters
//  677  *
//  678  * @brief       This function will convert the over-the-air cluster list
//  679  *              format to an internal format.
//  680  *
//  681  * @param       inMsg  - incoming message (request)
//  682  *
//  683  * @return      pointer to incremented inBuf
//  684  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  685 uint8 *ZDO_ConvertOTAClusters( uint8 cnt, uint8 *inBuf, uint16 *outList )
ZDO_ConvertOTAClusters:
        CFI Block cfiBlock11 Using cfiCommon0
        CFI Function ZDO_ConvertOTAClusters
//  686 {
        MOV     A,#-0xb
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 11)
        ; Saved register size: 11
        ; Auto size: 0
        MOV     A,R1
        MOV     R6,A
//  687   uint8 x;
//  688   for ( x = 0; x < cnt; x++ )
        MOV     ?V0 + 2,#0x0
??ZDO_ConvertOTAClusters_0:
        MOV     A,?V0 + 2
        CLR     C
        SUBB    A,R6
        JNC     ??ZDO_ConvertOTAClusters_1
//  689   {
//  690     // convert ota format to internal
//  691     outList[x] = BUILD_UINT16( inBuf[0], inBuf[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,?V0 + 0
        MOV     ?V0 + 0,A
        MOV     A,R1
        ADDC    A,?V0 + 1
        MOV     ?V0 + 1,A
        MOV     R0,?V0 + 2
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R7,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R7
        MOV     R7,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R7
        MOV     R1,A
        MOV     A,R4
        ADD     A,R0
        MOV     DPL,A
        MOV     A,R5
        ADDC    A,R1
        MOV     DPH,A
        MOV     A,?V0 + 0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,?V0 + 1
        MOVX    @DPTR,A
//  692     inBuf += sizeof( uint16 );
        MOV     A,R2
        ADD     A,#0x2
        MOV     R2,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
//  693   }
        INC     ?V0 + 2
        SJMP    ??ZDO_ConvertOTAClusters_0
//  694   return ( inBuf );
??ZDO_ConvertOTAClusters_1:
        MOV     R7,#0x3
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock11
//  695 }
//  696 
//  697 /*********************************************************************
//  698  * @fn          ZDO_ProcessMatchDescReq
//  699  *
//  700  * @brief       This function processes and responds to the
//  701  *              Match_Desc_req message.
//  702  *
//  703  * @param       inMsg  - incoming message (request)
//  704  *
//  705  * @return      none
//  706  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  707 void ZDO_ProcessMatchDescReq( zdoIncomingMsg_t *inMsg )
ZDO_ProcessMatchDescReq:
        CFI Block cfiBlock12 Using cfiCommon0
        CFI Function ZDO_ProcessMatchDescReq
//  708 {
        FUNCALL ZDO_ProcessMatchDescReq, NLME_IsAddressBroadcast
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDP_EPRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, NLME_IsAddressBroadcast
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDP_EPRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_ConvertOTAClusters
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_ConvertOTAClusters
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_AnyClusterMatches
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 36, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 36, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_AnyClusterMatches
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 36, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 36, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_msg_allocate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 37, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 37, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 37, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_msg_send
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, ZDP_EPRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 41, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 41, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 34, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 34, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 20
        MOV     A,#-0x14
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  709   uint8 epCnt = 0;
        MOV     A,#0x0
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  710   uint8 numInClusters;
//  711   uint16 *inClusters = NULL;
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  712   uint8 numOutClusters;
//  713   uint16 *outClusters = NULL;
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  714   epList_t *epDesc;
//  715   SimpleDescriptionFormat_t *sDesc = NULL;
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  716   uint8 allocated;
//  717   uint8 *msg;
//  718   uint16 aoi;
//  719   uint16 profileID;
//  720 
//  721   // Parse the incoming message
//  722   msg = inMsg->asdu;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x11
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
//  723   aoi = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  724   profileID = BUILD_UINT16( msg[2], msg[3] );
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  725   msg += 4;
        MOV     A,R6
        ADD     A,#0x4
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
//  726   
//  727   if ( ADDR_BCAST_NOT_ME == NLME_IsAddressBroadcast(aoi) )
        ; Setup parameters for call to function NLME_IsAddressBroadcast
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??NLME_IsAddressBroadcast?relay
        MOV     A,R1
        XRL     A,#0x1
        JNZ     ??ZDO_ProcessMatchDescReq_0
//  728   {
//  729     ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_INVALID_REQTYPE,
//  730                           ZDAppNwkAddr.addr.shortAddr, 0, NULL, inMsg->SecurityUse );
        ; Setup parameters for call to function ZDP_EPRsp
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0xe
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 35)
        MOV     ?V0 + 0,#0x0
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     DPTR,#ZDAppNwkAddr
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V0 + 0,#-0x80
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x2
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R5,A
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0xf
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     R2,#0x6
        MOV     R3,#-0x80
        LCALL   ??ZDP_EPRsp?relay
        MOV     A,#0x7
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
//  731     return;
        LJMP    ??ZDO_ProcessMatchDescReq_1 & 0xFFFF
//  732   }
//  733   else if ( (ADDR_NOT_BCAST == NLME_IsAddressBroadcast(aoi)) && (aoi != ZDAppNwkAddr.addr.shortAddr) )
??ZDO_ProcessMatchDescReq_0:
        ; Setup parameters for call to function NLME_IsAddressBroadcast
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??NLME_IsAddressBroadcast?relay
        MOV     A,R1
        JZ      $+5
        LJMP    ??ZDO_ProcessMatchDescReq_2 & 0xFFFF
        MOV     A,#0xe
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#ZDAppNwkAddr
        MOVX    A,@DPTR
        XRL     A,R0
        JNZ     ??ZDO_ProcessMatchDescReq_3
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R1
??ZDO_ProcessMatchDescReq_3:
        JZ      ??ZDO_ProcessMatchDescReq_2
//  734   {
//  735     ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_INVALID_REQTYPE,
//  736                              ZDAppNwkAddr.addr.shortAddr, 0, NULL, inMsg->SecurityUse );
        ; Setup parameters for call to function ZDP_EPRsp
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0xe
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 35)
        MOV     ?V0 + 0,#0x0
        MOV     ?V0 + 1,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     DPTR,#ZDAppNwkAddr
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V0 + 0,#-0x80
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x2
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R5,A
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0xf
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     R2,#0x6
        MOV     R3,#-0x80
        LCALL   ??ZDP_EPRsp?relay
        MOV     A,#0x7
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
//  737     return;
        LJMP    ??ZDO_ProcessMatchDescReq_1 & 0xFFFF
//  738   }
//  739 
//  740   numInClusters = *msg++;
??ZDO_ProcessMatchDescReq_2:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
//  741   if ( numInClusters )
        MOV     A,?V0 + 3
        JZ      ??ZDO_ProcessMatchDescReq_4
//  742   {
//  743     inClusters = (uint16*)osal_mem_alloc( numInClusters * sizeof( uint16 ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R2,?V0 + 3
        MOV     R3,#0x0
        MOV     A,R2
        MOV     B,#0x2
        MUL     AB
        XCH     A,R2
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R3
        MUL     AB
        ADD     A,R4
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  744     msg = ZDO_ConvertOTAClusters( numInClusters, msg, inClusters );
        ; Setup parameters for call to function ZDO_ConvertOTAClusters
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        MOV     R1,?V0 + 3
        LCALL   ??ZDO_ConvertOTAClusters?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     R6,?V0 + 0
        MOV     R7,?V0 + 1
//  745   }
//  746   numOutClusters = *msg++;
??ZDO_ProcessMatchDescReq_4:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
//  747   if ( numOutClusters )
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JZ      ??ZDO_ProcessMatchDescReq_5
//  748   {
//  749     outClusters = (uint16 *)osal_mem_alloc( numOutClusters * sizeof( uint16 ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R2
        MOV     B,#0x2
        MUL     AB
        XCH     A,R2
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R3
        MUL     AB
        ADD     A,R4
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  750     msg = ZDO_ConvertOTAClusters( numOutClusters, msg, outClusters );
        ; Setup parameters for call to function ZDO_ConvertOTAClusters
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_ConvertOTAClusters?relay
//  751   }
//  752 
//  753   // First count the number of endpoints that match.
//  754   epDesc = epList;
??ZDO_ProcessMatchDescReq_5:
        MOV     DPTR,#epList
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  755   while ( epDesc )
??ZDO_ProcessMatchDescReq_6:
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessMatchDescReq_7
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessMatchDescReq_7:
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_8 & 0xFFFF
//  756   {
//  757     // Don't search endpoint 0 and check if response is allowed
//  758     if ( epDesc->epDesc->endPoint != ZDO_EP && (epDesc->flags&eEP_AllowMatch) )
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_9 & 0xFFFF
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     C,0xE0 /* A   */.0
        JC      $+5
        LJMP    ??ZDO_ProcessMatchDescReq_9 & 0xFFFF
//  759     {
//  760       if ( epDesc->pfnDescCB )
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessMatchDescReq_10
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessMatchDescReq_10:
        JZ      ??ZDO_ProcessMatchDescReq_11
//  761       {
//  762         sDesc = (SimpleDescriptionFormat_t *)epDesc->pfnDescCB( AF_DESCRIPTOR_SIMPLE, epDesc->epDesc->endPoint );
        ; Setup parameters for indirect call
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R1,#0x1
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        LCALL   ?CALL_IND
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  763         allocated = TRUE;
        MOV     A,#0x1
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        SJMP    ??ZDO_ProcessMatchDescReq_12
//  764       }
//  765       else
//  766       {
//  767         sDesc = epDesc->epDesc->simpleDesc;
??ZDO_ProcessMatchDescReq_11:
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  768         allocated = FALSE;
        MOV     A,#0x0
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  769       }
//  770 
//  771       if ( sDesc && sDesc->AppProfId == profileID )
??ZDO_ProcessMatchDescReq_12:
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessMatchDescReq_13
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessMatchDescReq_13:
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_14 & 0xFFFF
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x12
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,R0
        JNZ     ??ZDO_ProcessMatchDescReq_15
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,R1
??ZDO_ProcessMatchDescReq_15:
        JZ      $+5
        LJMP    ??ZDO_ProcessMatchDescReq_14 & 0xFFFF
//  772       {
//  773         uint8 *uint8Buf = (uint8 *)ZDOBuildBuf;
        MOV     A,#0x10
        LCALL   ?XSTACK_DISP0_8
        MOV     A,#(ZDOBuildBuf & 0xff)
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#((ZDOBuildBuf >> 8) & 0xff)
        MOVX    @DPTR,A
//  774 
//  775         // If there are no search input/ouput clusters - respond
//  776         if ( ((numInClusters == 0) && (numOutClusters == 0))
//  777             // Are there matching input clusters?
//  778              || (ZDO_AnyClusterMatches( numInClusters, inClusters,
//  779                   sDesc->AppNumInClusters, sDesc->pAppInClusterList ))
//  780             // Are there matching output clusters?
//  781              || (ZDO_AnyClusterMatches( numOutClusters, outClusters,
//  782                   sDesc->AppNumOutClusters, sDesc->pAppOutClusterList ))     )
        MOV     A,?V0 + 3
        JNZ     ??ZDO_ProcessMatchDescReq_16
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_17 & 0xFFFF
??ZDO_ProcessMatchDescReq_16:
        ; Setup parameters for call to function ZDO_AnyClusterMatches
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     R1,?V0 + 3
        LCALL   ??ZDO_AnyClusterMatches?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     A,R1
        JNZ     ??ZDO_ProcessMatchDescReq_17
        ; Setup parameters for call to function ZDO_AnyClusterMatches
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 36)
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_AnyClusterMatches?relay
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
        MOV     A,R1
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_14 & 0xFFFF
//  783         {
//  784           // Notify the endpoint of the match.
//  785           uint8 bufLen = sizeof( ZDO_MatchDescRspSent_t ) + (numOutClusters + numInClusters) * sizeof(uint16);
??ZDO_ProcessMatchDescReq_17:
        MOV     B,#0x2
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     ?V0 + 0,?V0 + 3
        MOV     A,?V0 + 0
        ADD     A,R0
        MUL     AB
        ADD     A,#0xa
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0xd
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  786           ZDO_MatchDescRspSent_t *pRspSent = (ZDO_MatchDescRspSent_t *) osal_msg_allocate( bufLen );
        ; Setup parameters for call to function osal_msg_allocate
        MOV     A,#0xd
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R2,?V0 + 0
        MOV     R3,#0x0
        LCALL   ??osal_msg_allocate?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
//  787 
//  788           if (pRspSent)
        MOV     A,?V0 + 4
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessMatchDescReq_18
        MOV     A,?V0 + 5
        XRL     A,#0x0
??ZDO_ProcessMatchDescReq_18:
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_19 & 0xFFFF
//  789           {
//  790             pRspSent->hdr.event = ZDO_MATCH_DESC_RSP_SENT;
        MOV     A,#-0x2e
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        MOVX    @DPTR,A
//  791             pRspSent->nwkAddr = inMsg->srcAddr.addr.shortAddr;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  792             pRspSent->numInClusters = numInClusters;
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
//  793             pRspSent->numOutClusters = numOutClusters;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
//  794 
//  795             if (numInClusters)
        MOV     A,?V0 + 3
        JZ      ??ZDO_ProcessMatchDescReq_20
//  796             {
//  797               pRspSent->pInClusters = (uint16*) (pRspSent + 1);
        MOV     A,?V0 + 4
        ADD     A,#0xa
        MOV     R0,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  798               osal_memcpy(pRspSent->pInClusters, inClusters, numInClusters * sizeof(uint16));
        ; Setup parameters for call to function osal_memcpy
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     R4,?V0 + 3
        MOV     R5,#0x0
        MOV     A,R4
        MOV     B,#0x2
        MUL     AB
        XCH     A,R4
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x2
        MOV     A,R5
        MUL     AB
        ADD     A,R2
        MOV     R5,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
        SJMP    ??ZDO_ProcessMatchDescReq_21
//  799             }
//  800             else
//  801             {
//  802               pRspSent->pInClusters = NULL;
??ZDO_ProcessMatchDescReq_20:
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  803             }
//  804 
//  805             if (numOutClusters)
??ZDO_ProcessMatchDescReq_21:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     $+5
        LJMP    ??ZDO_ProcessMatchDescReq_22 & 0xFFFF
//  806             {
//  807               pRspSent->pOutClusters = (uint16*)(pRspSent + 1) + numInClusters;
        MOV     R0,?V0 + 3
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,?V0 + 4
        ADD     A,R0
        MOV     R0,A
        MOV     A,?V0 + 5
        ADDC    A,R1
        MOV     R1,A
        MOV     A,#0xa
        ADD     A,R0
        MOV     R0,A
        MOV     A,#0x0
        ADDC    A,R1
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  808               osal_memcpy(pRspSent->pOutClusters, outClusters, numOutClusters * sizeof(uint16));
        ; Setup parameters for call to function osal_memcpy
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        MOV     R5,#0x0
        MOV     A,R4
        MOV     B,#0x2
        MUL     AB
        XCH     A,R4
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x2
        MOV     A,R5
        MUL     AB
        ADD     A,R2
        MOV     R5,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
        SJMP    ??ZDO_ProcessMatchDescReq_23
//  809             }
//  810             else
//  811             {
//  812               pRspSent->pOutClusters = NULL;
??ZDO_ProcessMatchDescReq_22:
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
//  813             }
//  814 
//  815             osal_msg_send( *epDesc->epDesc->task_id, (uint8 *)pRspSent );
??ZDO_ProcessMatchDescReq_23:
        ; Setup parameters for call to function osal_msg_send
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??osal_msg_send?relay
//  816           }
//  817 
//  818           uint8Buf[epCnt++] = sDesc->EndPoint;
??ZDO_ProcessMatchDescReq_19:
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     A,#0x10
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,R0
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,R1
        MOV     DPL,R2
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOVX    @DPTR,A
//  819         }
//  820       }
//  821 
//  822       if ( allocated )
??ZDO_ProcessMatchDescReq_14:
        MOV     A,#0xc
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        JZ      ??ZDO_ProcessMatchDescReq_9
//  823         osal_mem_free( sDesc );
        ; Setup parameters for call to function osal_mem_free
        MOV     A,#0x5
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
//  824     }
//  825     epDesc = epDesc->nextDesc;
??ZDO_ProcessMatchDescReq_9:
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
        LJMP    ??ZDO_ProcessMatchDescReq_6 & 0xFFFF
//  826   }
//  827 
//  828   // Send the message only if at least one match found.
//  829   if ( epCnt )
??ZDO_ProcessMatchDescReq_8:
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        JZ      ??ZDO_ProcessMatchDescReq_24
//  830   {
//  831     if ( ZSuccess == ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_SUCCESS,
//  832               ZDAppNwkAddr.addr.shortAddr, epCnt, (uint8 *)ZDOBuildBuf, inMsg->SecurityUse ) )
        ; Setup parameters for call to function ZDP_EPRsp
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0xe
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 35)
        MOV     ?V0 + 0,#(ZDOBuildBuf & 0xff)
        MOV     ?V0 + 1,#((ZDOBuildBuf >> 8) & 0xff)
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 37)
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 38)
        MOV     DPTR,#ZDAppNwkAddr
        LCALL   ?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 40)
        MOV     ?V0 + 0,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 41)
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x2
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R5,A
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0xf
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     R2,#0x6
        MOV     R3,#-0x80
        LCALL   ??ZDP_EPRsp?relay
        MOV     A,#0x7
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 34)
//  833     {
//  834 #if defined( LCD_SUPPORTED )
//  835       HalLcdWriteScreen( "Match Desc Req", "Rsp Sent" );
//  836 #endif
//  837     }
//  838   }
//  839   else
//  840   {
//  841 #if defined( LCD_SUPPORTED )
//  842     HalLcdWriteScreen( "Match Desc Req", "Non Matched" );
//  843 #endif
//  844   }
//  845   
//  846   if ( inClusters )
??ZDO_ProcessMatchDescReq_24:
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessMatchDescReq_25
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessMatchDescReq_25:
        JZ      ??ZDO_ProcessMatchDescReq_26
//  847     osal_mem_free( inClusters );
        ; Setup parameters for call to function osal_mem_free
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
//  848   if ( outClusters )
??ZDO_ProcessMatchDescReq_26:
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ProcessMatchDescReq_27
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessMatchDescReq_27:
        JZ      ??ZDO_ProcessMatchDescReq_1
//  849     osal_mem_free( outClusters );
        ; Setup parameters for call to function osal_mem_free
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
??ZDO_ProcessMatchDescReq_1:
        MOV     A,#0x14
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 14)
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock12
//  850 }
//  851 
//  852 /*********************************************************************
//  853  * @fn      ZDO_ProcessBindUnbindReq()
//  854  *
//  855  * @brief   Called to process a Bind or Unbind Request message.
//  856  *
//  857  * @param   inMsg  - incoming message (request)
//  858  * @param   pReq - place to put parsed information
//  859  *
//  860  * @return  none
//  861  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  862 void ZDO_ProcessBindUnbindReq( zdoIncomingMsg_t *inMsg, ZDO_BindUnbindReq_t *pReq )
ZDO_ProcessBindUnbindReq:
        CFI Block cfiBlock13 Using cfiCommon0
        CFI Function ZDO_ProcessBindUnbindReq
//  863 {
        FUNCALL ZDO_ProcessBindUnbindReq, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, NLME_GetExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, osal_ExtAddrEqual
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, APSME_LookupNwkAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, ZDP_NwkAddrReq
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, APSME_BindRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, ZDApp_NVUpdate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, APSME_UnBindRequest
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 25, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 25, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, ZDApp_NVUpdate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 24, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 24, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ProcessBindUnbindReq, ZDP_SendData
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 29, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 29, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 12
        MOV     A,#-0xc
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     A,R4
        MOV     R6,A
        MOV     A,R5
        MOV     R7,A
//  864   zAddrType_t SourceAddr;       // Binding Source addres
//  865   byte bindStat;
//  866 
//  867   SourceAddr.addrMode = Addr64Bit;
        MOV     A,#0x3
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,#0xb
        LCALL   ?XSTACK_DISP0_8
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  868   osal_cpyExtAddr( SourceAddr.addr.extAddr, pReq->srcAddress );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??osal_cpyExtAddr?relay
//  869 
//  870 
//  871   // If the local device is not the primary binding cache
//  872   // check the src address of the bind request.
//  873   // If it is not the local device's extended address
//  874   // discard the request.
//  875   if ( !osal_ExtAddrEqual( SourceAddr.addr.extAddr, NLME_GetExtAddr()) ||
//  876         (pReq->dstAddress.addrMode != Addr64Bit &&
//  877          pReq->dstAddress.addrMode != AddrGroup) )
        ; Setup parameters for call to function osal_ExtAddrEqual
        ; Setup parameters for call to function NLME_GetExtAddr
        LCALL   ??NLME_GetExtAddr?relay
        MOV     A,R2
        MOV     R4,A
        MOV     A,R3
        MOV     R5,A
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??osal_ExtAddrEqual?relay
        MOV     A,R1
        JZ      ??ZDO_ProcessBindUnbindReq_0
        MOV     A,R6
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x3
        JZ      ??ZDO_ProcessBindUnbindReq_1
        MOV     A,R6
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x1
        JZ      ??ZDO_ProcessBindUnbindReq_1
//  878   {
//  879     bindStat = ZDP_NOT_SUPPORTED;
??ZDO_ProcessBindUnbindReq_0:
        MOV     A,#-0x7c
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        LJMP    ??ZDO_ProcessBindUnbindReq_2 & 0xFFFF
//  880   }
//  881   else
//  882   {
//  883     // Check source & destination endpoints
//  884     if ( (pReq->srcEndpoint == 0 || pReq->srcEndpoint > MAX_ENDPOINTS)
//  885         || (( pReq->dstAddress.addrMode == Addr64Bit ) &&
//  886             (pReq->dstEndpoint == 0 || pReq->dstEndpoint > MAX_ENDPOINTS)) )
??ZDO_ProcessBindUnbindReq_1:
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        JZ      ??ZDO_ProcessBindUnbindReq_3
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#-0xf
        JNC     ??ZDO_ProcessBindUnbindReq_3
        MOV     A,R6
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x3
        JNZ     ??ZDO_ProcessBindUnbindReq_4
        MOV     A,R6
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        JZ      ??ZDO_ProcessBindUnbindReq_3
        MOV     A,R6
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#-0xf
        JC      ??ZDO_ProcessBindUnbindReq_4
//  887     {
//  888       bindStat = ZDP_INVALID_EP;
??ZDO_ProcessBindUnbindReq_3:
        MOV     A,#-0x7e
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        LJMP    ??ZDO_ProcessBindUnbindReq_2 & 0xFFFF
//  889     }
//  890     else
//  891     {
//  892       if ( inMsg->clusterID == Bind_req )
??ZDO_ProcessBindUnbindReq_4:
        MOV     A,?V0 + 0
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x21
        JNZ     ??ZDO_ProcessBindUnbindReq_5
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessBindUnbindReq_5:
        JNZ     ??ZDO_ProcessBindUnbindReq_6
//  893       {
//  894         uint16 nwkAddr;
//  895 
//  896         // Check for the destination address
//  897         if ( pReq->dstAddress.addrMode == Addr64Bit )
        MOV     A,R6
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x3
        JNZ     ??ZDO_ProcessBindUnbindReq_6
//  898         {
//  899           if ( APSME_LookupNwkAddr( pReq->dstAddress.addr.extAddr, &nwkAddr ) == FALSE )
        ; Setup parameters for call to function APSME_LookupNwkAddr
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     R4,DPL
        MOV     R5,DPH
        MOV     A,R6
        ADD     A,#0xb
        MOV     R2,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??APSME_LookupNwkAddr?relay
        MOV     A,R1
        JNZ     ??ZDO_ProcessBindUnbindReq_6
//  900           {
//  901             ZDP_NwkAddrReq( pReq->dstAddress.addr.extAddr, ZDP_ADDR_REQTYPE_SINGLE, 0, 0 );
        ; Setup parameters for call to function ZDP_NwkAddrReq
        MOV     R5,#0x0
        MOV     R4,#0x0
        MOV     R1,#0x0
        MOV     A,R6
        ADD     A,#0xb
        MOV     R2,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??ZDP_NwkAddrReq?relay
//  902           }
//  903         }
//  904       }
//  905 
//  906       if ( inMsg->clusterID == Bind_req )
??ZDO_ProcessBindUnbindReq_6:
        MOV     A,?V0 + 0
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x21
        JNZ     ??ZDO_ProcessBindUnbindReq_7
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ProcessBindUnbindReq_7:
        JNZ     ??ZDO_ProcessBindUnbindReq_8
//  907       {
//  908         if ( APSME_BindRequest( pReq->srcEndpoint, pReq->clusterID,
//  909                        &(pReq->dstAddress), pReq->dstEndpoint ) == ZSuccess )
        ; Setup parameters for call to function APSME_BindRequest
        MOV     A,R6
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 25)
        MOV     A,R6
        ADD     A,#0xb
        MOV     R4,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R5,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??APSME_BindRequest?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
        MOV     A,R1
        JNZ     ??ZDO_ProcessBindUnbindReq_9
//  910         {
//  911           bindStat = ZDP_SUCCESS;
        MOV     A,#0x0
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  912           // Notify to save info into NV
//  913           ZDApp_NVUpdate();
        ; Setup parameters for call to function ZDApp_NVUpdate
        LCALL   ??ZDApp_NVUpdate?relay
        SJMP    ??ZDO_ProcessBindUnbindReq_2
//  914         }
//  915         else
//  916           bindStat = ZDP_TABLE_FULL;
??ZDO_ProcessBindUnbindReq_9:
        MOV     A,#-0x79
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        SJMP    ??ZDO_ProcessBindUnbindReq_2
//  917       }
//  918       else // Unbind_req
//  919       {
//  920         if ( APSME_UnBindRequest( pReq->srcEndpoint, pReq->clusterID,
//  921                        &(pReq->dstAddress), pReq->dstEndpoint ) == ZSuccess )
??ZDO_ProcessBindUnbindReq_8:
        ; Setup parameters for call to function APSME_UnBindRequest
        MOV     A,R6
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 25)
        MOV     A,R6
        ADD     A,#0xb
        MOV     R4,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R5,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??APSME_UnBindRequest?relay
        MOV     A,#0x1
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
        MOV     A,R1
        JNZ     ??ZDO_ProcessBindUnbindReq_10
//  922         {
//  923           bindStat = ZDP_SUCCESS;
        MOV     A,#0x0
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  924 
//  925           // Notify to save info into NV
//  926           ZDApp_NVUpdate();
        ; Setup parameters for call to function ZDApp_NVUpdate
        LCALL   ??ZDApp_NVUpdate?relay
        SJMP    ??ZDO_ProcessBindUnbindReq_2
//  927         }
//  928         else
//  929           bindStat = ZDP_NO_ENTRY;
??ZDO_ProcessBindUnbindReq_10:
        MOV     A,#-0x78
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  930       }
//  931     }
//  932   }
//  933 
//  934   // Send back a response message
//  935   ZDP_SendData( &(inMsg->TransSeq), &(inMsg->srcAddr),
//  936                (inMsg->clusterID | ZDO_RESPONSE_BIT), 1, &bindStat,
//  937                inMsg->SecurityUse );
??ZDO_ProcessBindUnbindReq_2:
        ; Setup parameters for call to function ZDP_SendData
        MOV     A,?V0 + 0
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 25)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     ?V0 + 2,DPL
        MOV     ?V0 + 3,DPH
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 27)
        MOV     A,?V0 + 0
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        ORL     A,#0x0
        MOV     ?V0 + 2,A
        INC     DPTR
        MOVX    A,@DPTR
        ORL     A,#0x80
        MOV     ?V0 + 3,A
        MOV     R0,#?V0 + 2
        LCALL   ?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV     R1,#0x1
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     R4,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R5,A
        MOV     A,?V0 + 0
        ADD     A,#0xf
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??ZDP_SendData?relay
        MOV     A,#0x5
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
//  938 }
        MOV     A,#0xc
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock13
//  939 
//  940 /*********************************************************************
//  941  * @fn      ZDO_UpdateAddrManager
//  942  *
//  943  * @brief   Update the Address Manager.
//  944  *
//  945  * @param   nwkAddr - network address
//  946  * @param   extAddr - extended address
//  947  *
//  948  * @return  none
//  949  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  950 void ZDO_UpdateAddrManager( uint16 nwkAddr, uint8 *extAddr )
ZDO_UpdateAddrManager:
        CFI Block cfiBlock14 Using cfiCommon0
        CFI Function ZDO_UpdateAddrManager
//  951 {
        FUNCALL ZDO_UpdateAddrManager, AddrMgrExtAddrSet
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_UpdateAddrManager, AddrMgrEntryUpdate
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 23, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 23, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 13
        MOV     A,#-0xd
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 23)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
//  952   AddrMgrEntry_t addrEntry;
//  953 
//  954   // Update the address manager
//  955   addrEntry.user = ADDRMGR_USER_DEFAULT;
        MOV     A,#0x0
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
//  956   addrEntry.nwkAddr = nwkAddr;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R6
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R7
        MOVX    @DPTR,A
//  957   AddrMgrExtAddrSet( addrEntry.extAddr, extAddr );
        ; Setup parameters for call to function AddrMgrExtAddrSet
        MOV     R4,?V0 + 0
        MOV     R5,?V0 + 1
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??AddrMgrExtAddrSet?relay
//  958   AddrMgrEntryUpdate( &addrEntry );
        ; Setup parameters for call to function AddrMgrEntryUpdate
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     R2,DPL
        MOV     R3,DPH
        LCALL   ??AddrMgrEntryUpdate?relay
//  959 }
        MOV     A,#0xd
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock14
//  960 
//  961 #if defined ( ZDO_SERVERDISC_RESPONSE )
//  962 /*********************************************************************
//  963  * @fn          ZDO_ProcessServerDiscReq
//  964  *
//  965  * @brief       Process the Server_Discovery_req message.
//  966  *
//  967  * @param   inMsg  - incoming message (request)
//  968  *
//  969  * @return      none
//  970  */
//  971 void ZDO_ProcessServerDiscReq( zdoIncomingMsg_t *inMsg )
//  972 {
//  973   uint16 serverMask = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
//  974   uint16 matchMask = serverMask & ZDO_Config_Node_Descriptor.ServerMask;
//  975 
//  976   if ( matchMask )
//  977   {
//  978     ZDP_ServerDiscRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSUCCESS,
//  979                 ZDAppNwkAddr.addr.shortAddr, matchMask, inMsg->SecurityUse );
//  980   }
//  981 }
//  982 #endif
//  983 
//  984 /*********************************************************************
//  985  * Call Back Functions from APS  - API
//  986  */
//  987 
//  988 /*********************************************************************
//  989  * @fn          ZDO_EndDeviceTimeoutCB
//  990  *
//  991  * @brief       This function handles the binding timer for the End
//  992  *              Device Bind command.
//  993  *
//  994  * @param       none
//  995  *
//  996  * @return      none
//  997  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  998 void ZDO_EndDeviceTimeoutCB( void )
ZDO_EndDeviceTimeoutCB:
        CFI Block cfiBlock15 Using cfiCommon0
        CFI Function ZDO_EndDeviceTimeoutCB
//  999 {
        FUNCALL ZDO_EndDeviceTimeoutCB, ZDO_SendEDBindRsp
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_EndDeviceTimeoutCB, ZDO_RemoveEndDeviceBind
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 9, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 9, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
// 1000 #if defined ( REFLECTOR )
// 1001   byte stat;
// 1002   if ( ZDO_EDBind )
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_EndDeviceTimeoutCB_0
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_EndDeviceTimeoutCB_0:
        JZ      ??ZDO_EndDeviceTimeoutCB_1
// 1003   {
// 1004     stat = ZDO_EDBind->status;
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x16
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R6,A
// 1005 
// 1006     // Send the response message to the first sent
// 1007     ZDO_SendEDBindRsp( ZDO_EDBind->SrcTransSeq, &(ZDO_EDBind->SrcAddr),
// 1008                         stat, ZDO_EDBind->SecurityUse );
        ; Setup parameters for call to function ZDO_SendEDBindRsp
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x15
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        MOV     R4,A
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        ADD     A,#0x1
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R3,A
        MOV     DPTR,#ZDO_EDBind
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_SendEDBindRsp?relay
// 1009 
// 1010     ZDO_RemoveEndDeviceBind();
        ; Setup parameters for call to function ZDO_RemoveEndDeviceBind
        LCALL   ??ZDO_RemoveEndDeviceBind?relay
// 1011   }
// 1012 #endif  // REFLECTOR
// 1013 }
??ZDO_EndDeviceTimeoutCB_1:
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock15
// 1014 
// 1015 /*********************************************************************
// 1016  * Optional Management Messages
// 1017  */
// 1018 
// 1019 #if defined( ZDO_MGMT_LQI_RESPONSE ) && defined ( RTR_NWK )
// 1020 /*********************************************************************
// 1021  * @fn          ZDO_ProcessMgmtLqiReq
// 1022  *
// 1023  * @brief       This function handles parsing the incoming Management
// 1024  *              LQI request and generate the response.
// 1025  *
// 1026  *   Note:      This function will limit the number of items returned
// 1027  *              to ZDO_MAX_LQI_ITEMS items.
// 1028  *
// 1029  * @param       inMsg - incoming message (request)
// 1030  *
// 1031  * @return      none
// 1032  */
// 1033 void ZDO_ProcessMgmtLqiReq( zdoIncomingMsg_t *inMsg )
// 1034 {
// 1035   byte x;
// 1036   byte index;
// 1037   byte numItems;
// 1038   byte maxItems;
// 1039   ZDP_MgmtLqiItem_t* table;
// 1040   ZDP_MgmtLqiItem_t* item;
// 1041   neighborEntry_t    entry;
// 1042   byte aItems;
// 1043   associated_devices_t *aDevice;
// 1044   uint8 StartIndex = inMsg->asdu[0];
// 1045 
// 1046   // Get the number of neighbor items
// 1047   NLME_GetRequest( nwkNumNeighborTableEntries, 0, &maxItems );
// 1048 
// 1049   // Get the number of associated items
// 1050   aItems = (uint8)AssocCount( PARENT, CHILD_FFD_RX_IDLE );
// 1051   // Total number of items
// 1052   maxItems += aItems;
// 1053 
// 1054   // Start with the supplied index
// 1055   numItems = maxItems - StartIndex;
// 1056 
// 1057   // limit the size of the list
// 1058   if ( numItems > ZDO_MAX_LQI_ITEMS )
// 1059     numItems = ZDO_MAX_LQI_ITEMS;
// 1060 
// 1061   // Allocate the memory to build the table
// 1062   table = (ZDP_MgmtLqiItem_t*)osal_mem_alloc( (short)
// 1063             ( numItems * sizeof( ZDP_MgmtLqiItem_t ) ) );
// 1064 
// 1065   if ( table != NULL )
// 1066   {
// 1067     x = 0;
// 1068     item = table;
// 1069     index = StartIndex;
// 1070 
// 1071     // Loop through associated items and build list
// 1072     for ( ; x < numItems; x++ )
// 1073     {
// 1074       if ( index < aItems )
// 1075       {
// 1076         // get next associated device
// 1077         aDevice = AssocFindDevice( index++ );
// 1078 
// 1079         // set basic fields
// 1080         item->panID   = _NIB.nwkPanId;
// 1081         osal_cpyExtAddr( item->extPanID, _NIB.extendedPANID );
// 1082         item->nwkAddr = aDevice->shortAddr;
// 1083         item->permit  = ZDP_MGMT_BOOL_UNKNOWN;
// 1084         item->depth   = 0xFF;
// 1085         item->lqi     = aDevice->linkInfo.rxCost;
// 1086 
// 1087         osal_memset( item->extAddr, 0x00, Z_EXTADDR_LEN );
// 1088 
// 1089         // use association info to set other fields
// 1090         if ( aDevice->nodeRelation == PARENT )
// 1091         {
// 1092           if (  aDevice->shortAddr == 0 )
// 1093           {
// 1094             item->devType = ZDP_MGMT_DT_COORD;
// 1095           }
// 1096           else
// 1097           {
// 1098             item->devType = ZDP_MGMT_DT_ROUTER;
// 1099           }
// 1100 
// 1101           item->rxOnIdle = ZDP_MGMT_BOOL_UNKNOWN;
// 1102           item->relation = ZDP_MGMT_REL_PARENT;
// 1103         }
// 1104         else
// 1105         {
// 1106           if ( aDevice->nodeRelation < CHILD_FFD )
// 1107           {
// 1108             item->devType = ZDP_MGMT_DT_ENDDEV;
// 1109 
// 1110             if ( aDevice->nodeRelation == CHILD_RFD )
// 1111             {
// 1112               item->rxOnIdle = FALSE;
// 1113             }
// 1114             else
// 1115             {
// 1116               item->rxOnIdle = TRUE;
// 1117             }
// 1118           }
// 1119           else
// 1120           {
// 1121             item->devType = ZDP_MGMT_DT_ROUTER;
// 1122 
// 1123             if ( aDevice->nodeRelation == CHILD_FFD )
// 1124             {
// 1125               item->rxOnIdle = FALSE;
// 1126             }
// 1127             else
// 1128             {
// 1129               item->rxOnIdle = TRUE;
// 1130             }
// 1131           }
// 1132 
// 1133           item->relation = ZDP_MGMT_REL_CHILD;
// 1134         }
// 1135 
// 1136         item++;
// 1137       }
// 1138       else
// 1139       {
// 1140         if ( StartIndex <= aItems )
// 1141           // Start with 1st neighbor
// 1142           index = 0;
// 1143         else
// 1144           // Start with >1st neighbor
// 1145           index = StartIndex - aItems;
// 1146         break;
// 1147       }
// 1148     }
// 1149 
// 1150     // Loop through neighbor items and finish list
// 1151     for ( ; x < numItems; x++ )
// 1152     {
// 1153       // Add next neighbor table item
// 1154       NLME_GetRequest( nwkNeighborTable, index++, &entry );
// 1155 
// 1156       // set ZDP_MgmtLqiItem_t fields
// 1157       item->panID    = entry.panId;
// 1158       osal_memset( item->extPanID, 0x00, Z_EXTADDR_LEN);
// 1159       osal_memset( item->extAddr, 0x00, Z_EXTADDR_LEN );
// 1160       item->nwkAddr  = entry.neighborAddress;
// 1161       item->rxOnIdle = ZDP_MGMT_BOOL_UNKNOWN;
// 1162       item->relation = ZDP_MGMT_REL_UNKNOWN;
// 1163       item->permit   = ZDP_MGMT_BOOL_UNKNOWN;
// 1164       item->depth    = 0xFF;
// 1165       item->lqi      = entry.linkInfo.rxCost;
// 1166 
// 1167       if ( item->nwkAddr == 0 )
// 1168       {
// 1169         item->devType = ZDP_MGMT_DT_COORD;
// 1170       }
// 1171       else
// 1172       {
// 1173         item->devType = ZDP_MGMT_DT_ROUTER;
// 1174       }
// 1175 
// 1176       item++;
// 1177     }
// 1178 
// 1179     // Send response
// 1180     ZDP_MgmtLqiRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSuccess, maxItems,
// 1181                     StartIndex, numItems, table, false );
// 1182 
// 1183     osal_mem_free( table );
// 1184   }
// 1185 }
// 1186 #endif // ZDO_MGMT_LQI_RESPONSE && RTR_NWK
// 1187 
// 1188 #if defined( ZDO_MGMT_NWKDISC_RESPONSE )
// 1189 /*********************************************************************
// 1190  * @fn          ZDO_ProcessMgmtNwkDiscReq
// 1191  *
// 1192  * @brief       This function handles parsing the incoming Management
// 1193  *              Network Discover request and starts the request.
// 1194  *
// 1195  * @param       inMsg - incoming message (request)
// 1196  *
// 1197  * @return      none
// 1198  */
// 1199 void ZDO_ProcessMgmtNwkDiscReq( zdoIncomingMsg_t *inMsg )
// 1200 {
// 1201   NLME_ScanFields_t scan;
// 1202   uint8             index;
// 1203   uint8             *msg;
// 1204 
// 1205   msg = inMsg->asdu;
// 1206   scan.channels = BUILD_UINT32( msg[0], msg[1], msg[2], msg[3] );
// 1207   msg += 4;
// 1208   scan.duration = *msg++;
// 1209   index         = *msg;
// 1210 
// 1211   // Save off the information to be used for the response
// 1212   zdappMgmtNwkDiscReqInProgress          = true;
// 1213   zdappMgmtNwkDiscRspAddr.addrMode       = Addr16Bit;
// 1214   zdappMgmtNwkDiscRspAddr.addr.shortAddr = inMsg->srcAddr.addr.shortAddr;
// 1215   zdappMgmtNwkDiscStartIndex             = index;
// 1216   zdappMgmtNwkDiscRspTransSeq            = inMsg->TransSeq;
// 1217 
// 1218   if ( NLME_NwkDiscReq2( &scan ) != ZSuccess )
// 1219   {
// 1220     NLME_NwkDiscTerm();
// 1221 
// 1222     // zdappMgmtNwkDiscReqInProgress will be reset in the confirm callback
// 1223   }
// 1224 }
// 1225 #endif // ZDO_MGMT_NWKDISC_RESPONSE
// 1226 
// 1227 #if defined ( ZDO_MGMT_NWKDISC_RESPONSE )
// 1228 /*********************************************************************
// 1229  * @fn          ZDO_FinishProcessingMgmtNwkDiscReq
// 1230  *
// 1231  * @brief       This function finishes the processing of the Management
// 1232  *              Network Discover Request and generates the response.
// 1233  *
// 1234  *   Note:      This function will limit the number of items returned
// 1235  *              to ZDO_MAX_NWKDISC_ITEMS items.
// 1236  *
// 1237  * @param       ResultCountSrcAddr - source of the request
// 1238  * @param       msg - pointer to incoming message
// 1239  * @param       SecurityUse -
// 1240  *
// 1241  * @return      none
// 1242  */
// 1243 void ZDO_FinishProcessingMgmtNwkDiscReq( byte ResultCount,
// 1244                                          networkDesc_t *NetworkList )
// 1245 {
// 1246   byte count;
// 1247 
// 1248 #if defined ( RTR_NWK )
// 1249   networkDesc_t *newDesc, *pList = NetworkList;
// 1250 
// 1251   // Look for my PanID.
// 1252   while ( pList )
// 1253   {
// 1254     if ( pList->panId == _NIB.nwkPanId )
// 1255     {
// 1256       break;
// 1257     }
// 1258 
// 1259     if ( !pList->nextDesc )
// 1260     {
// 1261       break;
// 1262     }
// 1263     pList = pList->nextDesc;
// 1264   }
// 1265 
// 1266   // If my Pan not present (query to a star network ZC or an isolated ZR?),
// 1267   // prepend it.
// 1268   if ( !pList || (pList->panId != _NIB.nwkPanId) )
// 1269   {
// 1270     newDesc = (networkDesc_t *)osal_mem_alloc( sizeof( networkDesc_t ) );
// 1271     if ( newDesc )
// 1272     {
// 1273       byte pJoin;
// 1274 
// 1275       newDesc->panId = _NIB.nwkPanId;
// 1276       newDesc->logicalChannel = _NIB.nwkLogicalChannel;
// 1277       newDesc->beaconOrder = _NIB.beaconOrder;
// 1278       newDesc->superFrameOrder = _NIB.superFrameOrder;
// 1279       newDesc->version = NLME_GetProtocolVersion();
// 1280       newDesc->stackProfile = zgStackProfile;
// 1281       //Extended PanID
// 1282       osal_cpyExtAddr( newDesc->extendedPANID, _NIB.extendedPANID);
// 1283 
// 1284       ZMacGetReq( ZMacAssociationPermit, &pJoin );
// 1285       newDesc->chosenRouter = ((pJoin) ? ZDAppNwkAddr.addr.shortAddr :
// 1286                                          INVALID_NODE_ADDR);
// 1287 
// 1288       newDesc->nextDesc = NetworkList;
// 1289       NetworkList = newDesc;
// 1290       ResultCount++;
// 1291     }
// 1292   }
// 1293 #endif
// 1294 
// 1295   // Calc the count and apply a max count.
// 1296   if ( zdappMgmtNwkDiscStartIndex > ResultCount )
// 1297   {
// 1298     count = 0;
// 1299   }
// 1300   else
// 1301   {
// 1302     count = ResultCount - zdappMgmtNwkDiscStartIndex;
// 1303     if ( count > ZDO_MAX_NWKDISC_ITEMS )
// 1304     {
// 1305       count = ZDO_MAX_NWKDISC_ITEMS;
// 1306     }
// 1307 
// 1308     // Move the list pointer up to the start index.
// 1309     NetworkList += zdappMgmtNwkDiscStartIndex;
// 1310   }
// 1311 
// 1312   ZDP_MgmtNwkDiscRsp( zdappMgmtNwkDiscRspTransSeq,
// 1313                      &zdappMgmtNwkDiscRspAddr, ZSuccess, ResultCount,
// 1314                       zdappMgmtNwkDiscStartIndex,
// 1315                       count,
// 1316                       NetworkList,
// 1317                       false );
// 1318 
// 1319 #if defined ( RTR_NWK )
// 1320   if ( newDesc )
// 1321   {
// 1322     osal_mem_free( newDesc );
// 1323   }
// 1324 #endif
// 1325 
// 1326   NLME_NwkDiscTerm();
// 1327 }
// 1328 #endif
// 1329 
// 1330 #if defined ( ZDO_MGMT_RTG_RESPONSE ) && defined ( RTR_NWK )
// 1331 /*********************************************************************
// 1332  * @fn          ZDO_ProcessMgmtRtgReq
// 1333  *
// 1334  * @brief       This function finishes the processing of the Management
// 1335  *              Routing Request and generates the response.
// 1336  *
// 1337  *   Note:      This function will limit the number of items returned
// 1338  *              to ZDO_MAX_RTG_ITEMS items.
// 1339  *
// 1340  * @param       ResultCountSrcAddr - source of the request
// 1341  * @param       msg - pointer to incoming message
// 1342  * @param       SecurityUse -
// 1343  *
// 1344  * @return      none
// 1345  */
// 1346 void ZDO_ProcessMgmtRtgReq( zdoIncomingMsg_t *inMsg )
// 1347 {
// 1348   byte x;
// 1349   byte maxNumItems;
// 1350   byte numItems;
// 1351   byte *pBuf;
// 1352   rtgItem_t *pList;
// 1353   uint8 StartIndex = inMsg->asdu[0];
// 1354 
// 1355   // Get the number of table items
// 1356   NLME_GetRequest( nwkNumRoutingTableEntries, 0, &maxNumItems );
// 1357 
// 1358   numItems = maxNumItems - StartIndex;    // Start at the passed in index
// 1359 
// 1360   // limit the size of the list
// 1361   if ( numItems > ZDO_MAX_RTG_ITEMS )
// 1362     numItems = ZDO_MAX_RTG_ITEMS;
// 1363 
// 1364   // Allocate the memory to build the table
// 1365   pBuf = osal_mem_alloc( (short)(sizeof( rtgItem_t ) * numItems) );
// 1366 
// 1367   if ( pBuf )
// 1368   {
// 1369     // Convert buffer to list
// 1370     pList = (rtgItem_t *)pBuf;
// 1371 
// 1372     // Loop through items and build list
// 1373     for ( x = 0; x < numItems; x++ )
// 1374     {
// 1375       NLME_GetRequest( nwkRoutingTable, (uint16)(x + StartIndex), (void*)pList );
// 1376 
// 1377       // Remap the status to the RoutingTableList Record Format defined in the ZigBee spec
// 1378       switch( pList->status )
// 1379       {
// 1380         case RT_ACTIVE:
// 1381           pList->status = ZDO_MGMT_RTG_ENTRY_ACTIVE;
// 1382           break;
// 1383 
// 1384         case RT_DISC:
// 1385           pList->status = ZDO_MGMT_RTG_ENTRY_DISCOVERY_UNDERWAY;
// 1386           break;
// 1387 
// 1388         case RT_LINK_FAIL:
// 1389           pList->status = ZDO_MGMT_RTG_ENTRY_DISCOVERY_FAILED;
// 1390 
// 1391         case RT_INIT:
// 1392         case RT_REPAIR:
// 1393         default:
// 1394           pList->status = ZDO_MGMT_RTG_ENTRY_INACTIVE;
// 1395           break;
// 1396       }
// 1397 
// 1398       // Increment pointer to next record
// 1399       pList++;
// 1400     }
// 1401 
// 1402     // Send response
// 1403     ZDP_MgmtRtgRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSuccess, maxNumItems, StartIndex, numItems,
// 1404                           (rtgItem_t *)pBuf, false );
// 1405 
// 1406     osal_mem_free( pBuf );
// 1407   }
// 1408 }
// 1409 #endif // defined(ZDO_MGMT_RTG_RESPONSE)  && defined(RTR_NWK)
// 1410 
// 1411 #if defined ( ZDO_MGMT_BIND_RESPONSE )
// 1412 /*********************************************************************
// 1413  * @fn          ZDO_ProcessMgmtBindReq
// 1414  *
// 1415  * @brief       This function finishes the processing of the Management
// 1416  *              Bind Request and generates the response.
// 1417  *
// 1418  *   Note:      This function will limit the number of items returned
// 1419  *              to ZDO_MAX_BIND_ITEMS items.
// 1420  *
// 1421  * @param       ResultCountSrcAddr - source of the request
// 1422  * @param       msg - pointer to incoming message
// 1423  * @param       SecurityUse -
// 1424  *
// 1425  * @return      none
// 1426  */
// 1427 void ZDO_ProcessMgmtBindReq( zdoIncomingMsg_t *inMsg )
// 1428 {
// 1429 #if defined ( REFLECTOR )
// 1430   byte x;
// 1431   uint16 maxNumItems;
// 1432   uint16 numItems;
// 1433   byte *pBuf = NULL;
// 1434   apsBindingItem_t *pList;
// 1435   uint8 StartIndex = inMsg->asdu[0];
// 1436 
// 1437   // Get the number of table items
// 1438   APSME_GetRequest( apsNumBindingTableEntries, 0, (byte*)(&maxNumItems) );
// 1439 
// 1440   if ( maxNumItems > StartIndex )
// 1441     numItems = maxNumItems - StartIndex;    // Start at the passed in index
// 1442   else
// 1443     numItems = 0;
// 1444 
// 1445   // limit the size of the list
// 1446   if ( numItems > ZDO_MAX_BIND_ITEMS )
// 1447     numItems = ZDO_MAX_BIND_ITEMS;
// 1448 
// 1449   // Allocate the memory to build the table
// 1450   if ( numItems )
// 1451     pBuf = osal_mem_alloc( sizeof( apsBindingItem_t ) * numItems );
// 1452 
// 1453   if ( pBuf )
// 1454   {
// 1455     // Convert buffer to list
// 1456     pList = (apsBindingItem_t *)pBuf;
// 1457 
// 1458     // Loop through items and build list
// 1459     for ( x = 0; x < numItems; x++ )
// 1460     {
// 1461       APSME_GetRequest( apsBindingTable, (x + StartIndex), (void*)pList );
// 1462       pList++;
// 1463     }
// 1464   }
// 1465 
// 1466   // Send response
// 1467   ZDP_MgmtBindRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSuccess, (byte)maxNumItems, StartIndex, (byte)numItems,
// 1468                         (apsBindingItem_t *)pBuf, false );
// 1469 
// 1470   if ( pBuf )
// 1471   {
// 1472     osal_mem_free( pBuf );
// 1473   }
// 1474 #endif
// 1475 }
// 1476 #endif // ZDO_MGMT_BIND_RESPONSE
// 1477 
// 1478 #if defined ( ZDO_MGMT_JOINDIRECT_RESPONSE ) && defined ( RTR_NWK )
// 1479 /*********************************************************************
// 1480  * @fn          ZDO_ProcessMgmtDirectJoinReq
// 1481  *
// 1482  * @brief       This function finishes the processing of the Management
// 1483  *              Direct Join Request and generates the response.
// 1484  *
// 1485  * @param       inMsg - incoming message (request)
// 1486  *
// 1487  * @return      none
// 1488  */
// 1489 void ZDO_ProcessMgmtDirectJoinReq( zdoIncomingMsg_t *inMsg )
// 1490 {
// 1491   uint8 *deviceAddr;
// 1492   uint8 capInfo;
// 1493   uint8 stat;
// 1494 
// 1495   // Parse the message
// 1496   deviceAddr = inMsg->asdu;
// 1497   capInfo = inMsg->asdu[Z_EXTADDR_LEN];
// 1498 
// 1499   stat = (byte) NLME_DirectJoinRequest( deviceAddr, capInfo );
// 1500 
// 1501   ZDP_MgmtDirectJoinRsp( inMsg->TransSeq, &(inMsg->srcAddr), stat, false );
// 1502 }
// 1503 #endif // ZDO_MGMT_JOINDIRECT_RESPONSE && RTR_NWK
// 1504 
// 1505 #if defined ( ZDO_MGMT_LEAVE_RESPONSE )
// 1506 /*********************************************************************
// 1507  * @fn          ZDO_ProcessMgmtLeaveReq
// 1508  *
// 1509  * @brief       This function processes a Management Leave Request
// 1510  *              and generates the response.
// 1511  *
// 1512  * @param       inMsg - incoming message (request)
// 1513  *
// 1514  * @return      none
// 1515  */
// 1516 void ZDO_ProcessMgmtLeaveReq( zdoIncomingMsg_t *inMsg )
// 1517 {
// 1518   NLME_LeaveReq_t req;
// 1519   ZStatus_t       status;
// 1520   uint8 *msg = inMsg->asdu;
// 1521 
// 1522 
// 1523   if ( ( AddrMgrExtAddrValid( msg ) == FALSE                 ) ||
// 1524        ( osal_ExtAddrEqual( msg, NLME_GetExtAddr() ) == TRUE )    )
// 1525   {
// 1526     // Remove this device
// 1527     req.extAddr = NULL;
// 1528   }
// 1529   else
// 1530   {
// 1531     // Remove child device
// 1532     req.extAddr = msg;
// 1533   }
// 1534 
// 1535   req.removeChildren = FALSE;
// 1536   req.rejoin         = FALSE;
// 1537   req.silent         = FALSE;
// 1538 
// 1539   status = NLME_LeaveReq( &req );
// 1540 
// 1541   ZDP_MgmtLeaveRsp( inMsg->TransSeq, &(inMsg->srcAddr), status, FALSE );
// 1542 }
// 1543 #endif // ZDO_MGMT_LEAVE_RESPONSE
// 1544 
// 1545 #if defined( ZDO_MGMT_PERMIT_JOIN_RESPONSE ) && defined( RTR_NWK )
// 1546 /*********************************************************************
// 1547  * @fn          ZDO_ProcessMgmtPermitJoinReq
// 1548  *
// 1549  * @brief       This function processes a Management Permit Join Request
// 1550  *              and generates the response.
// 1551  *
// 1552  * @param       inMsg - incoming message (request)
// 1553  *
// 1554  * @return      none
// 1555  */
// 1556 void ZDO_ProcessMgmtPermitJoinReq( zdoIncomingMsg_t *inMsg )
// 1557 {
// 1558   uint8 stat;
// 1559   uint8 duration;
// 1560   uint8 tcsig;
// 1561 
// 1562   duration = inMsg->asdu[ZDP_MGMT_PERMIT_JOIN_REQ_DURATION];
// 1563   tcsig    = inMsg->asdu[ZDP_MGMT_PERMIT_JOIN_REQ_TC_SIG];
// 1564 
// 1565   // Set the network layer permit join duration
// 1566   stat = (byte) NLME_PermitJoiningRequest( duration );
// 1567 
// 1568   // Handle the Trust Center Significance
// 1569   if ( tcsig == TRUE )
// 1570   {
// 1571     ZDSecMgrPermitJoining( duration );
// 1572   }
// 1573 
// 1574   // Send a response if unicast
// 1575   if (inMsg->srcAddr.addr.shortAddr != NWK_BROADCAST_SHORTADDR)
// 1576   {
// 1577     ZDP_MgmtPermitJoinRsp( inMsg->TransSeq, &(inMsg->srcAddr), stat, false );
// 1578   }
// 1579 }
// 1580 #endif // ZDO_MGMT_PERMIT_JOIN_RESPONSE && defined( RTR_NWK )
// 1581 
// 1582 /*
// 1583  * This function stub allows the next higher layer to be notified of
// 1584  * a permit joining timeout.
// 1585  */
// 1586 #if defined( RTR_NWK )
// 1587 /*********************************************************************
// 1588  * @fn          ZDO_ProcessMgmtPermitJoinTimeout
// 1589  *
// 1590  * @brief       This function stub allows the next higher layer to be
// 1591  *              notified of a permit joining timeout. Currently, this
// 1592  *              directly bypasses the APS layer.
// 1593  *
// 1594  * @param       none
// 1595  *
// 1596  * @return      none
// 1597  */
// 1598 void ZDO_ProcessMgmtPermitJoinTimeout( void )
// 1599 {
// 1600   #if defined( ZDO_MGMT_PERMIT_JOIN_RESPONSE )
// 1601   {
// 1602     // Currently, only the ZDSecMgr needs to be notified
// 1603     ZDSecMgrPermitJoiningTimeout();
// 1604   }
// 1605   #endif
// 1606 }
// 1607 #endif // defined( RTR_NWK )
// 1608 
// 1609 #if defined ( ZDO_USERDESC_RESPONSE )
// 1610 /*********************************************************************
// 1611  * @fn          ZDO_ProcessUserDescReq
// 1612  *
// 1613  * @brief       This function finishes the processing of the User
// 1614  *              Descriptor Request and generates the response.
// 1615  *
// 1616  * @param       inMsg - incoming message (request)
// 1617  *
// 1618  * @return      none
// 1619  */
// 1620 void ZDO_ProcessUserDescReq( zdoIncomingMsg_t *inMsg )
// 1621 {
// 1622   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
// 1623   UserDescriptorFormat_t userDesc;
// 1624 
// 1625   if ( (aoi == ZDAppNwkAddr.addr.shortAddr) && (ZSUCCESS == osal_nv_read(
// 1626              ZCD_NV_USERDESC, 0, sizeof(UserDescriptorFormat_t), &userDesc )) )
// 1627   {
// 1628     ZDP_UserDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), aoi, &userDesc, false );
// 1629   }
// 1630   else
// 1631   {
// 1632     ZDP_GenericRsp(inMsg->TransSeq, &(inMsg->srcAddr),
// 1633            ZDP_NOT_SUPPORTED, aoi, User_Desc_rsp, inMsg->SecurityUse );
// 1634   }
// 1635 }
// 1636 #endif // ZDO_USERDESC_RESPONSE
// 1637 
// 1638 #if defined ( ZDO_USERDESCSET_RESPONSE )
// 1639 /*********************************************************************
// 1640  * @fn          ZDO_ProcessUserDescSet
// 1641  *
// 1642  * @brief       This function finishes the processing of the User
// 1643  *              Descriptor Set and generates the response.
// 1644  *
// 1645  * @param       inMsg - incoming message (request)
// 1646  *
// 1647  * @return      none
// 1648  */
// 1649 void ZDO_ProcessUserDescSet( zdoIncomingMsg_t *inMsg )
// 1650 {
// 1651   uint8 *msg;
// 1652   uint16 aoi;
// 1653   UserDescriptorFormat_t userDesc;
// 1654   uint8 outMsg[3];
// 1655   uint8 status;
// 1656 
// 1657   msg = inMsg->asdu;
// 1658   aoi = BUILD_UINT16( msg[0], msg[1] );
// 1659 
// 1660   if ( aoi == ZDAppNwkAddr.addr.shortAddr )
// 1661   {
// 1662     userDesc.len = (msg[2] < AF_MAX_USER_DESCRIPTOR_LEN) ? msg[2] : AF_MAX_USER_DESCRIPTOR_LEN;
// 1663     msg ++;  // increment one for the length field
// 1664 
// 1665     osal_memcpy( userDesc.desc, &msg[2], userDesc.len );
// 1666     osal_nv_write( ZCD_NV_USERDESC, 0, sizeof(UserDescriptorFormat_t), &userDesc );
// 1667     if ( userDesc.len != 0 )
// 1668     {
// 1669       ZDO_Config_Node_Descriptor.UserDescAvail = TRUE;
// 1670     }
// 1671     else
// 1672     {
// 1673       ZDO_Config_Node_Descriptor.UserDescAvail = FALSE;
// 1674     }
// 1675 
// 1676     status = ZDP_SUCCESS;
// 1677   }
// 1678   else
// 1679   {
// 1680     status =  ZDP_NOT_SUPPORTED;
// 1681   }
// 1682 
// 1683   outMsg[0] = status;
// 1684   outMsg[1] = LO_UINT16( aoi );
// 1685   outMsg[2] = LO_UINT16( aoi );
// 1686 
// 1687   ZDP_SendData( &(inMsg->TransSeq), &(inMsg->srcAddr), User_Desc_conf, 3, outMsg,
// 1688                inMsg->SecurityUse );
// 1689 }
// 1690 #endif // ZDO_USERDESCSET_RESPONSE
// 1691 
// 1692 #if defined ( ZDO_ENDDEVICE_ANNCE ) && defined(RTR_NWK)
// 1693 /*********************************************************************
// 1694  * @fn          ZDO_ProcessEndDeviceAnnce
// 1695  *
// 1696  * @brief       This function processes an end device annouce message.
// 1697  *
// 1698  * @param       inMsg - incoming message
// 1699  *
// 1700  * @return      none
// 1701  */
// 1702 void ZDO_ProcessEndDeviceAnnce( zdoIncomingMsg_t *inMsg )
// 1703 {
// 1704   ZDO_DeviceAnnce_t Annce;
// 1705   associated_devices_t *dev;
// 1706   AddrMgrEntry_t addrEntry;
// 1707 
// 1708   // Parse incoming message
// 1709   ZDO_ParseDeviceAnnce( inMsg, &Annce );
// 1710 
// 1711   addrEntry.user = ADDRMGR_USER_DEFAULT;
// 1712   addrEntry.nwkAddr = Annce.nwkAddr;
// 1713   AddrMgrExtAddrSet( addrEntry.extAddr, Annce.extAddr );
// 1714   AddrMgrEntryUpdate( &addrEntry );
// 1715 
// 1716   // find device in device list
// 1717   dev = AssocGetWithExt( Annce.extAddr );
// 1718   if ( dev != NULL )
// 1719   {
// 1720     // if found and address is different
// 1721     if ( dev->shortAddr != Annce.nwkAddr )
// 1722     {
// 1723       // update device list if device is (was) not our child
// 1724       if ( dev->nodeRelation == NEIGHBOR || dev->nodeRelation == OTHER )
// 1725       {
// 1726         dev->shortAddr = Annce.nwkAddr;
// 1727       }
// 1728     }
// 1729   }
// 1730 }
// 1731 #endif // ZDO_ENDDEVICE_ANNCE
// 1732 
// 1733 /*********************************************************************
// 1734  * @fn          ZDO_BuildSimpleDescBuf
// 1735  *
// 1736  * @brief       Build a byte sequence representation of a Simple Descriptor.
// 1737  *
// 1738  * @param       buf  - pointer to a byte array big enough for data.
// 1739  * @param       desc - SimpleDescriptionFormat_t *
// 1740  *
// 1741  * @return      none
// 1742  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1743 void ZDO_BuildSimpleDescBuf( byte *buf, SimpleDescriptionFormat_t *desc )
ZDO_BuildSimpleDescBuf:
        CFI Block cfiBlock16 Using cfiCommon0
        CFI Function ZDO_BuildSimpleDescBuf
// 1744 {
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
// 1745   byte cnt;
// 1746   uint16 *ptr;
// 1747 
// 1748   *buf++ = desc->EndPoint;
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1749   *buf++ = HI_UINT16( desc->AppProfId );
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R7
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1750   *buf++ = LO_UINT16( desc->AppProfId );
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1751   *buf++ = HI_UINT16( desc->AppDeviceId );
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R7
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1752   *buf++ = LO_UINT16( desc->AppDeviceId );
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1753 
// 1754   *buf++ = (byte)(desc->AppDevVer << 4);
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf0
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1755 
// 1756   *buf++ = desc->AppNumInClusters;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1757   ptr = desc->pAppInClusterList;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
// 1758   for ( cnt = 0; cnt < desc->AppNumInClusters; ptr++, cnt++ )
        MOV     ?V0 + 0,#0x0
??ZDO_BuildSimpleDescBuf_0:
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,R6
        JNC     ??ZDO_BuildSimpleDescBuf_1
// 1759   {
// 1760     *buf++ = HI_UINT16( *ptr );
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R7
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1761     *buf++ = LO_UINT16( *ptr );
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1762   }
        MOV     A,R0
        ADD     A,#0x2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
        INC     ?V0 + 0
        SJMP    ??ZDO_BuildSimpleDescBuf_0
// 1763 
// 1764   *buf++ = desc->AppNumOutClusters;
??ZDO_BuildSimpleDescBuf_1:
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1765   ptr = desc->pAppOutClusterList;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
// 1766   for ( cnt = 0; cnt < desc->AppNumOutClusters; ptr++, cnt++ )
        MOV     ?V0 + 0,#0x0
??ZDO_BuildSimpleDescBuf_2:
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,R6
        JNC     ??ZDO_BuildSimpleDescBuf_3
// 1767   {
// 1768     *buf++ = HI_UINT16( *ptr );
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R7
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1769     *buf++ = LO_UINT16( *ptr );
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 1770   }
        MOV     A,R0
        ADD     A,#0x2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
        INC     ?V0 + 0
        SJMP    ??ZDO_BuildSimpleDescBuf_2
// 1771 }
??ZDO_BuildSimpleDescBuf_3:
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock16
// 1772 
// 1773 #if defined ( ZDO_COORDINATOR )
// 1774 /*********************************************************************
// 1775  * @fn      ZDO_MatchEndDeviceBind()
// 1776  *
// 1777  * @brief
// 1778  *
// 1779  *   Called to match end device binding requests
// 1780  *
// 1781  * @param  bindReq  - binding request information
// 1782  * @param  SecurityUse - Security enable/disable
// 1783  *
// 1784  * @return  none
// 1785  */
// 1786 void ZDO_MatchEndDeviceBind( ZDEndDeviceBind_t *bindReq )
// 1787 {
// 1788   zAddrType_t dstAddr;
// 1789   uint8 sendRsp = FALSE;
// 1790   uint8 status;
// 1791 
// 1792   // Is this the first request?
// 1793   if ( matchED == NULL )
// 1794   {
// 1795     // Create match info structure
// 1796     matchED = (ZDMatchEndDeviceBind_t *)osal_mem_alloc( sizeof ( ZDMatchEndDeviceBind_t ) );
// 1797     if ( matchED )
// 1798     {
// 1799       // Clear the structure
// 1800       osal_memset( (uint8 *)matchED, 0, sizeof ( ZDMatchEndDeviceBind_t ) );
// 1801 
// 1802       // Copy the first request's information
// 1803       if ( !ZDO_CopyMatchInfo( &(matchED->ed1), bindReq ) )
// 1804       {
// 1805 
// 1806         status = ZDP_NO_ENTRY;
// 1807         sendRsp = TRUE;
// 1808       }
// 1809     }
// 1810     else
// 1811     {
// 1812       status = ZDP_NO_ENTRY;
// 1813       sendRsp = TRUE;
// 1814     }
// 1815 
// 1816     if ( !sendRsp )
// 1817     {
// 1818       // Set into the correct state
// 1819       matchED->state = ZDMATCH_WAIT_REQ;
// 1820 
// 1821       // Setup the timeout
// 1822       APS_SetEndDeviceBindTimeout( AIB_MaxBindingTime, ZDO_EndDeviceBindMatchTimeoutCB );
// 1823     }
// 1824   }
// 1825   else
// 1826   {
// 1827       matchED->state = ZDMATCH_SENDING_BINDS;
// 1828 
// 1829       // Copy the 2nd request's information
// 1830       if ( !ZDO_CopyMatchInfo( &(matchED->ed2), bindReq ) )
// 1831       {
// 1832         status = ZDP_NO_ENTRY;
// 1833         sendRsp = TRUE;
// 1834       }
// 1835 
// 1836       // Make a source match for ed1
// 1837       matchED->ed1numMatched = ZDO_CompareClusterLists(
// 1838                   matchED->ed1.numOutClusters, matchED->ed1.outClusters,
// 1839                   matchED->ed2.numInClusters, matchED->ed2.inClusters, ZDOBuildBuf );
// 1840       if ( matchED->ed1numMatched )
// 1841       {
// 1842         // Save the match list
// 1843         matchED->ed1Matched = osal_mem_alloc( (short)(matchED->ed1numMatched * sizeof ( uint16 )) );
// 1844         if ( matchED->ed1Matched )
// 1845         {
// 1846           osal_memcpy( matchED->ed1Matched, ZDOBuildBuf, (matchED->ed1numMatched * sizeof ( uint16 )) );
// 1847         }
// 1848         else
// 1849         {
// 1850           // Allocation error, stop
// 1851           status = ZDP_NO_ENTRY;
// 1852           sendRsp = TRUE;
// 1853         }
// 1854       }
// 1855 
// 1856       // Make a source match for ed2
// 1857       matchED->ed2numMatched = ZDO_CompareClusterLists(
// 1858                   matchED->ed2.numOutClusters, matchED->ed2.outClusters,
// 1859                   matchED->ed1.numInClusters, matchED->ed1.inClusters, ZDOBuildBuf );
// 1860       if ( matchED->ed2numMatched )
// 1861       {
// 1862         // Save the match list
// 1863         matchED->ed2Matched = osal_mem_alloc( (short)(matchED->ed2numMatched * sizeof ( uint16 )) );
// 1864         if ( matchED->ed2Matched )
// 1865         {
// 1866           osal_memcpy( matchED->ed2Matched, ZDOBuildBuf, (matchED->ed2numMatched * sizeof ( uint16 )) );
// 1867         }
// 1868         else
// 1869         {
// 1870           // Allocation error, stop
// 1871           status = ZDP_NO_ENTRY;
// 1872           sendRsp = TRUE;
// 1873         }
// 1874       }
// 1875 
// 1876       if ( (sendRsp == FALSE) && (matchED->ed1numMatched || matchED->ed2numMatched) )
// 1877       {
// 1878         // Do the first unbind/bind state
// 1879         ZDMatchSendState( ZDMATCH_REASON_START, ZDP_SUCCESS, 0 );
// 1880       }
// 1881       else
// 1882       {
// 1883         status = ZDP_NO_MATCH;
// 1884         sendRsp = TRUE;
// 1885       }
// 1886   }
// 1887 
// 1888   if ( sendRsp )
// 1889   {
// 1890     // send response to this requester
// 1891     dstAddr.addrMode = Addr16Bit;
// 1892     dstAddr.addr.shortAddr = bindReq->srcAddr;
// 1893     ZDP_EndDeviceBindRsp( bindReq->TransSeq, &dstAddr, status, bindReq->SecurityUse );
// 1894 
// 1895     if ( matchED->state == ZDMATCH_SENDING_BINDS )
// 1896     {
// 1897       // send response to first requester
// 1898       dstAddr.addrMode = Addr16Bit;
// 1899       dstAddr.addr.shortAddr = matchED->ed1.srcAddr;
// 1900       ZDP_EndDeviceBindRsp( matchED->ed1.TransSeq, &dstAddr, status, matchED->ed1.SecurityUse );
// 1901     }
// 1902 
// 1903     // Process ended - release memory used
// 1904     ZDO_RemoveMatchMemory();
// 1905   }
// 1906 }
// 1907 
// 1908 static void ZDO_RemoveMatchMemory( void )
// 1909 {
// 1910   if ( matchED )
// 1911   {
// 1912     if ( matchED->ed2Matched )
// 1913       osal_mem_free( matchED->ed2Matched );
// 1914     if ( matchED->ed1Matched )
// 1915       osal_mem_free( matchED->ed1Matched );
// 1916 
// 1917     if ( matchED->ed1.inClusters )
// 1918       osal_mem_free( matchED->ed1.inClusters );
// 1919 
// 1920     if ( matchED->ed1.outClusters )
// 1921       osal_mem_free( matchED->ed1.outClusters );
// 1922 
// 1923     if ( matchED->ed2.inClusters )
// 1924       osal_mem_free( matchED->ed2.inClusters );
// 1925 
// 1926     if ( matchED->ed2.outClusters )
// 1927       osal_mem_free( matchED->ed2.outClusters );
// 1928 
// 1929     osal_mem_free( matchED );
// 1930 
// 1931     matchED = (ZDMatchEndDeviceBind_t *)NULL;
// 1932   }
// 1933 }
// 1934 
// 1935 static uint8 ZDO_CopyMatchInfo( ZDEndDeviceBind_t *destReq, ZDEndDeviceBind_t *srcReq )
// 1936 {
// 1937   uint8 allOK = TRUE;
// 1938 
// 1939   // Copy bind information into the match info structure
// 1940   osal_memcpy( (uint8 *)destReq, srcReq, sizeof ( ZDEndDeviceBind_t ) );
// 1941 
// 1942   // Copy input cluster IDs
// 1943   if ( srcReq->numInClusters )
// 1944   {
// 1945     destReq->inClusters = osal_mem_alloc( (short)(srcReq->numInClusters * sizeof ( uint16 )) );
// 1946     if ( destReq->inClusters )
// 1947     {
// 1948       // Copy the clusters
// 1949       osal_memcpy( (uint8*)(destReq->inClusters), (uint8 *)(srcReq->inClusters),
// 1950                       (srcReq->numInClusters * sizeof ( uint16 )) );
// 1951     }
// 1952     else
// 1953       allOK = FALSE;
// 1954   }
// 1955 
// 1956   // Copy output cluster IDs
// 1957   if ( srcReq->numOutClusters )
// 1958   {
// 1959     destReq->outClusters = osal_mem_alloc( (short)(srcReq->numOutClusters * sizeof ( uint16 )) );
// 1960     if ( destReq->outClusters )
// 1961     {
// 1962       // Copy the clusters
// 1963       osal_memcpy( (uint8 *)(destReq->outClusters), (uint8 *)(srcReq->outClusters),
// 1964                       (srcReq->numOutClusters * sizeof ( uint16 )) );
// 1965     }
// 1966     else
// 1967       allOK = FALSE;
// 1968   }
// 1969 
// 1970   if ( !allOK )
// 1971   {
// 1972     if ( destReq->inClusters )
// 1973       osal_mem_free( destReq->inClusters );
// 1974     if ( destReq->outClusters )
// 1975       osal_mem_free( destReq->outClusters );
// 1976   }
// 1977 
// 1978   return ( allOK );
// 1979 }
// 1980 
// 1981 uint8 ZDMatchSendState( uint8 reason, uint8 status, uint8 TransSeq )
// 1982 {
// 1983   uint8 *dstIEEEAddr;
// 1984   uint8 dstEP;
// 1985   zAddrType_t dstAddr;
// 1986   zAddrType_t destinationAddr;
// 1987   uint16 msgType;
// 1988   uint16 clusterID;
// 1989   ZDEndDeviceBind_t *ed = NULL;
// 1990   uint8 rspStatus = ZDP_SUCCESS;
// 1991 
// 1992   if ( matchED == NULL )
// 1993     return ( FALSE );
// 1994 
// 1995   // Check sequence number
// 1996   if ( reason == ZDMATCH_REASON_BIND_RSP || reason == ZDMATCH_REASON_UNBIND_RSP )
// 1997   {
// 1998     if ( TransSeq != matchED->transSeq )
// 1999       return( FALSE ); // ignore the message
// 2000   }
// 2001 
// 2002   // turn off timer
// 2003   APS_SetEndDeviceBindTimeout( 0, ZDO_EndDeviceBindMatchTimeoutCB );
// 2004 
// 2005   if ( reason == ZDMATCH_REASON_TIMEOUT )
// 2006   {
// 2007     rspStatus = ZDP_TIMEOUT;    // The process will stop
// 2008   }
// 2009 
// 2010   if ( reason == ZDMATCH_REASON_START || reason == ZDMATCH_REASON_BIND_RSP )
// 2011   {
// 2012     matchED->sending = ZDMATCH_SENDING_UNBIND;
// 2013 
// 2014     if ( reason == ZDMATCH_REASON_BIND_RSP && status != ZDP_SUCCESS )
// 2015     {
// 2016       rspStatus = status;
// 2017     }
// 2018   }
// 2019   else if ( reason == ZDMATCH_REASON_UNBIND_RSP )
// 2020   {
// 2021     if ( status == ZDP_SUCCESS )
// 2022     {
// 2023       matchED->sending = ZDMATCH_SENDING_UNBIND;
// 2024     }
// 2025     else
// 2026     {
// 2027       matchED->sending = ZDMATCH_SENDING_BIND;
// 2028     }
// 2029   }
// 2030 
// 2031   if ( reason != ZDMATCH_REASON_START && matchED->sending == ZDMATCH_SENDING_UNBIND )
// 2032   {
// 2033     // Move to the next cluster ID
// 2034     if ( matchED->ed1numMatched )
// 2035       matchED->ed1numMatched--;
// 2036     else if ( matchED->ed2numMatched )
// 2037       matchED->ed2numMatched--;
// 2038   }
// 2039 
// 2040   // What message do we send now
// 2041   if ( matchED->ed1numMatched )
// 2042   {
// 2043     ed = &(matchED->ed1);
// 2044     clusterID = matchED->ed1Matched[matchED->ed1numMatched-1];
// 2045     dstIEEEAddr = matchED->ed2.ieeeAddr;
// 2046     dstEP = matchED->ed2.endpoint;
// 2047   }
// 2048   else if ( matchED->ed2numMatched )
// 2049   {
// 2050     ed = &(matchED->ed2);
// 2051     clusterID = matchED->ed2Matched[matchED->ed2numMatched-1];
// 2052     dstIEEEAddr = matchED->ed1.ieeeAddr;
// 2053     dstEP = matchED->ed1.endpoint;
// 2054   }
// 2055 
// 2056   dstAddr.addrMode = Addr16Bit;
// 2057 
// 2058   // Send the next message
// 2059   if ( rspStatus == ZDP_SUCCESS && ed )
// 2060   {
// 2061     // Send unbind/bind message to source
// 2062     if ( matchED->sending == ZDMATCH_SENDING_UNBIND )
// 2063       msgType = Unbind_req;
// 2064     else
// 2065       msgType = Bind_req;
// 2066 
// 2067     dstAddr.addr.shortAddr = ed->srcAddr;
// 2068 
// 2069     // Save off the transaction sequence number
// 2070     matchED->transSeq = ZDP_TransID;
// 2071 
// 2072     destinationAddr.addrMode = Addr64Bit;
// 2073     osal_cpyExtAddr( destinationAddr.addr.extAddr, dstIEEEAddr );
// 2074 
// 2075     ZDP_BindUnbindReq( msgType, &dstAddr, ed->ieeeAddr, ed->endpoint, clusterID,
// 2076         &destinationAddr, dstEP, ed->SecurityUse );
// 2077 
// 2078     // Set timeout for response
// 2079     APS_SetEndDeviceBindTimeout( AIB_MaxBindingTime, ZDO_EndDeviceBindMatchTimeoutCB );
// 2080   }
// 2081   else
// 2082   {
// 2083     // Send the response messages to requesting devices
// 2084     // send response to first requester
// 2085     dstAddr.addr.shortAddr = matchED->ed1.srcAddr;
// 2086     ZDP_EndDeviceBindRsp( matchED->ed1.TransSeq, &dstAddr, rspStatus, matchED->ed1.SecurityUse );
// 2087 
// 2088     // send response to second requester
// 2089     if ( matchED->state == ZDMATCH_SENDING_BINDS )
// 2090     {
// 2091       dstAddr.addr.shortAddr = matchED->ed2.srcAddr;
// 2092       ZDP_EndDeviceBindRsp( matchED->ed2.TransSeq, &dstAddr, rspStatus, matchED->ed2.SecurityUse );
// 2093     }
// 2094 
// 2095     // Process ended - release memory used
// 2096     ZDO_RemoveMatchMemory();
// 2097   }
// 2098 
// 2099   return ( TRUE );
// 2100 }
// 2101 
// 2102 static void ZDO_EndDeviceBindMatchTimeoutCB( void )
// 2103 {
// 2104   ZDMatchSendState( ZDMATCH_REASON_TIMEOUT, ZDP_TIMEOUT, 0 );
// 2105 }
// 2106 
// 2107 #endif // ZDO_COORDINATOR
// 2108 
// 2109 /*********************************************************************
// 2110  * ZDO MESSAGE PARSING API FUNCTIONS
// 2111  */
// 2112 
// 2113 /*********************************************************************
// 2114  * @fn          ZDO_ParseEndDeviceBindReq
// 2115  *
// 2116  * @brief       This function parses the End_Device_Bind_req message.
// 2117  *
// 2118  *     NOTE:  The clusters lists in bindReq are allocated in this
// 2119  *            function and must be freed by that calling function.
// 2120  *
// 2121  * @param       inMsg  - incoming message (request)
// 2122  * @param       bindReq - pointer to place to parse message to
// 2123  *
// 2124  * @return      none
// 2125  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2126 void ZDO_ParseEndDeviceBindReq( zdoIncomingMsg_t *inMsg, ZDEndDeviceBind_t *bindReq )
ZDO_ParseEndDeviceBindReq:
        CFI Block cfiBlock17 Using cfiCommon0
        CFI Function ZDO_ParseEndDeviceBindReq
// 2127 {
        FUNCALL ZDO_ParseEndDeviceBindReq, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseEndDeviceBindReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseEndDeviceBindReq, ZDO_ConvertOTAClusters
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseEndDeviceBindReq, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseEndDeviceBindReq, ZDO_ConvertOTAClusters
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
// 2128   uint8 *msg;
// 2129 
// 2130   // Parse the message
// 2131   bindReq->TransSeq = inMsg->TransSeq;
        MOV     A,?V0 + 2
        ADD     A,#0xf
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    @DPTR,A
// 2132   bindReq->srcAddr = inMsg->srcAddr.addr.shortAddr;
        MOV     DPL,?V0 + 2
        MOV     DPH,?V0 + 3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2133   bindReq->SecurityUse = inMsg->SecurityUse;
        MOV     A,?V0 + 2
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOVX    @DPTR,A
// 2134   msg = inMsg->asdu;
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2135 
// 2136   bindReq->localCoordinator = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2137   msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2138 
// 2139   osal_cpyExtAddr( &(bindReq->ieeeAddr), msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0 + 0
        ADD     A,#0x6
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_cpyExtAddr?relay
// 2140   msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2141 
// 2142   bindReq->endpoint = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2143   bindReq->profileID = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     A,?V0 + 0
        ADD     A,#0xf
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2144   msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2145 
// 2146   bindReq->numInClusters = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2147   bindReq->inClusters = NULL;
        MOV     A,?V0 + 0
        ADD     A,#0x12
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 2148   if ( bindReq->numInClusters )
        MOV     A,?V0 + 0
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        JZ      ??ZDO_ParseEndDeviceBindReq_0
// 2149   {
// 2150     bindReq->inClusters = (uint16*)osal_mem_alloc( (bindReq->numInClusters * sizeof( uint16 )) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV     A,?V0 + 0
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R2
        MOV     B,#0x2
        MUL     AB
        XCH     A,R2
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R3
        MUL     AB
        ADD     A,R4
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     A,?V0 + 0
        ADD     A,#0x12
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2151     msg = ZDO_ConvertOTAClusters( bindReq->numInClusters, msg, bindReq->inClusters );
        ; Setup parameters for call to function ZDO_ConvertOTAClusters
        MOV     A,?V0 + 0
        ADD     A,#0x12
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        MOV     A,?V0 + 0
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_ConvertOTAClusters?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     R6,?V0 + 4
        MOV     R7,?V0 + 5
// 2152   }
// 2153 
// 2154   bindReq->numOutClusters = *msg++;
??ZDO_ParseEndDeviceBindReq_0:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2155   bindReq->outClusters = NULL;
        MOV     A,?V0 + 0
        ADD     A,#0x15
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,#0x0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,#0x0
        MOVX    @DPTR,A
// 2156   if ( bindReq->numOutClusters )
        MOV     A,?V0 + 0
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        JZ      ??ZDO_ParseEndDeviceBindReq_1
// 2157   {
// 2158     bindReq->outClusters = (uint16*)osal_mem_alloc( (bindReq->numOutClusters * sizeof( uint16 )) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV     A,?V0 + 0
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     A,R2
        MOV     B,#0x2
        MUL     AB
        XCH     A,R2
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R3
        MUL     AB
        ADD     A,R4
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     A,?V0 + 0
        ADD     A,#0x15
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2159     msg = ZDO_ConvertOTAClusters( bindReq->numOutClusters, msg, bindReq->outClusters );
        ; Setup parameters for call to function ZDO_ConvertOTAClusters
        MOV     A,?V0 + 0
        ADD     A,#0x15
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        MOV     A,?V0 + 0
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R1,A
        LCALL   ??ZDO_ConvertOTAClusters?relay
// 2160   }
// 2161 }
??ZDO_ParseEndDeviceBindReq_1:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock17
// 2162 
// 2163 /*********************************************************************
// 2164  * @fn          ZDO_ParseBindUnbindReq
// 2165  *
// 2166  * @brief       This function parses the Bind_req or Unbind_req message.
// 2167  *
// 2168  * @param       inMsg  - incoming message (request)
// 2169  * @param       pReq - place to put parsed information
// 2170  *
// 2171  * @return      none
// 2172  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2173 void ZDO_ParseBindUnbindReq( zdoIncomingMsg_t *inMsg, ZDO_BindUnbindReq_t *pReq )
ZDO_ParseBindUnbindReq:
        CFI Block cfiBlock18 Using cfiCommon0
        CFI Function ZDO_ParseBindUnbindReq
// 2174 {
        FUNCALL ZDO_ParseBindUnbindReq, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseBindUnbindReq, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
// 2175   uint8 *msg;
// 2176 
// 2177   msg = inMsg->asdu;
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2178   osal_cpyExtAddr( pReq->srcAddress, msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??osal_cpyExtAddr?relay
// 2179   msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2180   pReq->srcEndpoint = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2181   pReq->clusterID = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2182   msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2183   pReq->dstAddress.addrMode = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2184   if ( pReq->dstAddress.addrMode == Addr64Bit )
        MOV     A,?V0 + 0
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x3
        JNZ     ??ZDO_ParseBindUnbindReq_0
// 2185   {
// 2186     osal_cpyExtAddr( pReq->dstAddress.addr.extAddr, msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0 + 0
        ADD     A,#0xb
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_cpyExtAddr?relay
// 2187     msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2188     pReq->dstEndpoint = *msg;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        SJMP    ??ZDO_ParseBindUnbindReq_1
// 2189   }
// 2190   else
// 2191   {
// 2192     // copy group address
// 2193     pReq->dstAddress.addr.shortAddr = BUILD_UINT16( msg[0], msg[1] );
??ZDO_ParseBindUnbindReq_0:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     A,?V0 + 0
        ADD     A,#0xb
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2194   }
// 2195 }
??ZDO_ParseBindUnbindReq_1:
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock18
// 2196 
// 2197 /*********************************************************************
// 2198  * @fn      ZDO_ParseAddrRsp
// 2199  *
// 2200  * @brief   Turns the inMsg (incoming message) into the out parsed
// 2201  *          structure.
// 2202  *
// 2203  * @param   inMsg - incoming message
// 2204  *
// 2205  * @return  pointer to parsed structures.  This structure was
// 2206  *          allocated using osal_mem_alloc, so it must be freed
// 2207  *          by the calling function [osal_mem_free()].
// 2208  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2209 ZDO_NwkIEEEAddrResp_t *ZDO_ParseAddrRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseAddrRsp:
        CFI Block cfiBlock19 Using cfiCommon0
        CFI Function ZDO_ParseAddrRsp
// 2210 {
        FUNCALL ZDO_ParseAddrRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseAddrRsp, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     ?V0 + 6,R2
        MOV     ?V0 + 7,R3
// 2211   ZDO_NwkIEEEAddrResp_t *rsp;
// 2212   uint8 *msg;
// 2213   byte cnt = 0;
// 2214 
// 2215   // Calculate the number of items in the list
// 2216   if ( inMsg->asduLen > (1 + Z_EXTADDR_LEN + 2) )
        MOV     A,?V0 + 6
        ADD     A,#0x10
        MOV     DPL,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        CLR     C
        SUBB    A,#0xc
        JC      ??ZDO_ParseAddrRsp_0
// 2217     cnt = inMsg->asdu[1 + Z_EXTADDR_LEN + 2];
        MOV     A,?V0 + 6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        ADD     A,#0xb
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        SJMP    ??ZDO_ParseAddrRsp_1
// 2218   else
// 2219     cnt = 0;
??ZDO_ParseAddrRsp_0:
        MOV     ?V0 + 0,#0x0
// 2220 
// 2221   // Make buffer
// 2222   rsp = (ZDO_NwkIEEEAddrResp_t *)osal_mem_alloc( sizeof(ZDO_NwkIEEEAddrResp_t) + (cnt * sizeof ( uint16 )) );
??ZDO_ParseAddrRsp_1:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R0,?V0 + 0
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#0xd
        ADD     A,R0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,R1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 4,R2
        MOV     ?V0 + 5,R3
        MOV     ?V0 + 2,?V0 + 4
        MOV     ?V0 + 3,?V0 + 5
// 2223 
// 2224   if ( rsp )
        MOV     A,?V0 + 2
        XRL     A,#0x0
        JNZ     ??ZDO_ParseAddrRsp_2
        MOV     A,?V0 + 3
        XRL     A,#0x0
??ZDO_ParseAddrRsp_2:
        JNZ     $+5
        LJMP    ??ZDO_ParseAddrRsp_3 & 0xFFFF
// 2225   {
// 2226     msg = inMsg->asdu;
        MOV     A,?V0 + 6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2227 
// 2228     rsp->status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 2
        MOV     DPH,?V0 + 3
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2229     if ( rsp->status == ZDO_SUCCESS )
        MOV     DPL,?V0 + 2
        MOV     DPH,?V0 + 3
        MOVX    A,@DPTR
        JZ      $+5
        LJMP    ??ZDO_ParseAddrRsp_3 & 0xFFFF
// 2230     {
// 2231       osal_cpyExtAddr( rsp->extAddr, msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0 + 2
        ADD     A,#0x3
        MOV     R2,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_cpyExtAddr?relay
// 2232       msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2233       rsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 2
        MOV     DPH,?V0 + 3
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2234 
// 2235       msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2236       rsp->numAssocDevs = 0;
        MOV     A,#0x0
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 2
        ADD     A,#0xb
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 2237 
// 2238       // StartIndex field is only present if NumAssocDev field is non-zero.
// 2239       if ( cnt > 0 )
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,#0x1
        JNC     $+5
        LJMP    ??ZDO_ParseAddrRsp_3 & 0xFFFF
// 2240       {
// 2241         uint16 *pList = &(rsp->devList[0]);
        MOV     A,?V0 + 2
        ADD     A,#0xd
        MOV     R2,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     R3,A
        MOV     A,R2
        MOV     R0,A
        MOV     A,R3
        MOV     R1,A
// 2242         byte n = cnt;
        MOV     R4,?V0 + 0
// 2243 
// 2244         rsp->numAssocDevs = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 2
        ADD     A,#0xb
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2245         rsp->startIndex = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 2
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2246 
// 2247         while ( n != 0 )
??ZDO_ParseAddrRsp_4:
        MOV     A,R4
        JZ      ??ZDO_ParseAddrRsp_3
// 2248         {
// 2249           *pList++ = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        MOV     ?V0 + 5,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        CLR     A
        XCH     A,R2
        MOV     R3,A
        MOV     A,R2
        ADD     A,?V0 + 4
        MOV     R2,A
        MOV     A,R3
        ADDC    A,?V0 + 5
        MOV     R3,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
        MOV     A,R0
        ADD     A,#0x2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
// 2250           msg += sizeof( uint16 );
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2251           n--;
        DEC     R4
        SJMP    ??ZDO_ParseAddrRsp_4
// 2252         }
// 2253       }
// 2254     }
// 2255   }
// 2256   return ( rsp );
??ZDO_ParseAddrRsp_3:
        MOV     R2,?V0 + 2
        MOV     R3,?V0 + 3
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock19
// 2257 }
// 2258 
// 2259 /*********************************************************************
// 2260  * @fn          ZDO_ParseNodeDescRsp
// 2261  *
// 2262  * @brief       This function parses the Node_Desc_rsp message.
// 2263  *
// 2264  * @param       inMsg - incoming message
// 2265  * @param       pNDRsp - place to parse the message into
// 2266  *
// 2267  * @return      none
// 2268  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2269 void ZDO_ParseNodeDescRsp( zdoIncomingMsg_t *inMsg, ZDO_NodeDescRsp_t *pNDRsp )
ZDO_ParseNodeDescRsp:
        CFI Block cfiBlock20 Using cfiCommon0
        CFI Function ZDO_ParseNodeDescRsp
// 2270 {
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 2271   uint8 *msg;
// 2272 
// 2273   msg = inMsg->asdu;
        MOV     A,R2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R6,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R7,A
        MOV     A,R6
        MOV     R0,A
        MOV     A,R7
        MOV     R1,A
// 2274 
// 2275   pNDRsp->status = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2276   pNDRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        CLR     A
        XCH     A,R6
        MOV     R7,A
        MOV     A,R6
        ADD     A,?V0 + 0
        MOV     R6,A
        MOV     A,R7
        ADDC    A,?V0 + 1
        MOV     R7,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        MOV     A,R6
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R7
        MOVX    @DPTR,A
// 2277 
// 2278   if ( pNDRsp->status == ZDP_SUCCESS )
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    A,@DPTR
        JZ      $+5
        LJMP    ??ZDO_ParseNodeDescRsp_0 & 0xFFFF
// 2279   {
// 2280     msg += 2;
        MOV     A,R0
        ADD     A,#0x2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,#0x0
        MOV     R1,A
// 2281     pNDRsp->nodeDesc.LogicalType = *msg & 0x07;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        ANL     A,#0x7
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf8
        MOV     R6,A
        POP     A
        CFI CFA_SP SP+0
        ORL     A,R6
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
// 2282 
// 2283     pNDRsp->nodeDesc.ComplexDescAvail = ( *msg & 0x08 ) >> 3;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     C,0xE0 /* A   */.3
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOVX    A,@DPTR
        MOV     0xE0 /* A   */.3,C
        MOVX    @DPTR,A
// 2284     pNDRsp->nodeDesc.UserDescAvail = ( *msg & 0x10 ) >> 4;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        PUSH    DPL
        CFI CFA_SP SP+-1
        PUSH    DPH
        CFI CFA_SP SP+-2
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     C,0xE0 /* A   */.4
        POP     DPH
        CFI CFA_SP SP+-1
        POP     DPL
        CFI CFA_SP SP+0
        MOVX    A,@DPTR
        MOV     0xE0 /* A   */.4,C
        MOVX    @DPTR,A
// 2285 
// 2286     msg++;  // Reserved bits.
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2287     pNDRsp->nodeDesc.FrequencyBand = (*msg >> 3) & 0x1f;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        ANL     A,#0xf8
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0x7
        MOV     R6,A
        POP     A
        CFI CFA_SP SP+0
        ORL     A,R6
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
// 2288     pNDRsp->nodeDesc.APSFlags = *msg++ & 0x07;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        ANL     A,#0x7
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf8
        MOV     R6,A
        POP     A
        CFI CFA_SP SP+0
        ORL     A,R6
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
// 2289     pNDRsp->nodeDesc.CapabilityFlags = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2290     pNDRsp->nodeDesc.ManufacturerCode[0] = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2291     pNDRsp->nodeDesc.ManufacturerCode[1] = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2292     pNDRsp->nodeDesc.MaxBufferSize = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2293     pNDRsp->nodeDesc.MaxTransferSize[0] = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2294     pNDRsp->nodeDesc.MaxTransferSize[1] = *msg++;
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
// 2295     pNDRsp->nodeDesc.ServerMask = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        CLR     A
        XCH     A,R6
        MOV     R7,A
        MOV     A,R6
        ADD     A,?V0 + 0
        MOV     R6,A
        MOV     A,R7
        ADDC    A,?V0 + 1
        MOV     R7,A
        MOV     A,R4
        ADD     A,#0xb
        MOV     DPL,A
        MOV     A,R5
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R6
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R7
        MOVX    @DPTR,A
// 2296   }
// 2297 }
??ZDO_ParseNodeDescRsp_0:
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock20
// 2298 
// 2299 /*********************************************************************
// 2300  * @fn          ZDO_ParesPowerDescRsp
// 2301  *
// 2302  * @brief       This function parses the Power_Desc_rsp message.
// 2303  *
// 2304  * @param       inMsg  - incoming message
// 2305  * @param       pNPRsp - place to parse the message into
// 2306  *
// 2307  * @return      none
// 2308  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2309 void ZDO_ParsePowerDescRsp( zdoIncomingMsg_t *inMsg, ZDO_PowerRsp_t *pNPRsp )
ZDO_ParsePowerDescRsp:
        CFI Block cfiBlock21 Using cfiCommon0
        CFI Function ZDO_ParsePowerDescRsp
// 2310 {
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
// 2311   uint8 *msg;
// 2312 
// 2313   msg = inMsg->asdu;
        MOV     A,R6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R2,A
        MOV     A,R1
        MOV     R3,A
// 2314   pNPRsp->status = *msg++;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    @DPTR,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
// 2315   pNPRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,?V0 + 0
        MOV     R0,A
        MOV     A,R1
        ADDC    A,?V0 + 1
        MOV     R1,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2316 
// 2317   if ( pNPRsp->status == ZDP_SUCCESS )
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    A,@DPTR
        JZ      $+5
        LJMP    ??ZDO_ParsePowerDescRsp_0 & 0xFFFF
// 2318   {
// 2319     msg += 2;
        MOV     A,R2
        ADD     A,#0x2
        MOV     R2,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
// 2320     pNPRsp->pwrDesc.AvailablePowerSources = *msg >> 4;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf
        MOV     ?V0 + 2,A
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xff
        MOV     ?V0 + 3,A
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     A,#0x4
        MOV     R0,#?V0 + 0
        LCALL   ?S_SHL
        MOV     A,?V0 + 0
        ORL     A,?V0 + 2
        MOV     R0,A
        MOV     A,?V0 + 1
        ORL     A,?V0 + 3
        MOV     R1,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2321     pNPRsp->pwrDesc.PowerMode = *msg++ & 0x0F;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf0
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xff
        MOV     R1,A
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     A,#0xf
        ANL     A,?V0 + 0
        MOV     ?V0 + 0,A
        MOV     A,#0x0
        ANL     A,?V0 + 1
        MOV     ?V0 + 1,A
        MOV     A,?V0 + 0
        ORL     A,R0
        MOV     R0,A
        MOV     A,?V0 + 1
        ORL     A,R1
        MOV     R1,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        MOV     R2,DPL
        MOV     R3,DPH
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2322     pNPRsp->pwrDesc.CurrentPowerSourceLevel = *msg >> 4;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xff
        MOV     ?V0 + 2,A
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf
        MOV     ?V0 + 3,A
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        MOV     ?V0 + 0,A
        MOV     ?V0 + 1,#0x0
        MOV     A,#0xc
        MOV     R0,#?V0 + 0
        LCALL   ?S_SHL
        MOV     A,?V0 + 0
        ORL     A,?V0 + 2
        MOV     R0,A
        MOV     A,?V0 + 1
        ORL     A,?V0 + 3
        MOV     R1,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2323     pNPRsp->pwrDesc.CurrentPowerSource = *msg++ & 0x0F;
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xff
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf0
        MOV     R1,A
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        CLR     A
        XCH     A,?V0 + 0
        MOV     ?V0 + 1,A
        MOV     A,#0x0
        ANL     A,?V0 + 0
        MOV     ?V0 + 0,A
        MOV     A,#0xf
        ANL     A,?V0 + 1
        MOV     ?V0 + 1,A
        MOV     A,?V0 + 0
        ORL     A,R0
        MOV     R0,A
        MOV     A,?V0 + 1
        ORL     A,R1
        MOV     R1,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2324   }
// 2325 }
??ZDO_ParsePowerDescRsp_0:
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock21
// 2326 
// 2327 /*********************************************************************
// 2328  * @fn          ZDO_ParseSimpleDescRsp
// 2329  *
// 2330  * @brief       This function parse the Simple_Desc_rsp message.
// 2331  *
// 2332  *   NOTE: The pAppInClusterList and pAppOutClusterList fields
// 2333  *         in the SimpleDescriptionFormat_t structure are allocated
// 2334  *         and the calling function needs to free [osal_msg_free()]
// 2335  *         these buffers.
// 2336  *
// 2337  * @param       inMsg  - incoming message
// 2338  * @param       pSimpleDescRsp - place to parse the message into
// 2339  *
// 2340  * @return      none
// 2341  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2342 void ZDO_ParseSimpleDescRsp( zdoIncomingMsg_t *inMsg, ZDO_SimpleDescRsp_t *pSimpleDescRsp )
ZDO_ParseSimpleDescRsp:
        CFI Block cfiBlock22 Using cfiCommon0
        CFI Function ZDO_ParseSimpleDescRsp
// 2343 {
        FUNCALL ZDO_ParseSimpleDescRsp, ZDO_ParseSimpleDescBuf
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
// 2344   uint8 *msg;
// 2345 
// 2346   msg = inMsg->asdu;
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2347   pSimpleDescRsp->status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2348   pSimpleDescRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2349   msg += sizeof ( uint16 );
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2350   msg++; // Skip past the length field.
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2351 
// 2352   if ( pSimpleDescRsp->status == ZDP_SUCCESS )
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOVX    A,@DPTR
        JNZ     ??ZDO_ParseSimpleDescRsp_0
// 2353   {
// 2354     ZDO_ParseSimpleDescBuf( msg, &(pSimpleDescRsp->simpleDesc) );
        ; Setup parameters for call to function ZDO_ParseSimpleDescBuf
        MOV     A,?V0 + 0
        ADD     A,#0x3
        MOV     R4,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R5,A
        MOV     A,R6
        MOV     R2,A
        MOV     A,R7
        MOV     R3,A
        LCALL   ??ZDO_ParseSimpleDescBuf?relay
// 2355   }
// 2356 }
??ZDO_ParseSimpleDescRsp_0:
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock22
// 2357 
// 2358 /*********************************************************************
// 2359  * @fn          ZDO_ParseEPListRsp
// 2360  *
// 2361  * @brief       This parse the Active_EP_rsp or Match_Desc_rsp message.
// 2362  *
// 2363  * @param       inMsg  - incoming message
// 2364  *
// 2365  * @return      none
// 2366  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2367 ZDO_ActiveEndpointRsp_t *ZDO_ParseEPListRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseEPListRsp:
        CFI Block cfiBlock23 Using cfiCommon0
        CFI Function ZDO_ParseEPListRsp
// 2368 {
        FUNCALL ZDO_ParseEPListRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 17, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 17, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseEPListRsp, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 20, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 20, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xf
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 17)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2369   ZDO_ActiveEndpointRsp_t *pRsp;
// 2370   uint8 *msg;
// 2371   uint8 Status;
// 2372   uint8 cnt;
// 2373 
// 2374   msg = inMsg->asdu;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x11
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2375   Status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 6,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2376   cnt = msg[2];
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
// 2377 
// 2378   pRsp = (ZDO_ActiveEndpointRsp_t *)osal_mem_alloc( sizeof(  ZDO_ActiveEndpointRsp_t ) + cnt );
        ; Setup parameters for call to function osal_mem_alloc
        MOV     ?V0 + 0,?V0 + 3
        MOV     ?V0 + 1,#0x0
        MOV     A,#0x4
        ADD     A,?V0 + 0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,?V0 + 1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
// 2379   if ( pRsp )
        MOV     A,?V0 + 4
        XRL     A,#0x0
        JNZ     ??ZDO_ParseEPListRsp_0
        MOV     A,?V0 + 5
        XRL     A,#0x0
??ZDO_ParseEPListRsp_0:
        JZ      ??ZDO_ParseEPListRsp_1
// 2380   {
// 2381     pRsp->status = Status;
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        MOV     A,?V0 + 6
        MOVX    @DPTR,A
// 2382     pRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2383     msg += sizeof( uint16 );
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2384     pRsp->cnt = cnt;
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
// 2385     msg++; // pass cnt
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2386     osal_memcpy( pRsp->epList, msg, cnt );
        ; Setup parameters for call to function osal_memcpy
        MOV     ?V0 + 0,R6
        MOV     ?V0 + 1,R7
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 20)
        MOV     A,?V0 + 3
        MOV     ?V0 + 0,A
        MOV     R4,?V0 + 0
        MOV     R5,#0x0
        MOV     A,?V0 + 4
        ADD     A,#0x4
        MOV     R2,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 17)
// 2387   }
// 2388 
// 2389   return ( pRsp );
??ZDO_ParseEPListRsp_1:
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 15)
        MOV     R7,#0x7
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock23
// 2390 }
// 2391 
// 2392 /*********************************************************************
// 2393  * @fn          ZDO_ParseServerDiscRsp
// 2394  *
// 2395  * @brief       Parse the Server_Discovery_rsp message.
// 2396  *
// 2397  * @param       inMsg - incoming message.
// 2398  * @param       pRsp - place to put the parsed information.
// 2399  *
// 2400  * @return      none
// 2401  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2402 void ZDO_ParseServerDiscRsp( zdoIncomingMsg_t *inMsg, ZDO_ServerDiscRsp_t *pRsp )
ZDO_ParseServerDiscRsp:
        CFI Block cfiBlock24 Using cfiCommon0
        CFI Function ZDO_ParseServerDiscRsp
// 2403 {
        MOV     A,#-0x9
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
// 2404   pRsp->status = inMsg->asdu[0];
        MOV     A,R2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        MOVX    A,@DPTR
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    @DPTR,A
// 2405   pRsp->serverMask = BUILD_UINT16( inMsg->asdu[1], inMsg->asdu[2] );
        MOV     A,R2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R6,A
        MOV     R7,#0x0
        MOV     A,R2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R6
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R7
        MOV     R1,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2406 }
        MOV     R7,#0x1
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock24
// 2407 
// 2408 /*********************************************************************
// 2409  * @fn          ZDO_ParseMgmtLqiRsp
// 2410  *
// 2411  * @brief       This function parses the incoming Management
// 2412  *              LQI response
// 2413  *
// 2414  * @param       inMsg - incoming message
// 2415  *
// 2416  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2417  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2418  *          by the calling function [osal_mem_free()].
// 2419  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2420 ZDO_MgmtLqiRsp_t *ZDO_ParseMgmtLqiRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseMgmtLqiRsp:
        CFI Block cfiBlock25 Using cfiCommon0
        CFI Function ZDO_ParseMgmtLqiRsp
// 2421 {
        FUNCALL ZDO_ParseMgmtLqiRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseMgmtLqiRsp, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 3
        MOV     A,#-0x3
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2422   ZDO_MgmtLqiRsp_t *pRsp;
// 2423   uint8 status;
// 2424   uint8 startIndex = 0;
        MOV     ?V0 + 4,#0x0
// 2425   uint8 neighborLqiCount = 0;
        MOV     ?V0 + 0,#0x0
// 2426   uint8 neighborLqiEntries = 0;
        MOV     ?V0 + 1,#0x0
// 2427   uint8 *msg;
// 2428 
// 2429   msg = inMsg->asdu;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x11
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2430 
// 2431   status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2432   if ( status == ZSuccess )
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     ??ZDO_ParseMgmtLqiRsp_0
// 2433   {
// 2434     neighborLqiEntries = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 1,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2435     startIndex = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2436     neighborLqiCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 0,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2437   }
// 2438 
// 2439   // Allocate a buffer big enough to handle the list.
// 2440   pRsp = (ZDO_MgmtLqiRsp_t *)osal_mem_alloc(
// 2441             sizeof( ZDO_MgmtLqiRsp_t ) + (neighborLqiCount * sizeof( neighborLqiItem_t )) );
??ZDO_ParseMgmtLqiRsp_0:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R0,?V0 + 0
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0xe
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0xe
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#0x4
        ADD     A,R0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,R1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     ?V0 + 6,?V0 + 2
        MOV     ?V0 + 7,?V0 + 3
// 2442   if ( pRsp )
        MOV     A,?V0 + 6
        XRL     A,#0x0
        JNZ     ??ZDO_ParseMgmtLqiRsp_1
        MOV     A,?V0 + 7
        XRL     A,#0x0
??ZDO_ParseMgmtLqiRsp_1:
        JNZ     $+5
        LJMP    ??ZDO_ParseMgmtLqiRsp_2 & 0xFFFF
// 2443   {
// 2444     uint8 x;
// 2445     neighborLqiItem_t *pList = pRsp->list;
        MOV     A,?V0 + 6
        ADD     A,#0x4
        MOV     R0,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     R1,A
        MOV     ?V0 + 2,R0
        MOV     ?V0 + 3,R1
// 2446     pRsp->status = status;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        MOVX    @DPTR,A
// 2447     pRsp->neighborLqiEntries = neighborLqiEntries;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        MOV     A,?V0 + 1
        MOVX    @DPTR,A
// 2448     pRsp->startIndex = startIndex;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
// 2449     pRsp->neighborLqiCount = neighborLqiCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 0
        MOVX    @DPTR,A
// 2450 
// 2451     for ( x = 0; x < neighborLqiCount; x++ )
        MOV     ?V0 + 5,#0x0
??ZDO_ParseMgmtLqiRsp_3:
        MOV     A,?V0 + 5
        CLR     C
        SUBB    A,?V0 + 0
        JC      $+5
        LJMP    ??ZDO_ParseMgmtLqiRsp_2 & 0xFFFF
// 2452     {
// 2453       osal_cpyExtAddr(pList->extPANId, msg);   //Copy extended PAN ID
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0 + 2
        ADD     A,#0x4
        MOV     R2,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_cpyExtAddr?relay
// 2454       msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2455 
// 2456       msg += Z_EXTADDR_LEN;  // Throwing away IEEE.
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2457       pList->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        CLR     A
        XCH     A,R2
        MOV     R3,A
        MOV     A,R2
        ADD     A,R0
        MOV     R0,A
        MOV     A,R3
        ADDC    A,R1
        MOV     R1,A
        MOV     DPL,?V0 + 2
        MOV     DPH,?V0 + 3
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2458       msg += 2 + 1 + 1 + 1;      // Skip DeviceType, RxOnIdle, Rlationship, PermitJoining and Depth
        MOV     A,R6
        ADD     A,#0x5
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2459       pList->rxLqi = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 2
        ADD     A,#0xd
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2460       pList->txQuality = 0;  // This is not specified OTA by ZigBee 1.1.
        MOV     A,#0x0
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 2
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 2461       pList++;
        MOV     A,?V0 + 2
        ADD     A,#0xe
        MOV     ?V0 + 2,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     ?V0 + 3,A
// 2462     }
        INC     ?V0 + 5
        LJMP    ??ZDO_ParseMgmtLqiRsp_3 & 0xFFFF
// 2463   }
// 2464 
// 2465   return ( pRsp );
??ZDO_ParseMgmtLqiRsp_2:
        MOV     R2,?V0 + 6
        MOV     R3,?V0 + 7
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock25
// 2466 }
// 2467 
// 2468 /*********************************************************************
// 2469  * @fn          ZDO_ParseMgmNwkDiscRsp
// 2470  *
// 2471  * @brief       This function parses the incoming Management
// 2472  *              Network Discover response.
// 2473  *
// 2474  * @param       inMsg - incoming message
// 2475  *
// 2476  * @return      pointer to parsed response.  This structure was
// 2477  *          allocated using osal_mem_alloc, so it must be freed
// 2478  *          by the calling function [osal_mem_free()].
// 2479  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2480 ZDO_MgmNwkDiscRsp_t *ZDO_ParseMgmNwkDiscRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseMgmNwkDiscRsp:
        CFI Block cfiBlock26 Using cfiCommon0
        CFI Function ZDO_ParseMgmNwkDiscRsp
// 2481 {
        FUNCALL ZDO_ParseMgmNwkDiscRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseMgmNwkDiscRsp, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 3
        MOV     A,#-0x3
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2482   ZDO_MgmNwkDiscRsp_t *pRsp;
// 2483   uint8 status;
// 2484   uint8 networkCount = 0;
        MOV     ?V0 + 4,#0x0
// 2485   uint8 startIndex = 0;
        MOV     ?V0 + 3,#0x0
// 2486   uint8 networkListCount = 0;
        MOV     ?V0 + 2,#0x0
// 2487   uint8 *msg;
// 2488 
// 2489   msg = inMsg->asdu;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x11
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2490   status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2491 
// 2492   if ( status == ZSuccess )
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     ??ZDO_ParseMgmNwkDiscRsp_0
// 2493   {
// 2494     networkCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2495     startIndex = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2496     networkListCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2497   }
// 2498 
// 2499   // Allocate a buffer big enough to handle the list.
// 2500   pRsp = (ZDO_MgmNwkDiscRsp_t *)osal_mem_alloc( sizeof( ZDO_MgmNwkDiscRsp_t )
// 2501                                   + (networkListCount * sizeof( mgmtNwkDiscItem_t )) );
??ZDO_ParseMgmNwkDiscRsp_0:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R0,?V0 + 2
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x10
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x10
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#0x4
        ADD     A,R0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,R1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 6,?V0 + 0
        MOV     ?V0 + 7,?V0 + 1
// 2502   if ( pRsp )
        MOV     A,?V0 + 6
        XRL     A,#0x0
        JNZ     ??ZDO_ParseMgmNwkDiscRsp_1
        MOV     A,?V0 + 7
        XRL     A,#0x0
??ZDO_ParseMgmNwkDiscRsp_1:
        JNZ     $+5
        LJMP    ??ZDO_ParseMgmNwkDiscRsp_2 & 0xFFFF
// 2503   {
// 2504     uint8 x;
// 2505     mgmtNwkDiscItem_t *pList;
// 2506 
// 2507     pRsp->status = status;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        MOVX    @DPTR,A
// 2508     pRsp->networkCount = networkCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
// 2509     pRsp->startIndex = startIndex;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
// 2510     pRsp->networkListCount = networkListCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
// 2511     pList = pRsp->list;
        MOV     A,?V0 + 6
        ADD     A,#0x4
        MOV     R0,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     R1,A
        MOV     ?V0 + 0,R0
        MOV     ?V0 + 1,R1
// 2512 
// 2513     for ( x = 0; x < networkListCount; x++ )
        MOV     ?V0 + 5,#0x0
??ZDO_ParseMgmNwkDiscRsp_3:
        MOV     A,?V0 + 5
        CLR     C
        SUBB    A,?V0 + 2
        JC      $+5
        LJMP    ??ZDO_ParseMgmNwkDiscRsp_2 & 0xFFFF
// 2514     {
// 2515       osal_cpyExtAddr(pList->extendedPANID, msg);   //Copy extended PAN ID
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??osal_cpyExtAddr?relay
// 2516       pList->PANId = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        CLR     A
        XCH     A,R2
        MOV     R3,A
        MOV     A,R2
        ADD     A,R0
        MOV     R0,A
        MOV     A,R3
        ADDC    A,R1
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2517       msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2518 
// 2519       pList->logicalChannel = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2520       pList->stackProfile = (*msg) & 0x0F;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        ANL     A,#0xf
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0xb
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 2521       pList->version = (*msg++ >> 4) & 0x0F;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0xc
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2522       pList->beaconOrder = (*msg) & 0x0F;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        ANL     A,#0xf
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0xd
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
// 2523       pList->superFrameOrder = (*msg++ >> 4) & 0x0F;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0xe
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2524       pList->permitJoining = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0xf
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2525       pList++;
        MOV     A,?V0 + 0
        ADD     A,#0x10
        MOV     ?V0 + 0,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
// 2526     }
        INC     ?V0 + 5
        LJMP    ??ZDO_ParseMgmNwkDiscRsp_3 & 0xFFFF
// 2527   }
// 2528 
// 2529   return ( pRsp );
??ZDO_ParseMgmNwkDiscRsp_2:
        MOV     R2,?V0 + 6
        MOV     R3,?V0 + 7
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock26
// 2530 }
// 2531 
// 2532 /*********************************************************************
// 2533  * @fn          ZDO_ParseMgmtRtgRsp
// 2534  *
// 2535  * @brief       This function parses the incoming Management
// 2536  *              Routing response.
// 2537  *
// 2538  * @param       inMsg - incoming message
// 2539  *
// 2540  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2541  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2542  *          by the calling function [osal_mem_free()].
// 2543  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2544 ZDO_MgmtRtgRsp_t *ZDO_ParseMgmtRtgRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseMgmtRtgRsp:
        CFI Block cfiBlock27 Using cfiCommon0
        CFI Function ZDO_ParseMgmtRtgRsp
// 2545 {
        FUNCALL ZDO_ParseMgmtRtgRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 18, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 18, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 2
        MOV     A,#-0x2
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 18)
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2546   ZDO_MgmtRtgRsp_t *pRsp;
// 2547   uint8 status;
// 2548   uint8 rtgCount = 0;
        MOV     ?V0 + 2,#0x0
// 2549   uint8 startIndex = 0;
        MOV     ?V0 + 3,#0x0
// 2550   uint8 rtgListCount = 0;
        MOV     ?V0 + 4,#0x0
// 2551   uint8 *msg;
// 2552 
// 2553   msg = inMsg->asdu;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        ADD     A,#0x11
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2554 
// 2555   status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 5,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2556   if ( status == ZSuccess )
        MOV     A,?V0 + 5
        JNZ     ??ZDO_ParseMgmtRtgRsp_0
// 2557   {
// 2558     rtgCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2559     startIndex = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2560     rtgListCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2561   }
// 2562 
// 2563   // Allocate a buffer big enough to handle the list
// 2564   pRsp = (ZDO_MgmtRtgRsp_t *)osal_mem_alloc(
// 2565           sizeof( ZDO_MgmtRtgRsp_t ) + (rtgListCount * sizeof( rtgItem_t )) );
??ZDO_ParseMgmtRtgRsp_0:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R0,?V0 + 4
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x6
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x6
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#0x4
        ADD     A,R0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,R1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 6,?V0 + 0
        MOV     ?V0 + 7,?V0 + 1
// 2566   if ( pRsp )
        MOV     A,?V0 + 6
        XRL     A,#0x0
        JNZ     ??ZDO_ParseMgmtRtgRsp_1
        MOV     A,?V0 + 7
        XRL     A,#0x0
??ZDO_ParseMgmtRtgRsp_1:
        JNZ     $+5
        LJMP    ??ZDO_ParseMgmtRtgRsp_2 & 0xFFFF
// 2567   {
// 2568     uint8 x;
// 2569     rtgItem_t *pList = pRsp->list;
        MOV     A,?V0 + 6
        ADD     A,#0x4
        MOV     R0,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     R1,A
        MOV     A,R0
        MOV     R2,A
        MOV     A,R1
        MOV     R3,A
// 2570     pRsp->status = status;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        MOV     A,?V0 + 5
        MOVX    @DPTR,A
// 2571     pRsp->rtgCount = rtgCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
// 2572     pRsp->startIndex = startIndex;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
// 2573     pRsp->rtgListCount = rtgListCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
// 2574 
// 2575     for ( x = 0; x < rtgListCount; x++ )
        MOV     ?V0 + 0,#0x0
??ZDO_ParseMgmtRtgRsp_3:
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,?V0 + 4
        JNC     ??ZDO_ParseMgmtRtgRsp_2
// 2576     {
// 2577       pList->dstAddress = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        CLR     A
        XCH     A,R4
        MOV     R5,A
        MOV     A,R4
        ADD     A,R0
        MOV     R0,A
        MOV     A,R5
        ADDC    A,R1
        MOV     R1,A
        MOV     DPL,R2
        MOV     DPH,R3
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2578       msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2579       pList->status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2580       pList->nextHopAddress = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R4,A
        CLR     A
        XCH     A,R4
        MOV     R5,A
        MOV     A,R4
        ADD     A,R0
        MOV     R0,A
        MOV     A,R5
        ADDC    A,R1
        MOV     R1,A
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2581       msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2582       pList++;
        MOV     A,R2
        ADD     A,#0x6
        MOV     R2,A
        MOV     A,R3
        ADDC    A,#0x0
        MOV     R3,A
// 2583     }
        INC     ?V0 + 0
        SJMP    ??ZDO_ParseMgmtRtgRsp_3
// 2584   }
// 2585 
// 2586   return ( pRsp );
??ZDO_ParseMgmtRtgRsp_2:
        MOV     R2,?V0 + 6
        MOV     R3,?V0 + 7
        MOV     A,#0x2
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock27
// 2587 }
// 2588 
// 2589 /*********************************************************************
// 2590  * @fn          ZDO_ParseMgmtBindRsp
// 2591  *
// 2592  * @brief       This function parses the incoming Management
// 2593  *              Binding response.
// 2594  *
// 2595  * @param       inMsg - pointer to message to parse
// 2596  *
// 2597  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2598  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2599  *          by the calling function [osal_mem_free()].
// 2600  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2601 ZDO_MgmtBindRsp_t *ZDO_ParseMgmtBindRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseMgmtBindRsp:
        CFI Block cfiBlock28 Using cfiCommon0
        CFI Function ZDO_ParseMgmtBindRsp
// 2602 {
        FUNCALL ZDO_ParseMgmtBindRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseMgmtBindRsp, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseMgmtBindRsp, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 3
        MOV     A,#-0x3
        LCALL   ?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2603   ZDO_MgmtBindRsp_t *pRsp;
// 2604   uint8 status;
// 2605   uint8 bindingCount = 0;
        MOV     ?V0 + 4,#0x0
// 2606   uint8 startIndex = 0;
        MOV     ?V0 + 3,#0x0
// 2607   uint8 bindingListCount = 0;
        MOV     ?V0 + 2,#0x0
// 2608   uint8 *msg;
// 2609 
// 2610   msg = inMsg->asdu;
        MOV     A,#0x1
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        ADD     A,#0x11
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,#0x0
        MOV     R1,A
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2611 
// 2612   status = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2613   if ( status == ZSuccess )
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        JNZ     ??ZDO_ParseMgmtBindRsp_0
// 2614   {
// 2615     bindingCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 4,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2616     startIndex = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2617     bindingListCount = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     ?V0 + 2,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2618   }
// 2619 
// 2620   // Allocate a buffer big enough to handle the list
// 2621   pRsp = (ZDO_MgmtBindRsp_t *)osal_mem_alloc(
// 2622           (sizeof ( ZDO_MgmtBindRsp_t ) + (bindingListCount * sizeof( apsBindingItem_t ))) );
??ZDO_ParseMgmtBindRsp_0:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R0,?V0 + 2
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x15
        MUL     AB
        XCH     A,R0
        MOV     R2,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R2
        MOV     R2,A
        MOV     B,#0x15
        MOV     A,R1
        MUL     AB
        ADD     A,R2
        MOV     R1,A
        MOV     A,#0x4
        ADD     A,R0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,R1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 6,?V0 + 0
        MOV     ?V0 + 7,?V0 + 1
// 2623   if ( pRsp )
        MOV     A,?V0 + 6
        XRL     A,#0x0
        JNZ     ??ZDO_ParseMgmtBindRsp_1
        MOV     A,?V0 + 7
        XRL     A,#0x0
??ZDO_ParseMgmtBindRsp_1:
        JNZ     $+5
        LJMP    ??ZDO_ParseMgmtBindRsp_2 & 0xFFFF
// 2624   {
// 2625     uint8 x;
// 2626     apsBindingItem_t *pList = pRsp->list;
        MOV     A,?V0 + 6
        ADD     A,#0x4
        MOV     R0,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     R1,A
        MOV     ?V0 + 0,R0
        MOV     ?V0 + 1,R1
// 2627     pRsp->status = status;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        MOVX    @DPTR,A
// 2628     pRsp->bindingCount = bindingCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        MOV     A,?V0 + 4
        MOVX    @DPTR,A
// 2629     pRsp->startIndex = startIndex;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
// 2630     pRsp->bindingListCount = bindingListCount;
        MOV     DPL,?V0 + 6
        MOV     DPH,?V0 + 7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 2
        MOVX    @DPTR,A
// 2631 
// 2632     for ( x = 0; x < bindingListCount; x++ )
        MOV     ?V0 + 5,#0x0
??ZDO_ParseMgmtBindRsp_3:
        MOV     A,?V0 + 5
        CLR     C
        SUBB    A,?V0 + 2
        JC      $+5
        LJMP    ??ZDO_ParseMgmtBindRsp_2 & 0xFFFF
// 2633     {
// 2634       osal_cpyExtAddr( pList->srcAddr, msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     R2,?V0 + 0
        MOV     R3,?V0 + 1
        LCALL   ??osal_cpyExtAddr?relay
// 2635       msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2636       pList->srcEP = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2637 
// 2638       // Get the Cluster ID
// 2639 
// 2640       pList->clusterID = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        CLR     A
        XCH     A,R2
        MOV     R3,A
        MOV     A,R2
        ADD     A,R0
        MOV     R0,A
        MOV     A,R3
        ADDC    A,R1
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2641       msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2642       pList->dstAddr.addrMode = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2643       if ( pList->dstAddr.addrMode == Addr64Bit )
        MOV     A,?V0 + 0
        ADD     A,#0x13
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,#0x3
        JNZ     ??ZDO_ParseMgmtBindRsp_4
// 2644       {
// 2645         osal_cpyExtAddr( pList->dstAddr.addr.extAddr, msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0 + 0
        ADD     A,#0xb
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_cpyExtAddr?relay
// 2646         msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2647         pList->dstEP = *msg++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     A,?V0 + 0
        ADD     A,#0x14
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        POP     A
        CFI CFA_SP SP+0
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
        SJMP    ??ZDO_ParseMgmtBindRsp_5
// 2648       }
// 2649       else
// 2650       {
// 2651         pList->dstAddr.addr.shortAddr = BUILD_UINT16( msg[0], msg[1] );
??ZDO_ParseMgmtBindRsp_4:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R0,A
        MOV     R1,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        CLR     A
        XCH     A,R2
        MOV     R3,A
        MOV     A,R2
        ADD     A,R0
        MOV     R0,A
        MOV     A,R3
        ADDC    A,R1
        MOV     R1,A
        MOV     A,?V0 + 0
        ADD     A,#0xb
        MOV     DPL,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     DPH,A
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2652         msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2653       }
// 2654 
// 2655       pList++;
??ZDO_ParseMgmtBindRsp_5:
        MOV     A,?V0 + 0
        ADD     A,#0x15
        MOV     ?V0 + 0,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
// 2656     }
        INC     ?V0 + 5
        LJMP    ??ZDO_ParseMgmtBindRsp_3 & 0xFFFF
// 2657   }
// 2658 
// 2659   return ( pRsp );
??ZDO_ParseMgmtBindRsp_2:
        MOV     R2,?V0 + 6
        MOV     R3,?V0 + 7
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock28
// 2660 }
// 2661 
// 2662 /*********************************************************************
// 2663  * @fn          ZDO_ParseUserDescRsp
// 2664  *
// 2665  * @brief       This function parses the incoming User
// 2666  *              Descriptor Response.
// 2667  *
// 2668  * @param       inMsg - incoming response message
// 2669  *
// 2670  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2671  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2672  *          by the calling function [osal_mem_free()].
// 2673  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2674 ZDO_UserDescRsp_t *ZDO_ParseUserDescRsp( zdoIncomingMsg_t *inMsg )
ZDO_ParseUserDescRsp:
        CFI Block cfiBlock29 Using cfiCommon0
        CFI Function ZDO_ParseUserDescRsp
// 2675 {
        FUNCALL ZDO_ParseUserDescRsp, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 16, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 16, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseUserDescRsp, osal_memcpy
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV     ?V0 + 6,R2
        MOV     ?V0 + 7,R3
// 2676   ZDO_UserDescRsp_t *pRsp;
// 2677   uint8 *msg;
// 2678   uint8 descLen = 0;
        MOV     ?V0 + 3,#0x0
// 2679 
// 2680   msg = inMsg->asdu;
        MOV     A,?V0 + 6
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 7
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2681 
// 2682   if ( msg[0] == ZSuccess )
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        JNZ     ??ZDO_ParseUserDescRsp_0
// 2683     descLen = msg[3];
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V0 + 3,A
// 2684 
// 2685   pRsp = (ZDO_UserDescRsp_t *)osal_mem_alloc( sizeof ( ZDO_UserDescRsp_t ) + descLen );
??ZDO_ParseUserDescRsp_0:
        ; Setup parameters for call to function osal_mem_alloc
        MOV     ?V0 + 0,?V0 + 3
        MOV     ?V0 + 1,#0x0
        MOV     A,#0x4
        ADD     A,?V0 + 0
        MOV     R2,A
        MOV     A,#0x0
        ADDC    A,?V0 + 1
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 0,R2
        MOV     ?V0 + 1,R3
        MOV     ?V0 + 4,?V0 + 0
        MOV     ?V0 + 5,?V0 + 1
// 2686   if ( pRsp )
        MOV     A,?V0 + 4
        XRL     A,#0x0
        JNZ     ??ZDO_ParseUserDescRsp_1
        MOV     A,?V0 + 5
        XRL     A,#0x0
??ZDO_ParseUserDescRsp_1:
        JZ      ??ZDO_ParseUserDescRsp_2
// 2687   {
// 2688     pRsp->status = msg[0];
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        MOVX    @DPTR,A
// 2689     pRsp->nwkAddr = BUILD_UINT16( msg[1], msg[2] );
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2690     pRsp->length = descLen;
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,?V0 + 3
        MOVX    @DPTR,A
// 2691     if ( descLen )
        MOV     A,?V0 + 3
        JZ      ??ZDO_ParseUserDescRsp_2
// 2692       osal_memcpy( pRsp->desc, &msg[4], descLen );
        ; Setup parameters for call to function osal_memcpy
        MOV     A,R6
        ADD     A,#0x4
        MOV     ?V0 + 0,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     ?V0 + 1,A
        MOV     ?V0 + 2,#0x0
        MOV     R0,#?V0 + 0
        LCALL   ?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 19)
        MOV     A,?V0 + 3
        MOV     ?V0 + 0,A
        MOV     R4,?V0 + 0
        MOV     R5,#0x0
        MOV     A,?V0 + 4
        ADD     A,#0x4
        MOV     R2,A
        MOV     A,?V0 + 5
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_memcpy?relay
        MOV     A,#0x3
        LCALL   ?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
// 2693   }
// 2694 
// 2695   return ( pRsp );
??ZDO_ParseUserDescRsp_2:
        MOV     R2,?V0 + 4
        MOV     R3,?V0 + 5
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock29
// 2696 }
// 2697 
// 2698 /*********************************************************************
// 2699  * @fn          ZDO_ParseSimpleDescBuf
// 2700  *
// 2701  * @brief       Parse a byte sequence representation of a Simple Descriptor.
// 2702  *
// 2703  * @param       buf  - pointer to a byte array representing a Simple Desc.
// 2704  * @param       desc - SimpleDescriptionFormat_t *
// 2705  *
// 2706  *              This routine allocates storage for the cluster IDs because
// 2707  *              they are 16-bit and need to be aligned to be properly processed.
// 2708  *              This routine returns non-zero if an allocation fails.
// 2709  *
// 2710  *              NOTE: This means that the caller or user of the input structure
// 2711  *                    is responsible for freeing the memory
// 2712  *
// 2713  * @return      0: success
// 2714  *              1: failure due to malloc failure.
// 2715  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2716 uint8 ZDO_ParseSimpleDescBuf( byte *buf, SimpleDescriptionFormat_t *desc )
ZDO_ParseSimpleDescBuf:
        CFI Block cfiBlock30 Using cfiCommon0
        CFI Function ZDO_ParseSimpleDescBuf
// 2717 {
        FUNCALL ZDO_ParseSimpleDescBuf, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseSimpleDescBuf, osal_mem_alloc
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL ZDO_ParseSimpleDescBuf, osal_mem_free
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 14, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 14, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xe
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 14)
        ; Saved register size: 14
        ; Auto size: 0
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
        MOV     ?V0 + 4,R4
        MOV     ?V0 + 5,R5
// 2718   uint8 num, i;
// 2719 
// 2720   desc->EndPoint = *buf++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        MOVX    @DPTR,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2721   desc->AppProfId = BUILD_UINT16( buf[0], buf[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2722   buf += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2723   desc->AppDeviceId = BUILD_UINT16( buf[0], buf[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2724   buf += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2725   desc->AppDevVer = *buf >> 4;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        SWAP    A
        ANL     A,#0xf
        PUSH    A
        CFI CFA_SP SP+-1
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf0
        MOV     R2,A
        POP     A
        CFI CFA_SP SP+0
        ORL     A,R2
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
// 2726 
// 2727   desc->Reserved = 0;
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ANL     A,#0xf
        MOVX    @DPTR,A
// 2728   buf++;
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
// 2729 
// 2730   // move in input cluster list (if any). allocate aligned memory.
// 2731   num = desc->AppNumInClusters = *buf++;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
        MOV     A,R2
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     ?V0 + 1,R2
// 2732   if ( num )
        MOV     A,?V0 + 1
        JNZ     $+5
        LJMP    ??ZDO_ParseSimpleDescBuf_0 & 0xFFFF
// 2733   {
// 2734     if (!(desc->pAppInClusterList = (uint16 *)osal_mem_alloc(num*sizeof(uint16))))
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R2,?V0 + 1
        MOV     R3,#0x0
        MOV     A,R2
        MOV     B,#0x2
        MUL     AB
        XCH     A,R2
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R3
        MUL     AB
        ADD     A,R4
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     R0,?V0 + 2
        MOV     R1,?V0 + 3
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
        MOV     A,R0
        XRL     A,#0x0
        JNZ     ??ZDO_ParseSimpleDescBuf_1
        MOV     A,R1
        XRL     A,#0x0
??ZDO_ParseSimpleDescBuf_1:
        JNZ     ??ZDO_ParseSimpleDescBuf_2
// 2735     {
// 2736       // malloc failed. we're done.
// 2737       return 1;
        MOV     R1,#0x1
        LJMP    ??ZDO_ParseSimpleDescBuf_3 & 0xFFFF
// 2738     }
// 2739     for (i=0; i<num; ++i)
??ZDO_ParseSimpleDescBuf_2:
        MOV     ?V0 + 0,#0x0
??ZDO_ParseSimpleDescBuf_4:
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,?V0 + 1
        JNC     ??ZDO_ParseSimpleDescBuf_0
// 2740     {
// 2741       desc->pAppInClusterList[i] = BUILD_UINT16( buf[0], buf[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R2,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R3,A
        MOV     R0,?V0 + 0
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R4
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,R0
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,R1
        MOV     DPL,R4
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2742       buf += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2743     }
        INC     ?V0 + 0
        SJMP    ??ZDO_ParseSimpleDescBuf_4
// 2744   }
// 2745 
// 2746   // move in output cluster list (if any). allocate aligned memory.
// 2747   num = desc->AppNumOutClusters = *buf++;
??ZDO_ParseSimpleDescBuf_0:
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOV     R6,DPL
        MOV     R7,DPH
        MOV     A,R2
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
        MOV     ?V0 + 1,R2
// 2748   if (num)
        MOV     A,?V0 + 1
        JNZ     $+5
        LJMP    ??ZDO_ParseSimpleDescBuf_5 & 0xFFFF
// 2749   {
// 2750     if (!(desc->pAppOutClusterList = (uint16 *)osal_mem_alloc(num*sizeof(uint16))))
        ; Setup parameters for call to function osal_mem_alloc
        MOV     R2,?V0 + 1
        MOV     R3,#0x0
        MOV     A,R2
        MOV     B,#0x2
        MUL     AB
        XCH     A,R2
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R3
        MUL     AB
        ADD     A,R4
        MOV     R3,A
        LCALL   ??osal_mem_alloc?relay
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     R0,?V0 + 2
        MOV     R1,?V0 + 3
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
        MOV     A,R0
        XRL     A,#0x0
        JNZ     ??ZDO_ParseSimpleDescBuf_6
        MOV     A,R1
        XRL     A,#0x0
??ZDO_ParseSimpleDescBuf_6:
        JNZ     ??ZDO_ParseSimpleDescBuf_7
// 2751     {
// 2752       // malloc failed. free input cluster list memory if there is any
// 2753       if (desc->pAppInClusterList)
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
        JNZ     ??ZDO_ParseSimpleDescBuf_8
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,#0x0
??ZDO_ParseSimpleDescBuf_8:
        JZ      ??ZDO_ParseSimpleDescBuf_9
// 2754       {
// 2755         osal_mem_free(desc->pAppInClusterList);
        ; Setup parameters for call to function osal_mem_free
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        LCALL   ??osal_mem_free?relay
// 2756       }
// 2757       return 1;
??ZDO_ParseSimpleDescBuf_9:
        MOV     R1,#0x1
        SJMP    ??ZDO_ParseSimpleDescBuf_3
// 2758     }
// 2759     for (i=0; i<num; ++i)
??ZDO_ParseSimpleDescBuf_7:
        MOV     ?V0 + 0,#0x0
??ZDO_ParseSimpleDescBuf_10:
        MOV     A,?V0 + 0
        CLR     C
        SUBB    A,?V0 + 1
        JNC     ??ZDO_ParseSimpleDescBuf_5
// 2760     {
// 2761       desc->pAppOutClusterList[i] = BUILD_UINT16( buf[0], buf[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R2,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R3,A
        MOV     R0,?V0 + 0
        MOV     R1,#0x0
        MOV     A,R0
        MOV     B,#0x2
        MUL     AB
        XCH     A,R0
        MOV     R4,B
        MOV     B,#0x0
        MUL     AB
        ADD     A,R4
        MOV     R4,A
        MOV     B,#0x2
        MOV     A,R1
        MUL     AB
        ADD     A,R4
        MOV     R1,A
        MOV     DPL,?V0 + 4
        MOV     DPH,?V0 + 5
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        ADD     A,R0
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        ADDC    A,R1
        MOV     DPL,R4
        MOV     DPH,A
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
// 2762       buf += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2763     }
        INC     ?V0 + 0
        SJMP    ??ZDO_ParseSimpleDescBuf_10
// 2764   }
// 2765   return 0;
??ZDO_ParseSimpleDescBuf_5:
        MOV     R1,#0x0
??ZDO_ParseSimpleDescBuf_3:
        MOV     R7,#0x6
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock30
// 2766 }
// 2767 
// 2768 /*********************************************************************
// 2769  * @fn          ZDO_ParseDeviceAnnce
// 2770  *
// 2771  * @brief       Parse a Device Announce message.
// 2772  *
// 2773  * @param       inMsg - Incoming message
// 2774  * @param       pAnnce - place to put the parsed information
// 2775  *
// 2776  * @return      none
// 2777  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2778 void ZDO_ParseDeviceAnnce( zdoIncomingMsg_t *inMsg, ZDO_DeviceAnnce_t *pAnnce )
ZDO_ParseDeviceAnnce:
        CFI Block cfiBlock31 Using cfiCommon0
        CFI Function ZDO_ParseDeviceAnnce
// 2779 {
        FUNCALL ZDO_ParseDeviceAnnce, osal_cpyExtAddr
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 12, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 12, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        MOV     A,#-0xc
        LCALL   ?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        ; Saved register size: 12
        ; Auto size: 0
        MOV     ?V0 + 2,R2
        MOV     ?V0 + 3,R3
        MOV     ?V0 + 0,R4
        MOV     ?V0 + 1,R5
// 2780   uint8 *msg;
// 2781 
// 2782   // Parse incoming message
// 2783   msg = inMsg->asdu;
        MOV     A,?V0 + 2
        ADD     A,#0x11
        MOV     DPL,A
        MOV     A,?V0 + 3
        ADDC    A,#0x0
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        MOV     R6,A
        MOV     A,R1
        MOV     R7,A
// 2784   pAnnce->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     R2,A
        MOV     R3,#0x0
        MOV     DPL,R6
        MOV     DPH,R7
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R0,A
        CLR     A
        XCH     A,R0
        MOV     R1,A
        MOV     A,R0
        ADD     A,R2
        MOV     R0,A
        MOV     A,R1
        ADDC    A,R3
        MOV     R1,A
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
// 2785   msg += 2;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2786   osal_cpyExtAddr( pAnnce->extAddr, msg );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV     A,R6
        MOV     R4,A
        MOV     A,R7
        MOV     R5,A
        MOV     A,?V0 + 0
        ADD     A,#0x2
        MOV     R2,A
        MOV     A,?V0 + 1
        ADDC    A,#0x0
        MOV     R3,A
        LCALL   ??osal_cpyExtAddr?relay
// 2787   msg += Z_EXTADDR_LEN;
        MOV     A,R6
        ADD     A,#0x8
        MOV     R6,A
        MOV     A,R7
        ADDC    A,#0x0
        MOV     R7,A
// 2788   pAnnce->capabilities = *msg;
        MOV     DPL,R6
        MOV     DPH,R7
        MOVX    A,@DPTR
        MOV     DPL,?V0 + 0
        MOV     DPH,?V0 + 1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        INC     DPTR
        MOVX    @DPTR,A
// 2789 }
        MOV     R7,#0x4
        LJMP    ?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock31

        RSEG XDATA_I:XDATA:NOROOT(0)
        DATA
__Constant_0:
        DS 4
        REQUIRE `?<Initializer for __Constant_0>`
        REQUIRE __INIT_XDATA_I

        RSEG XDATA_ID:CODE:NOROOT(0)
        DATA
`?<Initializer for __Constant_0>`:
        DD 0

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_Init?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_Init

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDODeviceSetup?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDODeviceSetup

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_StartDevice?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_StartDevice

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_UpdateNwkStatus?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_UpdateNwkStatus

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_RemoveEndDeviceBind?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_RemoveEndDeviceBind

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_SendEDBindRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_SendEDBindRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_AnyClusterMatches?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_AnyClusterMatches

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ProcessNodeDescReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ProcessNodeDescReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ProcessPowerDescReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ProcessPowerDescReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ProcessSimpleDescReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ProcessSimpleDescReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ProcessActiveEPReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ProcessActiveEPReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ConvertOTAClusters?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ConvertOTAClusters

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ProcessMatchDescReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ProcessMatchDescReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ProcessBindUnbindReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ProcessBindUnbindReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_UpdateAddrManager?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_UpdateAddrManager

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_EndDeviceTimeoutCB?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_EndDeviceTimeoutCB

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_BuildSimpleDescBuf?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_BuildSimpleDescBuf

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseEndDeviceBindReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseEndDeviceBindReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseBindUnbindReq?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseBindUnbindReq

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseAddrRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseAddrRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseNodeDescRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseNodeDescRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParsePowerDescRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParsePowerDescRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseSimpleDescRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseSimpleDescRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseEPListRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseEPListRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseServerDiscRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseServerDiscRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseMgmtLqiRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseMgmtLqiRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseMgmNwkDiscRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseMgmNwkDiscRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseMgmtRtgRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseMgmtRtgRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseMgmtBindRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseMgmtBindRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseUserDescRsp?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseUserDescRsp

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseSimpleDescBuf?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseSimpleDescBuf

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
??ZDO_ParseDeviceAnnce?relay:
        LCALL   ?BDISPATCH
        DATA
        DC24    ZDO_ParseDeviceAnnce

        END
// 2790 
// 2791 /*********************************************************************
// 2792 *********************************************************************/
// 2793 
// 2794 
// 
// 10 288 bytes in segment BANKED_CODE
//    192 bytes in segment BANK_RELAYS
//      4 bytes in segment XDATA_I
//      4 bytes in segment XDATA_ID
//     54 bytes in segment XDATA_Z
// 
// 10 480 bytes of CODE  memory (+ 4 bytes shared)
//     54 bytes of XDATA memory (+ 4 bytes shared)
//
//Errors: none
//Warnings: none
